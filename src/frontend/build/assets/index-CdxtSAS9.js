var uR=Object.defineProperty;var lC=s=>{throw TypeError(s)};var dR=(s,e,t)=>e in s?uR(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var ae=(s,e,t)=>dR(s,typeof e!="symbol"?e+"":e,t),sy=(s,e,t)=>e.has(s)||lC("Cannot "+t);var m=(s,e,t)=>(sy(s,e,"read from private field"),t?t.call(s):e.get(s)),D=(s,e,t)=>e.has(s)?lC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),P=(s,e,t,n)=>(sy(s,e,"write to private field"),n?n.call(s,t):e.set(s,t),t),L=(s,e,t)=>(sy(s,e,"access private method"),t);var is=(s,e,t,n)=>({set _(i){P(s,e,i,t)},get _(){return m(s,e,n)}});function hR(s,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in s)){const r=Object.getOwnPropertyDescriptor(n,i);r&&Object.defineProperty(s,i,r.get?r:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();function Tp(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var iy={exports:{}},lh={},ry={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cC;function fR(){if(cC)return qe;cC=1;var s=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),r=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.iterator;function x(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function S(H,Y,ce){this.props=H,this.context=Y,this.refs=w,this.updater=ce||y}S.prototype.isReactComponent={},S.prototype.setState=function(H,Y){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Y,"setState")},S.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function C(){}C.prototype=S.prototype;function j(H,Y,ce){this.props=H,this.context=Y,this.refs=w,this.updater=ce||y}var A=j.prototype=new C;A.constructor=j,b(A,S.prototype),A.isPureReactComponent=!0;var k=Array.isArray,T=Object.prototype.hasOwnProperty,I={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function F(H,Y,ce){var fe,ye={},de=null,xe=null;if(Y!=null)for(fe in Y.ref!==void 0&&(xe=Y.ref),Y.key!==void 0&&(de=""+Y.key),Y)T.call(Y,fe)&&!M.hasOwnProperty(fe)&&(ye[fe]=Y[fe]);var ke=arguments.length-2;if(ke===1)ye.children=ce;else if(1<ke){for(var Me=Array(ke),Re=0;Re<ke;Re++)Me[Re]=arguments[Re+2];ye.children=Me}if(H&&H.defaultProps)for(fe in ke=H.defaultProps,ke)ye[fe]===void 0&&(ye[fe]=ke[fe]);return{$$typeof:s,type:H,key:de,ref:xe,props:ye,_owner:I.current}}function B(H,Y){return{$$typeof:s,type:H.type,key:Y,ref:H.ref,props:H.props,_owner:H._owner}}function O(H){return typeof H=="object"&&H!==null&&H.$$typeof===s}function W(H){var Y={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ce){return Y[ce]})}var J=/\/+/g;function ie(H,Y){return typeof H=="object"&&H!==null&&H.key!=null?W(""+H.key):Y.toString(36)}function se(H,Y,ce,fe,ye){var de=typeof H;(de==="undefined"||de==="boolean")&&(H=null);var xe=!1;if(H===null)xe=!0;else switch(de){case"string":case"number":xe=!0;break;case"object":switch(H.$$typeof){case s:case e:xe=!0}}if(xe)return xe=H,ye=ye(xe),H=fe===""?"."+ie(xe,0):fe,k(ye)?(ce="",H!=null&&(ce=H.replace(J,"$&/")+"/"),se(ye,Y,ce,"",function(Re){return Re})):ye!=null&&(O(ye)&&(ye=B(ye,ce+(!ye.key||xe&&xe.key===ye.key?"":(""+ye.key).replace(J,"$&/")+"/")+H)),Y.push(ye)),1;if(xe=0,fe=fe===""?".":fe+":",k(H))for(var ke=0;ke<H.length;ke++){de=H[ke];var Me=fe+ie(de,ke);xe+=se(de,Y,ce,Me,ye)}else if(Me=x(H),typeof Me=="function")for(H=Me.call(H),ke=0;!(de=H.next()).done;)de=de.value,Me=fe+ie(de,ke++),xe+=se(de,Y,ce,Me,ye);else if(de==="object")throw Y=String(H),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return xe}function $(H,Y,ce){if(H==null)return H;var fe=[],ye=0;return se(H,fe,"","",function(de){return Y.call(ce,de,ye++)}),fe}function ee(H){if(H._status===-1){var Y=H._result;Y=Y(),Y.then(function(ce){(H._status===0||H._status===-1)&&(H._status=1,H._result=ce)},function(ce){(H._status===0||H._status===-1)&&(H._status=2,H._result=ce)}),H._status===-1&&(H._status=0,H._result=Y)}if(H._status===1)return H._result.default;throw H._result}var V={current:null},G={transition:null},X={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:G,ReactCurrentOwner:I};function ne(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:$,forEach:function(H,Y,ce){$(H,function(){Y.apply(this,arguments)},ce)},count:function(H){var Y=0;return $(H,function(){Y++}),Y},toArray:function(H){return $(H,function(Y){return Y})||[]},only:function(H){if(!O(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},qe.Component=S,qe.Fragment=t,qe.Profiler=i,qe.PureComponent=j,qe.StrictMode=n,qe.Suspense=u,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,qe.act=ne,qe.cloneElement=function(H,Y,ce){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var fe=b({},H.props),ye=H.key,de=H.ref,xe=H._owner;if(Y!=null){if(Y.ref!==void 0&&(de=Y.ref,xe=I.current),Y.key!==void 0&&(ye=""+Y.key),H.type&&H.type.defaultProps)var ke=H.type.defaultProps;for(Me in Y)T.call(Y,Me)&&!M.hasOwnProperty(Me)&&(fe[Me]=Y[Me]===void 0&&ke!==void 0?ke[Me]:Y[Me])}var Me=arguments.length-2;if(Me===1)fe.children=ce;else if(1<Me){ke=Array(Me);for(var Re=0;Re<Me;Re++)ke[Re]=arguments[Re+2];fe.children=ke}return{$$typeof:s,type:H.type,key:ye,ref:de,props:fe,_owner:xe}},qe.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:r,_context:H},H.Consumer=H},qe.createElement=F,qe.createFactory=function(H){var Y=F.bind(null,H);return Y.type=H,Y},qe.createRef=function(){return{current:null}},qe.forwardRef=function(H){return{$$typeof:l,render:H}},qe.isValidElement=O,qe.lazy=function(H){return{$$typeof:f,_payload:{_status:-1,_result:H},_init:ee}},qe.memo=function(H,Y){return{$$typeof:d,type:H,compare:Y===void 0?null:Y}},qe.startTransition=function(H){var Y=G.transition;G.transition={};try{H()}finally{G.transition=Y}},qe.unstable_act=ne,qe.useCallback=function(H,Y){return V.current.useCallback(H,Y)},qe.useContext=function(H){return V.current.useContext(H)},qe.useDebugValue=function(){},qe.useDeferredValue=function(H){return V.current.useDeferredValue(H)},qe.useEffect=function(H,Y){return V.current.useEffect(H,Y)},qe.useId=function(){return V.current.useId()},qe.useImperativeHandle=function(H,Y,ce){return V.current.useImperativeHandle(H,Y,ce)},qe.useInsertionEffect=function(H,Y){return V.current.useInsertionEffect(H,Y)},qe.useLayoutEffect=function(H,Y){return V.current.useLayoutEffect(H,Y)},qe.useMemo=function(H,Y){return V.current.useMemo(H,Y)},qe.useReducer=function(H,Y,ce){return V.current.useReducer(H,Y,ce)},qe.useRef=function(H){return V.current.useRef(H)},qe.useState=function(H){return V.current.useState(H)},qe.useSyncExternalStore=function(H,Y,ce){return V.current.useSyncExternalStore(H,Y,ce)},qe.useTransition=function(){return V.current.useTransition()},qe.version="18.3.1",qe}var uC;function R1(){return uC||(uC=1,ry.exports=fR()),ry.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dC;function pR(){if(dC)return lh;dC=1;var s=R1(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,d){var f,g={},x=null,y=null;d!==void 0&&(x=""+d),u.key!==void 0&&(x=""+u.key),u.ref!==void 0&&(y=u.ref);for(f in u)n.call(u,f)&&!r.hasOwnProperty(f)&&(g[f]=u[f]);if(l&&l.defaultProps)for(f in u=l.defaultProps,u)g[f]===void 0&&(g[f]=u[f]);return{$$typeof:e,type:l,key:x,ref:y,props:g,_owner:i.current}}return lh.Fragment=t,lh.jsx=o,lh.jsxs=o,lh}var hC;function mR(){return hC||(hC=1,iy.exports=pR()),iy.exports}var h=mR(),N=R1();const He=Tp(N),gR=hR({__proto__:null,default:He},[N]);var eg={},oy={exports:{}},bs={},ay={exports:{}},ly={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fC;function xR(){return fC||(fC=1,function(s){function e(G,X){var ne=G.length;G.push(X);e:for(;0<ne;){var H=ne-1>>>1,Y=G[H];if(0<i(Y,X))G[H]=X,G[ne]=Y,ne=H;else break e}}function t(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var X=G[0],ne=G.pop();if(ne!==X){G[0]=ne;e:for(var H=0,Y=G.length,ce=Y>>>1;H<ce;){var fe=2*(H+1)-1,ye=G[fe],de=fe+1,xe=G[de];if(0>i(ye,ne))de<Y&&0>i(xe,ye)?(G[H]=xe,G[de]=ne,H=de):(G[H]=ye,G[fe]=ne,H=fe);else if(de<Y&&0>i(xe,ne))G[H]=xe,G[de]=ne,H=de;else break e}}return X}function i(G,X){var ne=G.sortIndex-X.sortIndex;return ne!==0?ne:G.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;s.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();s.unstable_now=function(){return o.now()-l}}var u=[],d=[],f=1,g=null,x=3,y=!1,b=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(G){for(var X=t(d);X!==null;){if(X.callback===null)n(d);else if(X.startTime<=G)n(d),X.sortIndex=X.expirationTime,e(u,X);else break;X=t(d)}}function k(G){if(w=!1,A(G),!b)if(t(u)!==null)b=!0,ee(T);else{var X=t(d);X!==null&&V(k,X.startTime-G)}}function T(G,X){b=!1,w&&(w=!1,C(F),F=-1),y=!0;var ne=x;try{for(A(X),g=t(u);g!==null&&(!(g.expirationTime>X)||G&&!W());){var H=g.callback;if(typeof H=="function"){g.callback=null,x=g.priorityLevel;var Y=H(g.expirationTime<=X);X=s.unstable_now(),typeof Y=="function"?g.callback=Y:g===t(u)&&n(u),A(X)}else n(u);g=t(u)}if(g!==null)var ce=!0;else{var fe=t(d);fe!==null&&V(k,fe.startTime-X),ce=!1}return ce}finally{g=null,x=ne,y=!1}}var I=!1,M=null,F=-1,B=5,O=-1;function W(){return!(s.unstable_now()-O<B)}function J(){if(M!==null){var G=s.unstable_now();O=G;var X=!0;try{X=M(!0,G)}finally{X?ie():(I=!1,M=null)}}else I=!1}var ie;if(typeof j=="function")ie=function(){j(J)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,$=se.port2;se.port1.onmessage=J,ie=function(){$.postMessage(null)}}else ie=function(){S(J,0)};function ee(G){M=G,I||(I=!0,ie())}function V(G,X){F=S(function(){G(s.unstable_now())},X)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_continueExecution=function(){b||y||(b=!0,ee(T))},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_getFirstCallbackNode=function(){return t(u)},s.unstable_next=function(G){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var ne=x;x=X;try{return G()}finally{x=ne}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(G,X){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ne=x;x=G;try{return X()}finally{x=ne}},s.unstable_scheduleCallback=function(G,X,ne){var H=s.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?H+ne:H):ne=H,G){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ne+Y,G={id:f++,callback:X,priorityLevel:G,startTime:ne,expirationTime:Y,sortIndex:-1},ne>H?(G.sortIndex=ne,e(d,G),t(u)===null&&G===t(d)&&(w?(C(F),F=-1):w=!0,V(k,ne-H))):(G.sortIndex=Y,e(u,G),b||y||(b=!0,ee(T))),G},s.unstable_shouldYield=W,s.unstable_wrapCallback=function(G){var X=x;return function(){var ne=x;x=X;try{return G.apply(this,arguments)}finally{x=ne}}}}(ly)),ly}var pC;function vR(){return pC||(pC=1,ay.exports=xR()),ay.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mC;function yR(){if(mC)return bs;mC=1;var s=R1(),e=vR();function t(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,p=1;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function r(a,c){o(a,c),o(a+"Capture",c)}function o(a,c){for(i[a]=c,a=0;a<c.length;a++)n.add(c[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},g={};function x(a){return u.call(g,a)?!0:u.call(f,a)?!1:d.test(a)?g[a]=!0:(f[a]=!0,!1)}function y(a,c,p,v){if(p!==null&&p.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return v?!1:p!==null?!p.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function b(a,c,p,v){if(c===null||typeof c>"u"||y(a,c,p,v))return!0;if(v)return!1;if(p!==null)switch(p.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(a,c,p,v,_,E,R){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=v,this.attributeNamespace=_,this.mustUseProperty=p,this.propertyName=a,this.type=c,this.sanitizeURL=E,this.removeEmptyString=R}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){S[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];S[c]=new w(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){S[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){S[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){S[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){S[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){S[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){S[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){S[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function j(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(C,j);S[c]=new w(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(C,j);S[c]=new w(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(C,j);S[c]=new w(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){S[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),S.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){S[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function A(a,c,p,v){var _=S.hasOwnProperty(c)?S[c]:null;(_!==null?_.type!==0:v||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(b(c,p,_,v)&&(p=null),v||_===null?x(c)&&(p===null?a.removeAttribute(c):a.setAttribute(c,""+p)):_.mustUseProperty?a[_.propertyName]=p===null?_.type===3?!1:"":p:(c=_.attributeName,v=_.attributeNamespace,p===null?a.removeAttribute(c):(_=_.type,p=_===3||_===4&&p===!0?"":""+p,v?a.setAttributeNS(v,c,p):a.setAttribute(c,p))))}var k=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),I=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),W=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),G=Symbol.iterator;function X(a){return a===null||typeof a!="object"?null:(a=G&&a[G]||a["@@iterator"],typeof a=="function"?a:null)}var ne=Object.assign,H;function Y(a){if(H===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);H=c&&c[1]||""}return`
`+H+a}var ce=!1;function fe(a,c){if(!a||ce)return"";ce=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Z){var v=Z}Reflect.construct(a,[],c)}else{try{c.call()}catch(Z){v=Z}a.call(c.prototype)}else{try{throw Error()}catch(Z){v=Z}a()}}catch(Z){if(Z&&v&&typeof Z.stack=="string"){for(var _=Z.stack.split(`
`),E=v.stack.split(`
`),R=_.length-1,z=E.length-1;1<=R&&0<=z&&_[R]!==E[z];)z--;for(;1<=R&&0<=z;R--,z--)if(_[R]!==E[z]){if(R!==1||z!==1)do if(R--,z--,0>z||_[R]!==E[z]){var U=`
`+_[R].replace(" at new "," at ");return a.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",a.displayName)),U}while(1<=R&&0<=z);break}}}finally{ce=!1,Error.prepareStackTrace=p}return(a=a?a.displayName||a.name:"")?Y(a):""}function ye(a){switch(a.tag){case 5:return Y(a.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return a=fe(a.type,!1),a;case 11:return a=fe(a.type.render,!1),a;case 1:return a=fe(a.type,!0),a;default:return""}}function de(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case M:return"Fragment";case I:return"Portal";case B:return"Profiler";case F:return"StrictMode";case ie:return"Suspense";case se:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case W:return(a.displayName||"Context")+".Consumer";case O:return(a._context.displayName||"Context")+".Provider";case J:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case $:return c=a.displayName||null,c!==null?c:de(a.type)||"Memo";case ee:c=a._payload,a=a._init;try{return de(a(c))}catch{}}return null}function xe(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(c);case 8:return c===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function ke(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Me(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Re(a){var c=Me(a)?"checked":"value",p=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),v=""+a[c];if(!a.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var _=p.get,E=p.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return _.call(this)},set:function(R){v=""+R,E.call(this,R)}}),Object.defineProperty(a,c,{enumerable:p.enumerable}),{getValue:function(){return v},setValue:function(R){v=""+R},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function ht(a){a._valueTracker||(a._valueTracker=Re(a))}function Zt(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var p=c.getValue(),v="";return a&&(v=Me(a)?a.checked?"true":"false":a.value),a=v,a!==p?(c.setValue(a),!0):!1}function We(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function nt(a,c){var p=c.checked;return ne({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??a._wrapperState.initialChecked})}function Ct(a,c){var p=c.defaultValue==null?"":c.defaultValue,v=c.checked!=null?c.checked:c.defaultChecked;p=ke(c.value!=null?c.value:p),a._wrapperState={initialChecked:v,initialValue:p,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function ot(a,c){c=c.checked,c!=null&&A(a,"checked",c,!1)}function Ne(a,c){ot(a,c);var p=ke(c.value),v=c.type;if(p!=null)v==="number"?(p===0&&a.value===""||a.value!=p)&&(a.value=""+p):a.value!==""+p&&(a.value=""+p);else if(v==="submit"||v==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?et(a,c.type,p):c.hasOwnProperty("defaultValue")&&et(a,c.type,ke(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function $e(a,c,p){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var v=c.type;if(!(v!=="submit"&&v!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,p||c===a.value||(a.value=c),a.defaultValue=c}p=a.name,p!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,p!==""&&(a.name=p)}function et(a,c,p){(c!=="number"||We(a.ownerDocument)!==a)&&(p==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+p&&(a.defaultValue=""+p))}var pe=Array.isArray;function Nt(a,c,p,v){if(a=a.options,c){c={};for(var _=0;_<p.length;_++)c["$"+p[_]]=!0;for(p=0;p<a.length;p++)_=c.hasOwnProperty("$"+a[p].value),a[p].selected!==_&&(a[p].selected=_),_&&v&&(a[p].defaultSelected=!0)}else{for(p=""+ke(p),c=null,_=0;_<a.length;_++){if(a[_].value===p){a[_].selected=!0,v&&(a[_].defaultSelected=!0);return}c!==null||a[_].disabled||(c=a[_])}c!==null&&(c.selected=!0)}}function ps(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(t(91));return ne({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function st(a,c){var p=c.value;if(p==null){if(p=c.children,c=c.defaultValue,p!=null){if(c!=null)throw Error(t(92));if(pe(p)){if(1<p.length)throw Error(t(93));p=p[0]}c=p}c==null&&(c=""),p=c}a._wrapperState={initialValue:ke(p)}}function Ji(a,c){var p=ke(c.value),v=ke(c.defaultValue);p!=null&&(p=""+p,p!==a.value&&(a.value=p),c.defaultValue==null&&a.defaultValue!==p&&(a.defaultValue=p)),v!=null&&(a.defaultValue=""+v)}function ts(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function Fa(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zs(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?Fa(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var _i,jr=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,p,v,_){MSApp.execUnsafeLocalFunction(function(){return a(c,p,v,_)})}:a}(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(_i=_i||document.createElement("div"),_i.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=_i.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function Si(a,c){if(c){var p=a.firstChild;if(p&&p===a.lastChild&&p.nodeType===3){p.nodeValue=c;return}}a.textContent=c}var Oa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yx=["Webkit","ms","Moz","O"];Object.keys(Oa).forEach(function(a){yx.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),Oa[c]=Oa[a]})});function Ed(a,c,p){return c==null||typeof c=="boolean"||c===""?"":p||typeof c!="number"||c===0||Oa.hasOwnProperty(a)&&Oa[a]?(""+c).trim():c+"px"}function Wp(a,c){a=a.style;for(var p in c)if(c.hasOwnProperty(p)){var v=p.indexOf("--")===0,_=Ed(p,c[p],v);p==="float"&&(p="cssFloat"),v?a.setProperty(p,_):a[p]=_}}var Wt=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xn(a,c){if(c){if(Wt[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(t(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(t(61))}if(c.style!=null&&typeof c.style!="object")throw Error(t(62))}}function an(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vn=null;function Nn(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var zn=null,Ci=null,Eo=null;function kc(a){if(a=Gd(a)){if(typeof zn!="function")throw Error(t(280));var c=a.stateNode;c&&(c=mm(c),zn(a.stateNode,a.type,c))}}function za(a){Ci?Eo?Eo.push(a):Eo=[a]:Ci=a}function qp(){if(Ci){var a=Ci,c=Eo;if(Eo=Ci=null,kc(a),c)for(a=0;a<c.length;a++)kc(c[a])}}function jw(a,c){return a(c)}function Nw(){}var bx=!1;function Tw(a,c,p){if(bx)return a(c,p);bx=!0;try{return jw(a,c,p)}finally{bx=!1,(Ci!==null||Eo!==null)&&(Nw(),qp())}}function Ad(a,c){var p=a.stateNode;if(p===null)return null;var v=mm(p);if(v===null)return null;p=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(a=a.type,v=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!v;break e;default:a=!1}if(a)return null;if(p&&typeof p!="function")throw Error(t(231,c,typeof p));return p}var wx=!1;if(l)try{var kd={};Object.defineProperty(kd,"passive",{get:function(){wx=!0}}),window.addEventListener("test",kd,kd),window.removeEventListener("test",kd,kd)}catch{wx=!1}function gT(a,c,p,v,_,E,R,z,U){var Z=Array.prototype.slice.call(arguments,3);try{c.apply(p,Z)}catch(oe){this.onError(oe)}}var jd=!1,Gp=null,Xp=!1,_x=null,xT={onError:function(a){jd=!0,Gp=a}};function vT(a,c,p,v,_,E,R,z,U){jd=!1,Gp=null,gT.apply(xT,arguments)}function yT(a,c,p,v,_,E,R,z,U){if(vT.apply(this,arguments),jd){if(jd){var Z=Gp;jd=!1,Gp=null}else throw Error(t(198));Xp||(Xp=!0,_x=Z)}}function Ba(a){var c=a,p=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,c.flags&4098&&(p=c.return),a=c.return;while(a)}return c.tag===3?p:null}function Pw(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function Rw(a){if(Ba(a)!==a)throw Error(t(188))}function bT(a){var c=a.alternate;if(!c){if(c=Ba(a),c===null)throw Error(t(188));return c!==a?null:a}for(var p=a,v=c;;){var _=p.return;if(_===null)break;var E=_.alternate;if(E===null){if(v=_.return,v!==null){p=v;continue}break}if(_.child===E.child){for(E=_.child;E;){if(E===p)return Rw(_),a;if(E===v)return Rw(_),c;E=E.sibling}throw Error(t(188))}if(p.return!==v.return)p=_,v=E;else{for(var R=!1,z=_.child;z;){if(z===p){R=!0,p=_,v=E;break}if(z===v){R=!0,v=_,p=E;break}z=z.sibling}if(!R){for(z=E.child;z;){if(z===p){R=!0,p=E,v=_;break}if(z===v){R=!0,v=E,p=_;break}z=z.sibling}if(!R)throw Error(t(189))}}if(p.alternate!==v)throw Error(t(190))}if(p.tag!==3)throw Error(t(188));return p.stateNode.current===p?a:c}function Lw(a){return a=bT(a),a!==null?Iw(a):null}function Iw(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=Iw(a);if(c!==null)return c;a=a.sibling}return null}var Mw=e.unstable_scheduleCallback,Dw=e.unstable_cancelCallback,wT=e.unstable_shouldYield,_T=e.unstable_requestPaint,qt=e.unstable_now,ST=e.unstable_getCurrentPriorityLevel,Sx=e.unstable_ImmediatePriority,Fw=e.unstable_UserBlockingPriority,Kp=e.unstable_NormalPriority,CT=e.unstable_LowPriority,Ow=e.unstable_IdlePriority,Yp=null,Qi=null;function ET(a){if(Qi&&typeof Qi.onCommitFiberRoot=="function")try{Qi.onCommitFiberRoot(Yp,a,void 0,(a.current.flags&128)===128)}catch{}}var Ei=Math.clz32?Math.clz32:jT,AT=Math.log,kT=Math.LN2;function jT(a){return a>>>=0,a===0?32:31-(AT(a)/kT|0)|0}var Jp=64,Qp=4194304;function Nd(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Zp(a,c){var p=a.pendingLanes;if(p===0)return 0;var v=0,_=a.suspendedLanes,E=a.pingedLanes,R=p&268435455;if(R!==0){var z=R&~_;z!==0?v=Nd(z):(E&=R,E!==0&&(v=Nd(E)))}else R=p&~_,R!==0?v=Nd(R):E!==0&&(v=Nd(E));if(v===0)return 0;if(c!==0&&c!==v&&!(c&_)&&(_=v&-v,E=c&-c,_>=E||_===16&&(E&4194240)!==0))return c;if(v&4&&(v|=p&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=v;0<c;)p=31-Ei(c),_=1<<p,v|=a[p],c&=~_;return v}function NT(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TT(a,c){for(var p=a.suspendedLanes,v=a.pingedLanes,_=a.expirationTimes,E=a.pendingLanes;0<E;){var R=31-Ei(E),z=1<<R,U=_[R];U===-1?(!(z&p)||z&v)&&(_[R]=NT(z,c)):U<=c&&(a.expiredLanes|=z),E&=~z}}function Cx(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function zw(){var a=Jp;return Jp<<=1,!(Jp&4194240)&&(Jp=64),a}function Ex(a){for(var c=[],p=0;31>p;p++)c.push(a);return c}function Td(a,c,p){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-Ei(c),a[c]=p}function PT(a,c){var p=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var v=a.eventTimes;for(a=a.expirationTimes;0<p;){var _=31-Ei(p),E=1<<_;c[_]=0,v[_]=-1,a[_]=-1,p&=~E}}function Ax(a,c){var p=a.entangledLanes|=c;for(a=a.entanglements;p;){var v=31-Ei(p),_=1<<v;_&c|a[v]&c&&(a[v]|=c),p&=~_}}var ft=0;function Bw(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var Hw,kx,Vw,$w,Uw,jx=!1,em=[],Ao=null,ko=null,jo=null,Pd=new Map,Rd=new Map,No=[],RT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ww(a,c){switch(a){case"focusin":case"focusout":Ao=null;break;case"dragenter":case"dragleave":ko=null;break;case"mouseover":case"mouseout":jo=null;break;case"pointerover":case"pointerout":Pd.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rd.delete(c.pointerId)}}function Ld(a,c,p,v,_,E){return a===null||a.nativeEvent!==E?(a={blockedOn:c,domEventName:p,eventSystemFlags:v,nativeEvent:E,targetContainers:[_]},c!==null&&(c=Gd(c),c!==null&&kx(c)),a):(a.eventSystemFlags|=v,c=a.targetContainers,_!==null&&c.indexOf(_)===-1&&c.push(_),a)}function LT(a,c,p,v,_){switch(c){case"focusin":return Ao=Ld(Ao,a,c,p,v,_),!0;case"dragenter":return ko=Ld(ko,a,c,p,v,_),!0;case"mouseover":return jo=Ld(jo,a,c,p,v,_),!0;case"pointerover":var E=_.pointerId;return Pd.set(E,Ld(Pd.get(E)||null,a,c,p,v,_)),!0;case"gotpointercapture":return E=_.pointerId,Rd.set(E,Ld(Rd.get(E)||null,a,c,p,v,_)),!0}return!1}function qw(a){var c=Ha(a.target);if(c!==null){var p=Ba(c);if(p!==null){if(c=p.tag,c===13){if(c=Pw(p),c!==null){a.blockedOn=c,Uw(a.priority,function(){Vw(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){a.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}a.blockedOn=null}function tm(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var p=Tx(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(p===null){p=a.nativeEvent;var v=new p.constructor(p.type,p);vn=v,p.target.dispatchEvent(v),vn=null}else return c=Gd(p),c!==null&&kx(c),a.blockedOn=p,!1;c.shift()}return!0}function Gw(a,c,p){tm(a)&&p.delete(c)}function IT(){jx=!1,Ao!==null&&tm(Ao)&&(Ao=null),ko!==null&&tm(ko)&&(ko=null),jo!==null&&tm(jo)&&(jo=null),Pd.forEach(Gw),Rd.forEach(Gw)}function Id(a,c){a.blockedOn===c&&(a.blockedOn=null,jx||(jx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,IT)))}function Md(a){function c(_){return Id(_,a)}if(0<em.length){Id(em[0],a);for(var p=1;p<em.length;p++){var v=em[p];v.blockedOn===a&&(v.blockedOn=null)}}for(Ao!==null&&Id(Ao,a),ko!==null&&Id(ko,a),jo!==null&&Id(jo,a),Pd.forEach(c),Rd.forEach(c),p=0;p<No.length;p++)v=No[p],v.blockedOn===a&&(v.blockedOn=null);for(;0<No.length&&(p=No[0],p.blockedOn===null);)qw(p),p.blockedOn===null&&No.shift()}var jc=k.ReactCurrentBatchConfig,nm=!0;function MT(a,c,p,v){var _=ft,E=jc.transition;jc.transition=null;try{ft=1,Nx(a,c,p,v)}finally{ft=_,jc.transition=E}}function DT(a,c,p,v){var _=ft,E=jc.transition;jc.transition=null;try{ft=4,Nx(a,c,p,v)}finally{ft=_,jc.transition=E}}function Nx(a,c,p,v){if(nm){var _=Tx(a,c,p,v);if(_===null)Gx(a,c,v,sm,p),Ww(a,v);else if(LT(_,a,c,p,v))v.stopPropagation();else if(Ww(a,v),c&4&&-1<RT.indexOf(a)){for(;_!==null;){var E=Gd(_);if(E!==null&&Hw(E),E=Tx(a,c,p,v),E===null&&Gx(a,c,v,sm,p),E===_)break;_=E}_!==null&&v.stopPropagation()}else Gx(a,c,v,null,p)}}var sm=null;function Tx(a,c,p,v){if(sm=null,a=Nn(v),a=Ha(a),a!==null)if(c=Ba(a),c===null)a=null;else if(p=c.tag,p===13){if(a=Pw(c),a!==null)return a;a=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return sm=a,null}function Xw(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ST()){case Sx:return 1;case Fw:return 4;case Kp:case CT:return 16;case Ow:return 536870912;default:return 16}default:return 16}}var To=null,Px=null,im=null;function Kw(){if(im)return im;var a,c=Px,p=c.length,v,_="value"in To?To.value:To.textContent,E=_.length;for(a=0;a<p&&c[a]===_[a];a++);var R=p-a;for(v=1;v<=R&&c[p-v]===_[E-v];v++);return im=_.slice(a,1<v?1-v:void 0)}function rm(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function om(){return!0}function Yw(){return!1}function Ls(a){function c(p,v,_,E,R){this._reactName=p,this._targetInst=_,this.type=v,this.nativeEvent=E,this.target=R,this.currentTarget=null;for(var z in a)a.hasOwnProperty(z)&&(p=a[z],this[z]=p?p(E):E[z]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?om:Yw,this.isPropagationStopped=Yw,this}return ne(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=om)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=om)},persist:function(){},isPersistent:om}),c}var Nc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rx=Ls(Nc),Dd=ne({},Nc,{view:0,detail:0}),FT=Ls(Dd),Lx,Ix,Fd,am=ne({},Dd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dx,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Fd&&(Fd&&a.type==="mousemove"?(Lx=a.screenX-Fd.screenX,Ix=a.screenY-Fd.screenY):Ix=Lx=0,Fd=a),Lx)},movementY:function(a){return"movementY"in a?a.movementY:Ix}}),Jw=Ls(am),OT=ne({},am,{dataTransfer:0}),zT=Ls(OT),BT=ne({},Dd,{relatedTarget:0}),Mx=Ls(BT),HT=ne({},Nc,{animationName:0,elapsedTime:0,pseudoElement:0}),VT=Ls(HT),$T=ne({},Nc,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),UT=Ls($T),WT=ne({},Nc,{data:0}),Qw=Ls(WT),qT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KT(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=XT[a])?!!c[a]:!1}function Dx(){return KT}var YT=ne({},Dd,{key:function(a){if(a.key){var c=qT[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=rm(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?GT[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dx,charCode:function(a){return a.type==="keypress"?rm(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?rm(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),JT=Ls(YT),QT=ne({},am,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zw=Ls(QT),ZT=ne({},Dd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dx}),eP=Ls(ZT),tP=ne({},Nc,{propertyName:0,elapsedTime:0,pseudoElement:0}),nP=Ls(tP),sP=ne({},am,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),iP=Ls(sP),rP=[9,13,27,32],Fx=l&&"CompositionEvent"in window,Od=null;l&&"documentMode"in document&&(Od=document.documentMode);var oP=l&&"TextEvent"in window&&!Od,e_=l&&(!Fx||Od&&8<Od&&11>=Od),t_=" ",n_=!1;function s_(a,c){switch(a){case"keyup":return rP.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i_(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Tc=!1;function aP(a,c){switch(a){case"compositionend":return i_(c);case"keypress":return c.which!==32?null:(n_=!0,t_);case"textInput":return a=c.data,a===t_&&n_?null:a;default:return null}}function lP(a,c){if(Tc)return a==="compositionend"||!Fx&&s_(a,c)?(a=Kw(),im=Px=To=null,Tc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return e_&&c.locale!=="ko"?null:c.data;default:return null}}var cP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r_(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!cP[a.type]:c==="textarea"}function o_(a,c,p,v){za(v),c=hm(c,"onChange"),0<c.length&&(p=new Rx("onChange","change",null,p,v),a.push({event:p,listeners:c}))}var zd=null,Bd=null;function uP(a){C_(a,0)}function lm(a){var c=Mc(a);if(Zt(c))return a}function dP(a,c){if(a==="change")return c}var a_=!1;if(l){var Ox;if(l){var zx="oninput"in document;if(!zx){var l_=document.createElement("div");l_.setAttribute("oninput","return;"),zx=typeof l_.oninput=="function"}Ox=zx}else Ox=!1;a_=Ox&&(!document.documentMode||9<document.documentMode)}function c_(){zd&&(zd.detachEvent("onpropertychange",u_),Bd=zd=null)}function u_(a){if(a.propertyName==="value"&&lm(Bd)){var c=[];o_(c,Bd,a,Nn(a)),Tw(uP,c)}}function hP(a,c,p){a==="focusin"?(c_(),zd=c,Bd=p,zd.attachEvent("onpropertychange",u_)):a==="focusout"&&c_()}function fP(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return lm(Bd)}function pP(a,c){if(a==="click")return lm(c)}function mP(a,c){if(a==="input"||a==="change")return lm(c)}function gP(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var Ai=typeof Object.is=="function"?Object.is:gP;function Hd(a,c){if(Ai(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var p=Object.keys(a),v=Object.keys(c);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var _=p[v];if(!u.call(c,_)||!Ai(a[_],c[_]))return!1}return!0}function d_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function h_(a,c){var p=d_(a);a=0;for(var v;p;){if(p.nodeType===3){if(v=a+p.textContent.length,a<=c&&v>=c)return{node:p,offset:c-a};a=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=d_(p)}}function f_(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?f_(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function p_(){for(var a=window,c=We();c instanceof a.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)a=c.contentWindow;else break;c=We(a.document)}return c}function Bx(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function xP(a){var c=p_(),p=a.focusedElem,v=a.selectionRange;if(c!==p&&p&&p.ownerDocument&&f_(p.ownerDocument.documentElement,p)){if(v!==null&&Bx(p)){if(c=v.start,a=v.end,a===void 0&&(a=c),"selectionStart"in p)p.selectionStart=c,p.selectionEnd=Math.min(a,p.value.length);else if(a=(c=p.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var _=p.textContent.length,E=Math.min(v.start,_);v=v.end===void 0?E:Math.min(v.end,_),!a.extend&&E>v&&(_=v,v=E,E=_),_=h_(p,E);var R=h_(p,v);_&&R&&(a.rangeCount!==1||a.anchorNode!==_.node||a.anchorOffset!==_.offset||a.focusNode!==R.node||a.focusOffset!==R.offset)&&(c=c.createRange(),c.setStart(_.node,_.offset),a.removeAllRanges(),E>v?(a.addRange(c),a.extend(R.node,R.offset)):(c.setEnd(R.node,R.offset),a.addRange(c)))}}for(c=[],a=p;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<c.length;p++)a=c[p],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var vP=l&&"documentMode"in document&&11>=document.documentMode,Pc=null,Hx=null,Vd=null,Vx=!1;function m_(a,c,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Vx||Pc==null||Pc!==We(v)||(v=Pc,"selectionStart"in v&&Bx(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Vd&&Hd(Vd,v)||(Vd=v,v=hm(Hx,"onSelect"),0<v.length&&(c=new Rx("onSelect","select",null,c,p),a.push({event:c,listeners:v}),c.target=Pc)))}function cm(a,c){var p={};return p[a.toLowerCase()]=c.toLowerCase(),p["Webkit"+a]="webkit"+c,p["Moz"+a]="moz"+c,p}var Rc={animationend:cm("Animation","AnimationEnd"),animationiteration:cm("Animation","AnimationIteration"),animationstart:cm("Animation","AnimationStart"),transitionend:cm("Transition","TransitionEnd")},$x={},g_={};l&&(g_=document.createElement("div").style,"AnimationEvent"in window||(delete Rc.animationend.animation,delete Rc.animationiteration.animation,delete Rc.animationstart.animation),"TransitionEvent"in window||delete Rc.transitionend.transition);function um(a){if($x[a])return $x[a];if(!Rc[a])return a;var c=Rc[a],p;for(p in c)if(c.hasOwnProperty(p)&&p in g_)return $x[a]=c[p];return a}var x_=um("animationend"),v_=um("animationiteration"),y_=um("animationstart"),b_=um("transitionend"),w_=new Map,__="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Po(a,c){w_.set(a,c),r(c,[a])}for(var Ux=0;Ux<__.length;Ux++){var Wx=__[Ux],yP=Wx.toLowerCase(),bP=Wx[0].toUpperCase()+Wx.slice(1);Po(yP,"on"+bP)}Po(x_,"onAnimationEnd"),Po(v_,"onAnimationIteration"),Po(y_,"onAnimationStart"),Po("dblclick","onDoubleClick"),Po("focusin","onFocus"),Po("focusout","onBlur"),Po(b_,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),r("onBeforeInput",["compositionend","keypress","textInput","paste"]),r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $d="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wP=new Set("cancel close invalid load scroll toggle".split(" ").concat($d));function S_(a,c,p){var v=a.type||"unknown-event";a.currentTarget=p,yT(v,c,void 0,a),a.currentTarget=null}function C_(a,c){c=(c&4)!==0;for(var p=0;p<a.length;p++){var v=a[p],_=v.event;v=v.listeners;e:{var E=void 0;if(c)for(var R=v.length-1;0<=R;R--){var z=v[R],U=z.instance,Z=z.currentTarget;if(z=z.listener,U!==E&&_.isPropagationStopped())break e;S_(_,z,Z),E=U}else for(R=0;R<v.length;R++){if(z=v[R],U=z.instance,Z=z.currentTarget,z=z.listener,U!==E&&_.isPropagationStopped())break e;S_(_,z,Z),E=U}}}if(Xp)throw a=_x,Xp=!1,_x=null,a}function Tt(a,c){var p=c[Zx];p===void 0&&(p=c[Zx]=new Set);var v=a+"__bubble";p.has(v)||(E_(c,a,2,!1),p.add(v))}function qx(a,c,p){var v=0;c&&(v|=4),E_(p,a,v,c)}var dm="_reactListening"+Math.random().toString(36).slice(2);function Ud(a){if(!a[dm]){a[dm]=!0,n.forEach(function(p){p!=="selectionchange"&&(wP.has(p)||qx(p,!1,a),qx(p,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[dm]||(c[dm]=!0,qx("selectionchange",!1,c))}}function E_(a,c,p,v){switch(Xw(c)){case 1:var _=MT;break;case 4:_=DT;break;default:_=Nx}p=_.bind(null,c,p,a),_=void 0,!wx||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(_=!0),v?_!==void 0?a.addEventListener(c,p,{capture:!0,passive:_}):a.addEventListener(c,p,!0):_!==void 0?a.addEventListener(c,p,{passive:_}):a.addEventListener(c,p,!1)}function Gx(a,c,p,v,_){var E=v;if(!(c&1)&&!(c&2)&&v!==null)e:for(;;){if(v===null)return;var R=v.tag;if(R===3||R===4){var z=v.stateNode.containerInfo;if(z===_||z.nodeType===8&&z.parentNode===_)break;if(R===4)for(R=v.return;R!==null;){var U=R.tag;if((U===3||U===4)&&(U=R.stateNode.containerInfo,U===_||U.nodeType===8&&U.parentNode===_))return;R=R.return}for(;z!==null;){if(R=Ha(z),R===null)return;if(U=R.tag,U===5||U===6){v=E=R;continue e}z=z.parentNode}}v=v.return}Tw(function(){var Z=E,oe=Nn(p),ue=[];e:{var re=w_.get(a);if(re!==void 0){var be=Rx,Se=a;switch(a){case"keypress":if(rm(p)===0)break e;case"keydown":case"keyup":be=JT;break;case"focusin":Se="focus",be=Mx;break;case"focusout":Se="blur",be=Mx;break;case"beforeblur":case"afterblur":be=Mx;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Jw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=zT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=eP;break;case x_:case v_:case y_:be=VT;break;case b_:be=nP;break;case"scroll":be=FT;break;case"wheel":be=iP;break;case"copy":case"cut":case"paste":be=UT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=Zw}var Ce=(c&4)!==0,Gt=!Ce&&a==="scroll",K=Ce?re!==null?re+"Capture":null:re;Ce=[];for(var q=Z,Q;q!==null;){Q=q;var he=Q.stateNode;if(Q.tag===5&&he!==null&&(Q=he,K!==null&&(he=Ad(q,K),he!=null&&Ce.push(Wd(q,he,Q)))),Gt)break;q=q.return}0<Ce.length&&(re=new be(re,Se,null,p,oe),ue.push({event:re,listeners:Ce}))}}if(!(c&7)){e:{if(re=a==="mouseover"||a==="pointerover",be=a==="mouseout"||a==="pointerout",re&&p!==vn&&(Se=p.relatedTarget||p.fromElement)&&(Ha(Se)||Se[Nr]))break e;if((be||re)&&(re=oe.window===oe?oe:(re=oe.ownerDocument)?re.defaultView||re.parentWindow:window,be?(Se=p.relatedTarget||p.toElement,be=Z,Se=Se?Ha(Se):null,Se!==null&&(Gt=Ba(Se),Se!==Gt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(be=null,Se=Z),be!==Se)){if(Ce=Jw,he="onMouseLeave",K="onMouseEnter",q="mouse",(a==="pointerout"||a==="pointerover")&&(Ce=Zw,he="onPointerLeave",K="onPointerEnter",q="pointer"),Gt=be==null?re:Mc(be),Q=Se==null?re:Mc(Se),re=new Ce(he,q+"leave",be,p,oe),re.target=Gt,re.relatedTarget=Q,he=null,Ha(oe)===Z&&(Ce=new Ce(K,q+"enter",Se,p,oe),Ce.target=Q,Ce.relatedTarget=Gt,he=Ce),Gt=he,be&&Se)t:{for(Ce=be,K=Se,q=0,Q=Ce;Q;Q=Lc(Q))q++;for(Q=0,he=K;he;he=Lc(he))Q++;for(;0<q-Q;)Ce=Lc(Ce),q--;for(;0<Q-q;)K=Lc(K),Q--;for(;q--;){if(Ce===K||K!==null&&Ce===K.alternate)break t;Ce=Lc(Ce),K=Lc(K)}Ce=null}else Ce=null;be!==null&&A_(ue,re,be,Ce,!1),Se!==null&&Gt!==null&&A_(ue,Gt,Se,Ce,!0)}}e:{if(re=Z?Mc(Z):window,be=re.nodeName&&re.nodeName.toLowerCase(),be==="select"||be==="input"&&re.type==="file")var Ee=dP;else if(r_(re))if(a_)Ee=mP;else{Ee=fP;var Te=hP}else(be=re.nodeName)&&be.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Ee=pP);if(Ee&&(Ee=Ee(a,Z))){o_(ue,Ee,p,oe);break e}Te&&Te(a,re,Z),a==="focusout"&&(Te=re._wrapperState)&&Te.controlled&&re.type==="number"&&et(re,"number",re.value)}switch(Te=Z?Mc(Z):window,a){case"focusin":(r_(Te)||Te.contentEditable==="true")&&(Pc=Te,Hx=Z,Vd=null);break;case"focusout":Vd=Hx=Pc=null;break;case"mousedown":Vx=!0;break;case"contextmenu":case"mouseup":case"dragend":Vx=!1,m_(ue,p,oe);break;case"selectionchange":if(vP)break;case"keydown":case"keyup":m_(ue,p,oe)}var Pe;if(Fx)e:{switch(a){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Tc?s_(a,p)&&(Le="onCompositionEnd"):a==="keydown"&&p.keyCode===229&&(Le="onCompositionStart");Le&&(e_&&p.locale!=="ko"&&(Tc||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Tc&&(Pe=Kw()):(To=oe,Px="value"in To?To.value:To.textContent,Tc=!0)),Te=hm(Z,Le),0<Te.length&&(Le=new Qw(Le,a,null,p,oe),ue.push({event:Le,listeners:Te}),Pe?Le.data=Pe:(Pe=i_(p),Pe!==null&&(Le.data=Pe)))),(Pe=oP?aP(a,p):lP(a,p))&&(Z=hm(Z,"onBeforeInput"),0<Z.length&&(oe=new Qw("onBeforeInput","beforeinput",null,p,oe),ue.push({event:oe,listeners:Z}),oe.data=Pe))}C_(ue,c)})}function Wd(a,c,p){return{instance:a,listener:c,currentTarget:p}}function hm(a,c){for(var p=c+"Capture",v=[];a!==null;){var _=a,E=_.stateNode;_.tag===5&&E!==null&&(_=E,E=Ad(a,p),E!=null&&v.unshift(Wd(a,E,_)),E=Ad(a,c),E!=null&&v.push(Wd(a,E,_))),a=a.return}return v}function Lc(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function A_(a,c,p,v,_){for(var E=c._reactName,R=[];p!==null&&p!==v;){var z=p,U=z.alternate,Z=z.stateNode;if(U!==null&&U===v)break;z.tag===5&&Z!==null&&(z=Z,_?(U=Ad(p,E),U!=null&&R.unshift(Wd(p,U,z))):_||(U=Ad(p,E),U!=null&&R.push(Wd(p,U,z)))),p=p.return}R.length!==0&&a.push({event:c,listeners:R})}var _P=/\r\n?/g,SP=/\u0000|\uFFFD/g;function k_(a){return(typeof a=="string"?a:""+a).replace(_P,`
`).replace(SP,"")}function fm(a,c,p){if(c=k_(c),k_(a)!==c&&p)throw Error(t(425))}function pm(){}var Xx=null,Kx=null;function Yx(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Jx=typeof setTimeout=="function"?setTimeout:void 0,CP=typeof clearTimeout=="function"?clearTimeout:void 0,j_=typeof Promise=="function"?Promise:void 0,EP=typeof queueMicrotask=="function"?queueMicrotask:typeof j_<"u"?function(a){return j_.resolve(null).then(a).catch(AP)}:Jx;function AP(a){setTimeout(function(){throw a})}function Qx(a,c){var p=c,v=0;do{var _=p.nextSibling;if(a.removeChild(p),_&&_.nodeType===8)if(p=_.data,p==="/$"){if(v===0){a.removeChild(_),Md(c);return}v--}else p!=="$"&&p!=="$?"&&p!=="$!"||v++;p=_}while(p);Md(c)}function Ro(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function N_(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var p=a.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return a;c--}else p==="/$"&&c++}a=a.previousSibling}return null}var Ic=Math.random().toString(36).slice(2),Zi="__reactFiber$"+Ic,qd="__reactProps$"+Ic,Nr="__reactContainer$"+Ic,Zx="__reactEvents$"+Ic,kP="__reactListeners$"+Ic,jP="__reactHandles$"+Ic;function Ha(a){var c=a[Zi];if(c)return c;for(var p=a.parentNode;p;){if(c=p[Nr]||p[Zi]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(a=N_(a);a!==null;){if(p=a[Zi])return p;a=N_(a)}return c}a=p,p=a.parentNode}return null}function Gd(a){return a=a[Zi]||a[Nr],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Mc(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function mm(a){return a[qd]||null}var ev=[],Dc=-1;function Lo(a){return{current:a}}function Pt(a){0>Dc||(a.current=ev[Dc],ev[Dc]=null,Dc--)}function Et(a,c){Dc++,ev[Dc]=a.current,a.current=c}var Io={},Bn=Lo(Io),ms=Lo(!1),Va=Io;function Fc(a,c){var p=a.type.contextTypes;if(!p)return Io;var v=a.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===c)return v.__reactInternalMemoizedMaskedChildContext;var _={},E;for(E in p)_[E]=c[E];return v&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=_),_}function gs(a){return a=a.childContextTypes,a!=null}function gm(){Pt(ms),Pt(Bn)}function T_(a,c,p){if(Bn.current!==Io)throw Error(t(168));Et(Bn,c),Et(ms,p)}function P_(a,c,p){var v=a.stateNode;if(c=c.childContextTypes,typeof v.getChildContext!="function")return p;v=v.getChildContext();for(var _ in v)if(!(_ in c))throw Error(t(108,xe(a)||"Unknown",_));return ne({},p,v)}function xm(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Io,Va=Bn.current,Et(Bn,a),Et(ms,ms.current),!0}function R_(a,c,p){var v=a.stateNode;if(!v)throw Error(t(169));p?(a=P_(a,c,Va),v.__reactInternalMemoizedMergedChildContext=a,Pt(ms),Pt(Bn),Et(Bn,a)):Pt(ms),Et(ms,p)}var Tr=null,vm=!1,tv=!1;function L_(a){Tr===null?Tr=[a]:Tr.push(a)}function NP(a){vm=!0,L_(a)}function Mo(){if(!tv&&Tr!==null){tv=!0;var a=0,c=ft;try{var p=Tr;for(ft=1;a<p.length;a++){var v=p[a];do v=v(!0);while(v!==null)}Tr=null,vm=!1}catch(_){throw Tr!==null&&(Tr=Tr.slice(a+1)),Mw(Sx,Mo),_}finally{ft=c,tv=!1}}return null}var Oc=[],zc=0,ym=null,bm=0,ei=[],ti=0,$a=null,Pr=1,Rr="";function Ua(a,c){Oc[zc++]=bm,Oc[zc++]=ym,ym=a,bm=c}function I_(a,c,p){ei[ti++]=Pr,ei[ti++]=Rr,ei[ti++]=$a,$a=a;var v=Pr;a=Rr;var _=32-Ei(v)-1;v&=~(1<<_),p+=1;var E=32-Ei(c)+_;if(30<E){var R=_-_%5;E=(v&(1<<R)-1).toString(32),v>>=R,_-=R,Pr=1<<32-Ei(c)+_|p<<_|v,Rr=E+a}else Pr=1<<E|p<<_|v,Rr=a}function nv(a){a.return!==null&&(Ua(a,1),I_(a,1,0))}function sv(a){for(;a===ym;)ym=Oc[--zc],Oc[zc]=null,bm=Oc[--zc],Oc[zc]=null;for(;a===$a;)$a=ei[--ti],ei[ti]=null,Rr=ei[--ti],ei[ti]=null,Pr=ei[--ti],ei[ti]=null}var Is=null,Ms=null,It=!1,ki=null;function M_(a,c){var p=ri(5,null,null,0);p.elementType="DELETED",p.stateNode=c,p.return=a,c=a.deletions,c===null?(a.deletions=[p],a.flags|=16):c.push(p)}function D_(a,c){switch(a.tag){case 5:var p=a.type;return c=c.nodeType!==1||p.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,Is=a,Ms=Ro(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,Is=a,Ms=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(p=$a!==null?{id:Pr,overflow:Rr}:null,a.memoizedState={dehydrated:c,treeContext:p,retryLane:1073741824},p=ri(18,null,null,0),p.stateNode=c,p.return=a,a.child=p,Is=a,Ms=null,!0):!1;default:return!1}}function iv(a){return(a.mode&1)!==0&&(a.flags&128)===0}function rv(a){if(It){var c=Ms;if(c){var p=c;if(!D_(a,c)){if(iv(a))throw Error(t(418));c=Ro(p.nextSibling);var v=Is;c&&D_(a,c)?M_(v,p):(a.flags=a.flags&-4097|2,It=!1,Is=a)}}else{if(iv(a))throw Error(t(418));a.flags=a.flags&-4097|2,It=!1,Is=a}}}function F_(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Is=a}function wm(a){if(a!==Is)return!1;if(!It)return F_(a),It=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!Yx(a.type,a.memoizedProps)),c&&(c=Ms)){if(iv(a))throw O_(),Error(t(418));for(;c;)M_(a,c),c=Ro(c.nextSibling)}if(F_(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var p=a.data;if(p==="/$"){if(c===0){Ms=Ro(a.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++}a=a.nextSibling}Ms=null}}else Ms=Is?Ro(a.stateNode.nextSibling):null;return!0}function O_(){for(var a=Ms;a;)a=Ro(a.nextSibling)}function Bc(){Ms=Is=null,It=!1}function ov(a){ki===null?ki=[a]:ki.push(a)}var TP=k.ReactCurrentBatchConfig;function Xd(a,c,p){if(a=p.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(t(309));var v=p.stateNode}if(!v)throw Error(t(147,a));var _=v,E=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===E?c.ref:(c=function(R){var z=_.refs;R===null?delete z[E]:z[E]=R},c._stringRef=E,c)}if(typeof a!="string")throw Error(t(284));if(!p._owner)throw Error(t(290,a))}return a}function _m(a,c){throw a=Object.prototype.toString.call(c),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function z_(a){var c=a._init;return c(a._payload)}function B_(a){function c(K,q){if(a){var Q=K.deletions;Q===null?(K.deletions=[q],K.flags|=16):Q.push(q)}}function p(K,q){if(!a)return null;for(;q!==null;)c(K,q),q=q.sibling;return null}function v(K,q){for(K=new Map;q!==null;)q.key!==null?K.set(q.key,q):K.set(q.index,q),q=q.sibling;return K}function _(K,q){return K=$o(K,q),K.index=0,K.sibling=null,K}function E(K,q,Q){return K.index=Q,a?(Q=K.alternate,Q!==null?(Q=Q.index,Q<q?(K.flags|=2,q):Q):(K.flags|=2,q)):(K.flags|=1048576,q)}function R(K){return a&&K.alternate===null&&(K.flags|=2),K}function z(K,q,Q,he){return q===null||q.tag!==6?(q=Jv(Q,K.mode,he),q.return=K,q):(q=_(q,Q),q.return=K,q)}function U(K,q,Q,he){var Ee=Q.type;return Ee===M?oe(K,q,Q.props.children,he,Q.key):q!==null&&(q.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ee&&z_(Ee)===q.type)?(he=_(q,Q.props),he.ref=Xd(K,q,Q),he.return=K,he):(he=qm(Q.type,Q.key,Q.props,null,K.mode,he),he.ref=Xd(K,q,Q),he.return=K,he)}function Z(K,q,Q,he){return q===null||q.tag!==4||q.stateNode.containerInfo!==Q.containerInfo||q.stateNode.implementation!==Q.implementation?(q=Qv(Q,K.mode,he),q.return=K,q):(q=_(q,Q.children||[]),q.return=K,q)}function oe(K,q,Q,he,Ee){return q===null||q.tag!==7?(q=Qa(Q,K.mode,he,Ee),q.return=K,q):(q=_(q,Q),q.return=K,q)}function ue(K,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number")return q=Jv(""+q,K.mode,Q),q.return=K,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case T:return Q=qm(q.type,q.key,q.props,null,K.mode,Q),Q.ref=Xd(K,null,q),Q.return=K,Q;case I:return q=Qv(q,K.mode,Q),q.return=K,q;case ee:var he=q._init;return ue(K,he(q._payload),Q)}if(pe(q)||X(q))return q=Qa(q,K.mode,Q,null),q.return=K,q;_m(K,q)}return null}function re(K,q,Q,he){var Ee=q!==null?q.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ee!==null?null:z(K,q,""+Q,he);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case T:return Q.key===Ee?U(K,q,Q,he):null;case I:return Q.key===Ee?Z(K,q,Q,he):null;case ee:return Ee=Q._init,re(K,q,Ee(Q._payload),he)}if(pe(Q)||X(Q))return Ee!==null?null:oe(K,q,Q,he,null);_m(K,Q)}return null}function be(K,q,Q,he,Ee){if(typeof he=="string"&&he!==""||typeof he=="number")return K=K.get(Q)||null,z(q,K,""+he,Ee);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case T:return K=K.get(he.key===null?Q:he.key)||null,U(q,K,he,Ee);case I:return K=K.get(he.key===null?Q:he.key)||null,Z(q,K,he,Ee);case ee:var Te=he._init;return be(K,q,Q,Te(he._payload),Ee)}if(pe(he)||X(he))return K=K.get(Q)||null,oe(q,K,he,Ee,null);_m(q,he)}return null}function Se(K,q,Q,he){for(var Ee=null,Te=null,Pe=q,Le=q=0,wn=null;Pe!==null&&Le<Q.length;Le++){Pe.index>Le?(wn=Pe,Pe=null):wn=Pe.sibling;var it=re(K,Pe,Q[Le],he);if(it===null){Pe===null&&(Pe=wn);break}a&&Pe&&it.alternate===null&&c(K,Pe),q=E(it,q,Le),Te===null?Ee=it:Te.sibling=it,Te=it,Pe=wn}if(Le===Q.length)return p(K,Pe),It&&Ua(K,Le),Ee;if(Pe===null){for(;Le<Q.length;Le++)Pe=ue(K,Q[Le],he),Pe!==null&&(q=E(Pe,q,Le),Te===null?Ee=Pe:Te.sibling=Pe,Te=Pe);return It&&Ua(K,Le),Ee}for(Pe=v(K,Pe);Le<Q.length;Le++)wn=be(Pe,K,Le,Q[Le],he),wn!==null&&(a&&wn.alternate!==null&&Pe.delete(wn.key===null?Le:wn.key),q=E(wn,q,Le),Te===null?Ee=wn:Te.sibling=wn,Te=wn);return a&&Pe.forEach(function(Uo){return c(K,Uo)}),It&&Ua(K,Le),Ee}function Ce(K,q,Q,he){var Ee=X(Q);if(typeof Ee!="function")throw Error(t(150));if(Q=Ee.call(Q),Q==null)throw Error(t(151));for(var Te=Ee=null,Pe=q,Le=q=0,wn=null,it=Q.next();Pe!==null&&!it.done;Le++,it=Q.next()){Pe.index>Le?(wn=Pe,Pe=null):wn=Pe.sibling;var Uo=re(K,Pe,it.value,he);if(Uo===null){Pe===null&&(Pe=wn);break}a&&Pe&&Uo.alternate===null&&c(K,Pe),q=E(Uo,q,Le),Te===null?Ee=Uo:Te.sibling=Uo,Te=Uo,Pe=wn}if(it.done)return p(K,Pe),It&&Ua(K,Le),Ee;if(Pe===null){for(;!it.done;Le++,it=Q.next())it=ue(K,it.value,he),it!==null&&(q=E(it,q,Le),Te===null?Ee=it:Te.sibling=it,Te=it);return It&&Ua(K,Le),Ee}for(Pe=v(K,Pe);!it.done;Le++,it=Q.next())it=be(Pe,K,Le,it.value,he),it!==null&&(a&&it.alternate!==null&&Pe.delete(it.key===null?Le:it.key),q=E(it,q,Le),Te===null?Ee=it:Te.sibling=it,Te=it);return a&&Pe.forEach(function(cR){return c(K,cR)}),It&&Ua(K,Le),Ee}function Gt(K,q,Q,he){if(typeof Q=="object"&&Q!==null&&Q.type===M&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case T:e:{for(var Ee=Q.key,Te=q;Te!==null;){if(Te.key===Ee){if(Ee=Q.type,Ee===M){if(Te.tag===7){p(K,Te.sibling),q=_(Te,Q.props.children),q.return=K,K=q;break e}}else if(Te.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ee&&z_(Ee)===Te.type){p(K,Te.sibling),q=_(Te,Q.props),q.ref=Xd(K,Te,Q),q.return=K,K=q;break e}p(K,Te);break}else c(K,Te);Te=Te.sibling}Q.type===M?(q=Qa(Q.props.children,K.mode,he,Q.key),q.return=K,K=q):(he=qm(Q.type,Q.key,Q.props,null,K.mode,he),he.ref=Xd(K,q,Q),he.return=K,K=he)}return R(K);case I:e:{for(Te=Q.key;q!==null;){if(q.key===Te)if(q.tag===4&&q.stateNode.containerInfo===Q.containerInfo&&q.stateNode.implementation===Q.implementation){p(K,q.sibling),q=_(q,Q.children||[]),q.return=K,K=q;break e}else{p(K,q);break}else c(K,q);q=q.sibling}q=Qv(Q,K.mode,he),q.return=K,K=q}return R(K);case ee:return Te=Q._init,Gt(K,q,Te(Q._payload),he)}if(pe(Q))return Se(K,q,Q,he);if(X(Q))return Ce(K,q,Q,he);_m(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,q!==null&&q.tag===6?(p(K,q.sibling),q=_(q,Q),q.return=K,K=q):(p(K,q),q=Jv(Q,K.mode,he),q.return=K,K=q),R(K)):p(K,q)}return Gt}var Hc=B_(!0),H_=B_(!1),Sm=Lo(null),Cm=null,Vc=null,av=null;function lv(){av=Vc=Cm=null}function cv(a){var c=Sm.current;Pt(Sm),a._currentValue=c}function uv(a,c,p){for(;a!==null;){var v=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),a===p)break;a=a.return}}function $c(a,c){Cm=a,av=Vc=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&c&&(xs=!0),a.firstContext=null)}function ni(a){var c=a._currentValue;if(av!==a)if(a={context:a,memoizedValue:c,next:null},Vc===null){if(Cm===null)throw Error(t(308));Vc=a,Cm.dependencies={lanes:0,firstContext:a}}else Vc=Vc.next=a;return c}var Wa=null;function dv(a){Wa===null?Wa=[a]:Wa.push(a)}function V_(a,c,p,v){var _=c.interleaved;return _===null?(p.next=p,dv(c)):(p.next=_.next,_.next=p),c.interleaved=p,Lr(a,v)}function Lr(a,c){a.lanes|=c;var p=a.alternate;for(p!==null&&(p.lanes|=c),p=a,a=a.return;a!==null;)a.childLanes|=c,p=a.alternate,p!==null&&(p.childLanes|=c),p=a,a=a.return;return p.tag===3?p.stateNode:null}var Do=!1;function hv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $_(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ir(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function Fo(a,c,p){var v=a.updateQueue;if(v===null)return null;if(v=v.shared,tt&2){var _=v.pending;return _===null?c.next=c:(c.next=_.next,_.next=c),v.pending=c,Lr(a,p)}return _=v.interleaved,_===null?(c.next=c,dv(v)):(c.next=_.next,_.next=c),v.interleaved=c,Lr(a,p)}function Em(a,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194240)!==0)){var v=c.lanes;v&=a.pendingLanes,p|=v,c.lanes=p,Ax(a,p)}}function U_(a,c){var p=a.updateQueue,v=a.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var _=null,E=null;if(p=p.firstBaseUpdate,p!==null){do{var R={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};E===null?_=E=R:E=E.next=R,p=p.next}while(p!==null);E===null?_=E=c:E=E.next=c}else _=E=c;p={baseState:v.baseState,firstBaseUpdate:_,lastBaseUpdate:E,shared:v.shared,effects:v.effects},a.updateQueue=p;return}a=p.lastBaseUpdate,a===null?p.firstBaseUpdate=c:a.next=c,p.lastBaseUpdate=c}function Am(a,c,p,v){var _=a.updateQueue;Do=!1;var E=_.firstBaseUpdate,R=_.lastBaseUpdate,z=_.shared.pending;if(z!==null){_.shared.pending=null;var U=z,Z=U.next;U.next=null,R===null?E=Z:R.next=Z,R=U;var oe=a.alternate;oe!==null&&(oe=oe.updateQueue,z=oe.lastBaseUpdate,z!==R&&(z===null?oe.firstBaseUpdate=Z:z.next=Z,oe.lastBaseUpdate=U))}if(E!==null){var ue=_.baseState;R=0,oe=Z=U=null,z=E;do{var re=z.lane,be=z.eventTime;if((v&re)===re){oe!==null&&(oe=oe.next={eventTime:be,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Se=a,Ce=z;switch(re=c,be=p,Ce.tag){case 1:if(Se=Ce.payload,typeof Se=="function"){ue=Se.call(be,ue,re);break e}ue=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ce.payload,re=typeof Se=="function"?Se.call(be,ue,re):Se,re==null)break e;ue=ne({},ue,re);break e;case 2:Do=!0}}z.callback!==null&&z.lane!==0&&(a.flags|=64,re=_.effects,re===null?_.effects=[z]:re.push(z))}else be={eventTime:be,lane:re,tag:z.tag,payload:z.payload,callback:z.callback,next:null},oe===null?(Z=oe=be,U=ue):oe=oe.next=be,R|=re;if(z=z.next,z===null){if(z=_.shared.pending,z===null)break;re=z,z=re.next,re.next=null,_.lastBaseUpdate=re,_.shared.pending=null}}while(!0);if(oe===null&&(U=ue),_.baseState=U,_.firstBaseUpdate=Z,_.lastBaseUpdate=oe,c=_.shared.interleaved,c!==null){_=c;do R|=_.lane,_=_.next;while(_!==c)}else E===null&&(_.shared.lanes=0);Xa|=R,a.lanes=R,a.memoizedState=ue}}function W_(a,c,p){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var v=a[c],_=v.callback;if(_!==null){if(v.callback=null,v=p,typeof _!="function")throw Error(t(191,_));_.call(v)}}}var Kd={},er=Lo(Kd),Yd=Lo(Kd),Jd=Lo(Kd);function qa(a){if(a===Kd)throw Error(t(174));return a}function fv(a,c){switch(Et(Jd,c),Et(Yd,a),Et(er,Kd),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Zs(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=Zs(c,a)}Pt(er),Et(er,c)}function Uc(){Pt(er),Pt(Yd),Pt(Jd)}function q_(a){qa(Jd.current);var c=qa(er.current),p=Zs(c,a.type);c!==p&&(Et(Yd,a),Et(er,p))}function pv(a){Yd.current===a&&(Pt(er),Pt(Yd))}var Dt=Lo(0);function km(a){for(var c=a;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(c.flags&128)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var mv=[];function gv(){for(var a=0;a<mv.length;a++)mv[a]._workInProgressVersionPrimary=null;mv.length=0}var jm=k.ReactCurrentDispatcher,xv=k.ReactCurrentBatchConfig,Ga=0,Ft=null,ln=null,yn=null,Nm=!1,Qd=!1,Zd=0,PP=0;function Hn(){throw Error(t(321))}function vv(a,c){if(c===null)return!1;for(var p=0;p<c.length&&p<a.length;p++)if(!Ai(a[p],c[p]))return!1;return!0}function yv(a,c,p,v,_,E){if(Ga=E,Ft=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,jm.current=a===null||a.memoizedState===null?MP:DP,a=p(v,_),Qd){E=0;do{if(Qd=!1,Zd=0,25<=E)throw Error(t(301));E+=1,yn=ln=null,c.updateQueue=null,jm.current=FP,a=p(v,_)}while(Qd)}if(jm.current=Rm,c=ln!==null&&ln.next!==null,Ga=0,yn=ln=Ft=null,Nm=!1,c)throw Error(t(300));return a}function bv(){var a=Zd!==0;return Zd=0,a}function tr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?Ft.memoizedState=yn=a:yn=yn.next=a,yn}function si(){if(ln===null){var a=Ft.alternate;a=a!==null?a.memoizedState:null}else a=ln.next;var c=yn===null?Ft.memoizedState:yn.next;if(c!==null)yn=c,ln=a;else{if(a===null)throw Error(t(310));ln=a,a={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},yn===null?Ft.memoizedState=yn=a:yn=yn.next=a}return yn}function eh(a,c){return typeof c=="function"?c(a):c}function wv(a){var c=si(),p=c.queue;if(p===null)throw Error(t(311));p.lastRenderedReducer=a;var v=ln,_=v.baseQueue,E=p.pending;if(E!==null){if(_!==null){var R=_.next;_.next=E.next,E.next=R}v.baseQueue=_=E,p.pending=null}if(_!==null){E=_.next,v=v.baseState;var z=R=null,U=null,Z=E;do{var oe=Z.lane;if((Ga&oe)===oe)U!==null&&(U=U.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),v=Z.hasEagerState?Z.eagerState:a(v,Z.action);else{var ue={lane:oe,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};U===null?(z=U=ue,R=v):U=U.next=ue,Ft.lanes|=oe,Xa|=oe}Z=Z.next}while(Z!==null&&Z!==E);U===null?R=v:U.next=z,Ai(v,c.memoizedState)||(xs=!0),c.memoizedState=v,c.baseState=R,c.baseQueue=U,p.lastRenderedState=v}if(a=p.interleaved,a!==null){_=a;do E=_.lane,Ft.lanes|=E,Xa|=E,_=_.next;while(_!==a)}else _===null&&(p.lanes=0);return[c.memoizedState,p.dispatch]}function _v(a){var c=si(),p=c.queue;if(p===null)throw Error(t(311));p.lastRenderedReducer=a;var v=p.dispatch,_=p.pending,E=c.memoizedState;if(_!==null){p.pending=null;var R=_=_.next;do E=a(E,R.action),R=R.next;while(R!==_);Ai(E,c.memoizedState)||(xs=!0),c.memoizedState=E,c.baseQueue===null&&(c.baseState=E),p.lastRenderedState=E}return[E,v]}function G_(){}function X_(a,c){var p=Ft,v=si(),_=c(),E=!Ai(v.memoizedState,_);if(E&&(v.memoizedState=_,xs=!0),v=v.queue,Sv(J_.bind(null,p,v,a),[a]),v.getSnapshot!==c||E||yn!==null&&yn.memoizedState.tag&1){if(p.flags|=2048,th(9,Y_.bind(null,p,v,_,c),void 0,null),bn===null)throw Error(t(349));Ga&30||K_(p,c,_)}return _}function K_(a,c,p){a.flags|=16384,a={getSnapshot:c,value:p},c=Ft.updateQueue,c===null?(c={lastEffect:null,stores:null},Ft.updateQueue=c,c.stores=[a]):(p=c.stores,p===null?c.stores=[a]:p.push(a))}function Y_(a,c,p,v){c.value=p,c.getSnapshot=v,Q_(c)&&Z_(a)}function J_(a,c,p){return p(function(){Q_(c)&&Z_(a)})}function Q_(a){var c=a.getSnapshot;a=a.value;try{var p=c();return!Ai(a,p)}catch{return!0}}function Z_(a){var c=Lr(a,1);c!==null&&Pi(c,a,1,-1)}function eS(a){var c=tr();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eh,lastRenderedState:a},c.queue=a,a=a.dispatch=IP.bind(null,Ft,a),[c.memoizedState,a]}function th(a,c,p,v){return a={tag:a,create:c,destroy:p,deps:v,next:null},c=Ft.updateQueue,c===null?(c={lastEffect:null,stores:null},Ft.updateQueue=c,c.lastEffect=a.next=a):(p=c.lastEffect,p===null?c.lastEffect=a.next=a:(v=p.next,p.next=a,a.next=v,c.lastEffect=a)),a}function tS(){return si().memoizedState}function Tm(a,c,p,v){var _=tr();Ft.flags|=a,_.memoizedState=th(1|c,p,void 0,v===void 0?null:v)}function Pm(a,c,p,v){var _=si();v=v===void 0?null:v;var E=void 0;if(ln!==null){var R=ln.memoizedState;if(E=R.destroy,v!==null&&vv(v,R.deps)){_.memoizedState=th(c,p,E,v);return}}Ft.flags|=a,_.memoizedState=th(1|c,p,E,v)}function nS(a,c){return Tm(8390656,8,a,c)}function Sv(a,c){return Pm(2048,8,a,c)}function sS(a,c){return Pm(4,2,a,c)}function iS(a,c){return Pm(4,4,a,c)}function rS(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function oS(a,c,p){return p=p!=null?p.concat([a]):null,Pm(4,4,rS.bind(null,c,a),p)}function Cv(){}function aS(a,c){var p=si();c=c===void 0?null:c;var v=p.memoizedState;return v!==null&&c!==null&&vv(c,v[1])?v[0]:(p.memoizedState=[a,c],a)}function lS(a,c){var p=si();c=c===void 0?null:c;var v=p.memoizedState;return v!==null&&c!==null&&vv(c,v[1])?v[0]:(a=a(),p.memoizedState=[a,c],a)}function cS(a,c,p){return Ga&21?(Ai(p,c)||(p=zw(),Ft.lanes|=p,Xa|=p,a.baseState=!0),c):(a.baseState&&(a.baseState=!1,xs=!0),a.memoizedState=p)}function RP(a,c){var p=ft;ft=p!==0&&4>p?p:4,a(!0);var v=xv.transition;xv.transition={};try{a(!1),c()}finally{ft=p,xv.transition=v}}function uS(){return si().memoizedState}function LP(a,c,p){var v=Ho(a);if(p={lane:v,action:p,hasEagerState:!1,eagerState:null,next:null},dS(a))hS(c,p);else if(p=V_(a,c,p,v),p!==null){var _=ss();Pi(p,a,v,_),fS(p,c,v)}}function IP(a,c,p){var v=Ho(a),_={lane:v,action:p,hasEagerState:!1,eagerState:null,next:null};if(dS(a))hS(c,_);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=c.lastRenderedReducer,E!==null))try{var R=c.lastRenderedState,z=E(R,p);if(_.hasEagerState=!0,_.eagerState=z,Ai(z,R)){var U=c.interleaved;U===null?(_.next=_,dv(c)):(_.next=U.next,U.next=_),c.interleaved=_;return}}catch{}finally{}p=V_(a,c,_,v),p!==null&&(_=ss(),Pi(p,a,v,_),fS(p,c,v))}}function dS(a){var c=a.alternate;return a===Ft||c!==null&&c===Ft}function hS(a,c){Qd=Nm=!0;var p=a.pending;p===null?c.next=c:(c.next=p.next,p.next=c),a.pending=c}function fS(a,c,p){if(p&4194240){var v=c.lanes;v&=a.pendingLanes,p|=v,c.lanes=p,Ax(a,p)}}var Rm={readContext:ni,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},MP={readContext:ni,useCallback:function(a,c){return tr().memoizedState=[a,c===void 0?null:c],a},useContext:ni,useEffect:nS,useImperativeHandle:function(a,c,p){return p=p!=null?p.concat([a]):null,Tm(4194308,4,rS.bind(null,c,a),p)},useLayoutEffect:function(a,c){return Tm(4194308,4,a,c)},useInsertionEffect:function(a,c){return Tm(4,2,a,c)},useMemo:function(a,c){var p=tr();return c=c===void 0?null:c,a=a(),p.memoizedState=[a,c],a},useReducer:function(a,c,p){var v=tr();return c=p!==void 0?p(c):c,v.memoizedState=v.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},v.queue=a,a=a.dispatch=LP.bind(null,Ft,a),[v.memoizedState,a]},useRef:function(a){var c=tr();return a={current:a},c.memoizedState=a},useState:eS,useDebugValue:Cv,useDeferredValue:function(a){return tr().memoizedState=a},useTransition:function(){var a=eS(!1),c=a[0];return a=RP.bind(null,a[1]),tr().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,p){var v=Ft,_=tr();if(It){if(p===void 0)throw Error(t(407));p=p()}else{if(p=c(),bn===null)throw Error(t(349));Ga&30||K_(v,c,p)}_.memoizedState=p;var E={value:p,getSnapshot:c};return _.queue=E,nS(J_.bind(null,v,E,a),[a]),v.flags|=2048,th(9,Y_.bind(null,v,E,p,c),void 0,null),p},useId:function(){var a=tr(),c=bn.identifierPrefix;if(It){var p=Rr,v=Pr;p=(v&~(1<<32-Ei(v)-1)).toString(32)+p,c=":"+c+"R"+p,p=Zd++,0<p&&(c+="H"+p.toString(32)),c+=":"}else p=PP++,c=":"+c+"r"+p.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},DP={readContext:ni,useCallback:aS,useContext:ni,useEffect:Sv,useImperativeHandle:oS,useInsertionEffect:sS,useLayoutEffect:iS,useMemo:lS,useReducer:wv,useRef:tS,useState:function(){return wv(eh)},useDebugValue:Cv,useDeferredValue:function(a){var c=si();return cS(c,ln.memoizedState,a)},useTransition:function(){var a=wv(eh)[0],c=si().memoizedState;return[a,c]},useMutableSource:G_,useSyncExternalStore:X_,useId:uS,unstable_isNewReconciler:!1},FP={readContext:ni,useCallback:aS,useContext:ni,useEffect:Sv,useImperativeHandle:oS,useInsertionEffect:sS,useLayoutEffect:iS,useMemo:lS,useReducer:_v,useRef:tS,useState:function(){return _v(eh)},useDebugValue:Cv,useDeferredValue:function(a){var c=si();return ln===null?c.memoizedState=a:cS(c,ln.memoizedState,a)},useTransition:function(){var a=_v(eh)[0],c=si().memoizedState;return[a,c]},useMutableSource:G_,useSyncExternalStore:X_,useId:uS,unstable_isNewReconciler:!1};function ji(a,c){if(a&&a.defaultProps){c=ne({},c),a=a.defaultProps;for(var p in a)c[p]===void 0&&(c[p]=a[p]);return c}return c}function Ev(a,c,p,v){c=a.memoizedState,p=p(v,c),p=p==null?c:ne({},c,p),a.memoizedState=p,a.lanes===0&&(a.updateQueue.baseState=p)}var Lm={isMounted:function(a){return(a=a._reactInternals)?Ba(a)===a:!1},enqueueSetState:function(a,c,p){a=a._reactInternals;var v=ss(),_=Ho(a),E=Ir(v,_);E.payload=c,p!=null&&(E.callback=p),c=Fo(a,E,_),c!==null&&(Pi(c,a,_,v),Em(c,a,_))},enqueueReplaceState:function(a,c,p){a=a._reactInternals;var v=ss(),_=Ho(a),E=Ir(v,_);E.tag=1,E.payload=c,p!=null&&(E.callback=p),c=Fo(a,E,_),c!==null&&(Pi(c,a,_,v),Em(c,a,_))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var p=ss(),v=Ho(a),_=Ir(p,v);_.tag=2,c!=null&&(_.callback=c),c=Fo(a,_,v),c!==null&&(Pi(c,a,v,p),Em(c,a,v))}};function pS(a,c,p,v,_,E,R){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(v,E,R):c.prototype&&c.prototype.isPureReactComponent?!Hd(p,v)||!Hd(_,E):!0}function mS(a,c,p){var v=!1,_=Io,E=c.contextType;return typeof E=="object"&&E!==null?E=ni(E):(_=gs(c)?Va:Bn.current,v=c.contextTypes,E=(v=v!=null)?Fc(a,_):Io),c=new c(p,E),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Lm,a.stateNode=c,c._reactInternals=a,v&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=_,a.__reactInternalMemoizedMaskedChildContext=E),c}function gS(a,c,p,v){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,v),c.state!==a&&Lm.enqueueReplaceState(c,c.state,null)}function Av(a,c,p,v){var _=a.stateNode;_.props=p,_.state=a.memoizedState,_.refs={},hv(a);var E=c.contextType;typeof E=="object"&&E!==null?_.context=ni(E):(E=gs(c)?Va:Bn.current,_.context=Fc(a,E)),_.state=a.memoizedState,E=c.getDerivedStateFromProps,typeof E=="function"&&(Ev(a,c,E,p),_.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(c=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),c!==_.state&&Lm.enqueueReplaceState(_,_.state,null),Am(a,p,_,v),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308)}function Wc(a,c){try{var p="",v=c;do p+=ye(v),v=v.return;while(v);var _=p}catch(E){_=`
Error generating stack: `+E.message+`
`+E.stack}return{value:a,source:c,stack:_,digest:null}}function kv(a,c,p){return{value:a,source:null,stack:p??null,digest:c??null}}function jv(a,c){try{console.error(c.value)}catch(p){setTimeout(function(){throw p})}}var OP=typeof WeakMap=="function"?WeakMap:Map;function xS(a,c,p){p=Ir(-1,p),p.tag=3,p.payload={element:null};var v=c.value;return p.callback=function(){Bm||(Bm=!0,$v=v),jv(a,c)},p}function vS(a,c,p){p=Ir(-1,p),p.tag=3;var v=a.type.getDerivedStateFromError;if(typeof v=="function"){var _=c.value;p.payload=function(){return v(_)},p.callback=function(){jv(a,c)}}var E=a.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(p.callback=function(){jv(a,c),typeof v!="function"&&(zo===null?zo=new Set([this]):zo.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})}),p}function yS(a,c,p){var v=a.pingCache;if(v===null){v=a.pingCache=new OP;var _=new Set;v.set(c,_)}else _=v.get(c),_===void 0&&(_=new Set,v.set(c,_));_.has(p)||(_.add(p),a=QP.bind(null,a,c,p),c.then(a,a))}function bS(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function wS(a,c,p,v,_){return a.mode&1?(a.flags|=65536,a.lanes=_,a):(a===c?a.flags|=65536:(a.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(c=Ir(-1,1),c.tag=2,Fo(p,c,1))),p.lanes|=1),a)}var zP=k.ReactCurrentOwner,xs=!1;function ns(a,c,p,v){c.child=a===null?H_(c,null,p,v):Hc(c,a.child,p,v)}function _S(a,c,p,v,_){p=p.render;var E=c.ref;return $c(c,_),v=yv(a,c,p,v,E,_),p=bv(),a!==null&&!xs?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~_,Mr(a,c,_)):(It&&p&&nv(c),c.flags|=1,ns(a,c,v,_),c.child)}function SS(a,c,p,v,_){if(a===null){var E=p.type;return typeof E=="function"&&!Yv(E)&&E.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(c.tag=15,c.type=E,CS(a,c,E,v,_)):(a=qm(p.type,null,v,c,c.mode,_),a.ref=c.ref,a.return=c,c.child=a)}if(E=a.child,!(a.lanes&_)){var R=E.memoizedProps;if(p=p.compare,p=p!==null?p:Hd,p(R,v)&&a.ref===c.ref)return Mr(a,c,_)}return c.flags|=1,a=$o(E,v),a.ref=c.ref,a.return=c,c.child=a}function CS(a,c,p,v,_){if(a!==null){var E=a.memoizedProps;if(Hd(E,v)&&a.ref===c.ref)if(xs=!1,c.pendingProps=v=E,(a.lanes&_)!==0)a.flags&131072&&(xs=!0);else return c.lanes=a.lanes,Mr(a,c,_)}return Nv(a,c,p,v,_)}function ES(a,c,p){var v=c.pendingProps,_=v.children,E=a!==null?a.memoizedState:null;if(v.mode==="hidden")if(!(c.mode&1))c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Gc,Ds),Ds|=p;else{if(!(p&1073741824))return a=E!==null?E.baseLanes|p:p,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,Et(Gc,Ds),Ds|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=E!==null?E.baseLanes:p,Et(Gc,Ds),Ds|=v}else E!==null?(v=E.baseLanes|p,c.memoizedState=null):v=p,Et(Gc,Ds),Ds|=v;return ns(a,c,_,p),c.child}function AS(a,c){var p=c.ref;(a===null&&p!==null||a!==null&&a.ref!==p)&&(c.flags|=512,c.flags|=2097152)}function Nv(a,c,p,v,_){var E=gs(p)?Va:Bn.current;return E=Fc(c,E),$c(c,_),p=yv(a,c,p,v,E,_),v=bv(),a!==null&&!xs?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~_,Mr(a,c,_)):(It&&v&&nv(c),c.flags|=1,ns(a,c,p,_),c.child)}function kS(a,c,p,v,_){if(gs(p)){var E=!0;xm(c)}else E=!1;if($c(c,_),c.stateNode===null)Mm(a,c),mS(c,p,v),Av(c,p,v,_),v=!0;else if(a===null){var R=c.stateNode,z=c.memoizedProps;R.props=z;var U=R.context,Z=p.contextType;typeof Z=="object"&&Z!==null?Z=ni(Z):(Z=gs(p)?Va:Bn.current,Z=Fc(c,Z));var oe=p.getDerivedStateFromProps,ue=typeof oe=="function"||typeof R.getSnapshotBeforeUpdate=="function";ue||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(z!==v||U!==Z)&&gS(c,R,v,Z),Do=!1;var re=c.memoizedState;R.state=re,Am(c,v,R,_),U=c.memoizedState,z!==v||re!==U||ms.current||Do?(typeof oe=="function"&&(Ev(c,p,oe,v),U=c.memoizedState),(z=Do||pS(c,p,z,v,re,U,Z))?(ue||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(c.flags|=4194308)):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=U),R.props=v,R.state=U,R.context=Z,v=z):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{R=c.stateNode,$_(a,c),z=c.memoizedProps,Z=c.type===c.elementType?z:ji(c.type,z),R.props=Z,ue=c.pendingProps,re=R.context,U=p.contextType,typeof U=="object"&&U!==null?U=ni(U):(U=gs(p)?Va:Bn.current,U=Fc(c,U));var be=p.getDerivedStateFromProps;(oe=typeof be=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(z!==ue||re!==U)&&gS(c,R,v,U),Do=!1,re=c.memoizedState,R.state=re,Am(c,v,R,_);var Se=c.memoizedState;z!==ue||re!==Se||ms.current||Do?(typeof be=="function"&&(Ev(c,p,be,v),Se=c.memoizedState),(Z=Do||pS(c,p,Z,v,re,Se,U)||!1)?(oe||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(v,Se,U),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(v,Se,U)),typeof R.componentDidUpdate=="function"&&(c.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof R.componentDidUpdate!="function"||z===a.memoizedProps&&re===a.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&re===a.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=Se),R.props=v,R.state=Se,R.context=U,v=Z):(typeof R.componentDidUpdate!="function"||z===a.memoizedProps&&re===a.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&re===a.memoizedState||(c.flags|=1024),v=!1)}return Tv(a,c,p,v,E,_)}function Tv(a,c,p,v,_,E){AS(a,c);var R=(c.flags&128)!==0;if(!v&&!R)return _&&R_(c,p,!1),Mr(a,c,E);v=c.stateNode,zP.current=c;var z=R&&typeof p.getDerivedStateFromError!="function"?null:v.render();return c.flags|=1,a!==null&&R?(c.child=Hc(c,a.child,null,E),c.child=Hc(c,null,z,E)):ns(a,c,z,E),c.memoizedState=v.state,_&&R_(c,p,!0),c.child}function jS(a){var c=a.stateNode;c.pendingContext?T_(a,c.pendingContext,c.pendingContext!==c.context):c.context&&T_(a,c.context,!1),fv(a,c.containerInfo)}function NS(a,c,p,v,_){return Bc(),ov(_),c.flags|=256,ns(a,c,p,v),c.child}var Pv={dehydrated:null,treeContext:null,retryLane:0};function Rv(a){return{baseLanes:a,cachePool:null,transitions:null}}function TS(a,c,p){var v=c.pendingProps,_=Dt.current,E=!1,R=(c.flags&128)!==0,z;if((z=R)||(z=a!==null&&a.memoizedState===null?!1:(_&2)!==0),z?(E=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(_|=1),Et(Dt,_&1),a===null)return rv(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(c.mode&1?a.data==="$!"?c.lanes=8:c.lanes=1073741824:c.lanes=1,null):(R=v.children,a=v.fallback,E?(v=c.mode,E=c.child,R={mode:"hidden",children:R},!(v&1)&&E!==null?(E.childLanes=0,E.pendingProps=R):E=Gm(R,v,0,null),a=Qa(a,v,p,null),E.return=c,a.return=c,E.sibling=a,c.child=E,c.child.memoizedState=Rv(p),c.memoizedState=Pv,a):Lv(c,R));if(_=a.memoizedState,_!==null&&(z=_.dehydrated,z!==null))return BP(a,c,R,v,z,_,p);if(E){E=v.fallback,R=c.mode,_=a.child,z=_.sibling;var U={mode:"hidden",children:v.children};return!(R&1)&&c.child!==_?(v=c.child,v.childLanes=0,v.pendingProps=U,c.deletions=null):(v=$o(_,U),v.subtreeFlags=_.subtreeFlags&14680064),z!==null?E=$o(z,E):(E=Qa(E,R,p,null),E.flags|=2),E.return=c,v.return=c,v.sibling=E,c.child=v,v=E,E=c.child,R=a.child.memoizedState,R=R===null?Rv(p):{baseLanes:R.baseLanes|p,cachePool:null,transitions:R.transitions},E.memoizedState=R,E.childLanes=a.childLanes&~p,c.memoizedState=Pv,v}return E=a.child,a=E.sibling,v=$o(E,{mode:"visible",children:v.children}),!(c.mode&1)&&(v.lanes=p),v.return=c,v.sibling=null,a!==null&&(p=c.deletions,p===null?(c.deletions=[a],c.flags|=16):p.push(a)),c.child=v,c.memoizedState=null,v}function Lv(a,c){return c=Gm({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function Im(a,c,p,v){return v!==null&&ov(v),Hc(c,a.child,null,p),a=Lv(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function BP(a,c,p,v,_,E,R){if(p)return c.flags&256?(c.flags&=-257,v=kv(Error(t(422))),Im(a,c,R,v)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(E=v.fallback,_=c.mode,v=Gm({mode:"visible",children:v.children},_,0,null),E=Qa(E,_,R,null),E.flags|=2,v.return=c,E.return=c,v.sibling=E,c.child=v,c.mode&1&&Hc(c,a.child,null,R),c.child.memoizedState=Rv(R),c.memoizedState=Pv,E);if(!(c.mode&1))return Im(a,c,R,null);if(_.data==="$!"){if(v=_.nextSibling&&_.nextSibling.dataset,v)var z=v.dgst;return v=z,E=Error(t(419)),v=kv(E,v,void 0),Im(a,c,R,v)}if(z=(R&a.childLanes)!==0,xs||z){if(v=bn,v!==null){switch(R&-R){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=_&(v.suspendedLanes|R)?0:_,_!==0&&_!==E.retryLane&&(E.retryLane=_,Lr(a,_),Pi(v,a,_,-1))}return Kv(),v=kv(Error(t(421))),Im(a,c,R,v)}return _.data==="$?"?(c.flags|=128,c.child=a.child,c=ZP.bind(null,a),_._reactRetry=c,null):(a=E.treeContext,Ms=Ro(_.nextSibling),Is=c,It=!0,ki=null,a!==null&&(ei[ti++]=Pr,ei[ti++]=Rr,ei[ti++]=$a,Pr=a.id,Rr=a.overflow,$a=c),c=Lv(c,v.children),c.flags|=4096,c)}function PS(a,c,p){a.lanes|=c;var v=a.alternate;v!==null&&(v.lanes|=c),uv(a.return,c,p)}function Iv(a,c,p,v,_){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:_}:(E.isBackwards=c,E.rendering=null,E.renderingStartTime=0,E.last=v,E.tail=p,E.tailMode=_)}function RS(a,c,p){var v=c.pendingProps,_=v.revealOrder,E=v.tail;if(ns(a,c,v.children,p),v=Dt.current,v&2)v=v&1|2,c.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&PS(a,p,c);else if(a.tag===19)PS(a,p,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}v&=1}if(Et(Dt,v),!(c.mode&1))c.memoizedState=null;else switch(_){case"forwards":for(p=c.child,_=null;p!==null;)a=p.alternate,a!==null&&km(a)===null&&(_=p),p=p.sibling;p=_,p===null?(_=c.child,c.child=null):(_=p.sibling,p.sibling=null),Iv(c,!1,_,p,E);break;case"backwards":for(p=null,_=c.child,c.child=null;_!==null;){if(a=_.alternate,a!==null&&km(a)===null){c.child=_;break}a=_.sibling,_.sibling=p,p=_,_=a}Iv(c,!0,p,null,E);break;case"together":Iv(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Mm(a,c){!(c.mode&1)&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function Mr(a,c,p){if(a!==null&&(c.dependencies=a.dependencies),Xa|=c.lanes,!(p&c.childLanes))return null;if(a!==null&&c.child!==a.child)throw Error(t(153));if(c.child!==null){for(a=c.child,p=$o(a,a.pendingProps),c.child=p,p.return=c;a.sibling!==null;)a=a.sibling,p=p.sibling=$o(a,a.pendingProps),p.return=c;p.sibling=null}return c.child}function HP(a,c,p){switch(c.tag){case 3:jS(c),Bc();break;case 5:q_(c);break;case 1:gs(c.type)&&xm(c);break;case 4:fv(c,c.stateNode.containerInfo);break;case 10:var v=c.type._context,_=c.memoizedProps.value;Et(Sm,v._currentValue),v._currentValue=_;break;case 13:if(v=c.memoizedState,v!==null)return v.dehydrated!==null?(Et(Dt,Dt.current&1),c.flags|=128,null):p&c.child.childLanes?TS(a,c,p):(Et(Dt,Dt.current&1),a=Mr(a,c,p),a!==null?a.sibling:null);Et(Dt,Dt.current&1);break;case 19:if(v=(p&c.childLanes)!==0,a.flags&128){if(v)return RS(a,c,p);c.flags|=128}if(_=c.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Et(Dt,Dt.current),v)break;return null;case 22:case 23:return c.lanes=0,ES(a,c,p)}return Mr(a,c,p)}var LS,Mv,IS,MS;LS=function(a,c){for(var p=c.child;p!==null;){if(p.tag===5||p.tag===6)a.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Mv=function(){},IS=function(a,c,p,v){var _=a.memoizedProps;if(_!==v){a=c.stateNode,qa(er.current);var E=null;switch(p){case"input":_=nt(a,_),v=nt(a,v),E=[];break;case"select":_=ne({},_,{value:void 0}),v=ne({},v,{value:void 0}),E=[];break;case"textarea":_=ps(a,_),v=ps(a,v),E=[];break;default:typeof _.onClick!="function"&&typeof v.onClick=="function"&&(a.onclick=pm)}xn(p,v);var R;p=null;for(Z in _)if(!v.hasOwnProperty(Z)&&_.hasOwnProperty(Z)&&_[Z]!=null)if(Z==="style"){var z=_[Z];for(R in z)z.hasOwnProperty(R)&&(p||(p={}),p[R]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?E||(E=[]):(E=E||[]).push(Z,null));for(Z in v){var U=v[Z];if(z=_!=null?_[Z]:void 0,v.hasOwnProperty(Z)&&U!==z&&(U!=null||z!=null))if(Z==="style")if(z){for(R in z)!z.hasOwnProperty(R)||U&&U.hasOwnProperty(R)||(p||(p={}),p[R]="");for(R in U)U.hasOwnProperty(R)&&z[R]!==U[R]&&(p||(p={}),p[R]=U[R])}else p||(E||(E=[]),E.push(Z,p)),p=U;else Z==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,z=z?z.__html:void 0,U!=null&&z!==U&&(E=E||[]).push(Z,U)):Z==="children"?typeof U!="string"&&typeof U!="number"||(E=E||[]).push(Z,""+U):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(U!=null&&Z==="onScroll"&&Tt("scroll",a),E||z===U||(E=[])):(E=E||[]).push(Z,U))}p&&(E=E||[]).push("style",p);var Z=E;(c.updateQueue=Z)&&(c.flags|=4)}},MS=function(a,c,p,v){p!==v&&(c.flags|=4)};function nh(a,c){if(!It)switch(a.tailMode){case"hidden":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a.tail=null:p.sibling=null;break;case"collapsed":p=a.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:v.sibling=null}}function Vn(a){var c=a.alternate!==null&&a.alternate.child===a.child,p=0,v=0;if(c)for(var _=a.child;_!==null;)p|=_.lanes|_.childLanes,v|=_.subtreeFlags&14680064,v|=_.flags&14680064,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)p|=_.lanes|_.childLanes,v|=_.subtreeFlags,v|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=v,a.childLanes=p,c}function VP(a,c,p){var v=c.pendingProps;switch(sv(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(c),null;case 1:return gs(c.type)&&gm(),Vn(c),null;case 3:return v=c.stateNode,Uc(),Pt(ms),Pt(Bn),gv(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(a===null||a.child===null)&&(wm(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&!(c.flags&256)||(c.flags|=1024,ki!==null&&(qv(ki),ki=null))),Mv(a,c),Vn(c),null;case 5:pv(c);var _=qa(Jd.current);if(p=c.type,a!==null&&c.stateNode!=null)IS(a,c,p,v,_),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!v){if(c.stateNode===null)throw Error(t(166));return Vn(c),null}if(a=qa(er.current),wm(c)){v=c.stateNode,p=c.type;var E=c.memoizedProps;switch(v[Zi]=c,v[qd]=E,a=(c.mode&1)!==0,p){case"dialog":Tt("cancel",v),Tt("close",v);break;case"iframe":case"object":case"embed":Tt("load",v);break;case"video":case"audio":for(_=0;_<$d.length;_++)Tt($d[_],v);break;case"source":Tt("error",v);break;case"img":case"image":case"link":Tt("error",v),Tt("load",v);break;case"details":Tt("toggle",v);break;case"input":Ct(v,E),Tt("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!E.multiple},Tt("invalid",v);break;case"textarea":st(v,E),Tt("invalid",v)}xn(p,E),_=null;for(var R in E)if(E.hasOwnProperty(R)){var z=E[R];R==="children"?typeof z=="string"?v.textContent!==z&&(E.suppressHydrationWarning!==!0&&fm(v.textContent,z,a),_=["children",z]):typeof z=="number"&&v.textContent!==""+z&&(E.suppressHydrationWarning!==!0&&fm(v.textContent,z,a),_=["children",""+z]):i.hasOwnProperty(R)&&z!=null&&R==="onScroll"&&Tt("scroll",v)}switch(p){case"input":ht(v),$e(v,E,!0);break;case"textarea":ht(v),ts(v);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(v.onclick=pm)}v=_,c.updateQueue=v,v!==null&&(c.flags|=4)}else{R=_.nodeType===9?_:_.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Fa(p)),a==="http://www.w3.org/1999/xhtml"?p==="script"?(a=R.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof v.is=="string"?a=R.createElement(p,{is:v.is}):(a=R.createElement(p),p==="select"&&(R=a,v.multiple?R.multiple=!0:v.size&&(R.size=v.size))):a=R.createElementNS(a,p),a[Zi]=c,a[qd]=v,LS(a,c,!1,!1),c.stateNode=a;e:{switch(R=an(p,v),p){case"dialog":Tt("cancel",a),Tt("close",a),_=v;break;case"iframe":case"object":case"embed":Tt("load",a),_=v;break;case"video":case"audio":for(_=0;_<$d.length;_++)Tt($d[_],a);_=v;break;case"source":Tt("error",a),_=v;break;case"img":case"image":case"link":Tt("error",a),Tt("load",a),_=v;break;case"details":Tt("toggle",a),_=v;break;case"input":Ct(a,v),_=nt(a,v),Tt("invalid",a);break;case"option":_=v;break;case"select":a._wrapperState={wasMultiple:!!v.multiple},_=ne({},v,{value:void 0}),Tt("invalid",a);break;case"textarea":st(a,v),_=ps(a,v),Tt("invalid",a);break;default:_=v}xn(p,_),z=_;for(E in z)if(z.hasOwnProperty(E)){var U=z[E];E==="style"?Wp(a,U):E==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&jr(a,U)):E==="children"?typeof U=="string"?(p!=="textarea"||U!=="")&&Si(a,U):typeof U=="number"&&Si(a,""+U):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?U!=null&&E==="onScroll"&&Tt("scroll",a):U!=null&&A(a,E,U,R))}switch(p){case"input":ht(a),$e(a,v,!1);break;case"textarea":ht(a),ts(a);break;case"option":v.value!=null&&a.setAttribute("value",""+ke(v.value));break;case"select":a.multiple=!!v.multiple,E=v.value,E!=null?Nt(a,!!v.multiple,E,!1):v.defaultValue!=null&&Nt(a,!!v.multiple,v.defaultValue,!0);break;default:typeof _.onClick=="function"&&(a.onclick=pm)}switch(p){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Vn(c),null;case 6:if(a&&c.stateNode!=null)MS(a,c,a.memoizedProps,v);else{if(typeof v!="string"&&c.stateNode===null)throw Error(t(166));if(p=qa(Jd.current),qa(er.current),wm(c)){if(v=c.stateNode,p=c.memoizedProps,v[Zi]=c,(E=v.nodeValue!==p)&&(a=Is,a!==null))switch(a.tag){case 3:fm(v.nodeValue,p,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&fm(v.nodeValue,p,(a.mode&1)!==0)}E&&(c.flags|=4)}else v=(p.nodeType===9?p:p.ownerDocument).createTextNode(v),v[Zi]=c,c.stateNode=v}return Vn(c),null;case 13:if(Pt(Dt),v=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(It&&Ms!==null&&c.mode&1&&!(c.flags&128))O_(),Bc(),c.flags|=98560,E=!1;else if(E=wm(c),v!==null&&v.dehydrated!==null){if(a===null){if(!E)throw Error(t(318));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[Zi]=c}else Bc(),!(c.flags&128)&&(c.memoizedState=null),c.flags|=4;Vn(c),E=!1}else ki!==null&&(qv(ki),ki=null),E=!0;if(!E)return c.flags&65536?c:null}return c.flags&128?(c.lanes=p,c):(v=v!==null,v!==(a!==null&&a.memoizedState!==null)&&v&&(c.child.flags|=8192,c.mode&1&&(a===null||Dt.current&1?cn===0&&(cn=3):Kv())),c.updateQueue!==null&&(c.flags|=4),Vn(c),null);case 4:return Uc(),Mv(a,c),a===null&&Ud(c.stateNode.containerInfo),Vn(c),null;case 10:return cv(c.type._context),Vn(c),null;case 17:return gs(c.type)&&gm(),Vn(c),null;case 19:if(Pt(Dt),E=c.memoizedState,E===null)return Vn(c),null;if(v=(c.flags&128)!==0,R=E.rendering,R===null)if(v)nh(E,!1);else{if(cn!==0||a!==null&&a.flags&128)for(a=c.child;a!==null;){if(R=km(a),R!==null){for(c.flags|=128,nh(E,!1),v=R.updateQueue,v!==null&&(c.updateQueue=v,c.flags|=4),c.subtreeFlags=0,v=p,p=c.child;p!==null;)E=p,a=v,E.flags&=14680066,R=E.alternate,R===null?(E.childLanes=0,E.lanes=a,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=R.childLanes,E.lanes=R.lanes,E.child=R.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=R.memoizedProps,E.memoizedState=R.memoizedState,E.updateQueue=R.updateQueue,E.type=R.type,a=R.dependencies,E.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),p=p.sibling;return Et(Dt,Dt.current&1|2),c.child}a=a.sibling}E.tail!==null&&qt()>Xc&&(c.flags|=128,v=!0,nh(E,!1),c.lanes=4194304)}else{if(!v)if(a=km(R),a!==null){if(c.flags|=128,v=!0,p=a.updateQueue,p!==null&&(c.updateQueue=p,c.flags|=4),nh(E,!0),E.tail===null&&E.tailMode==="hidden"&&!R.alternate&&!It)return Vn(c),null}else 2*qt()-E.renderingStartTime>Xc&&p!==1073741824&&(c.flags|=128,v=!0,nh(E,!1),c.lanes=4194304);E.isBackwards?(R.sibling=c.child,c.child=R):(p=E.last,p!==null?p.sibling=R:c.child=R,E.last=R)}return E.tail!==null?(c=E.tail,E.rendering=c,E.tail=c.sibling,E.renderingStartTime=qt(),c.sibling=null,p=Dt.current,Et(Dt,v?p&1|2:p&1),c):(Vn(c),null);case 22:case 23:return Xv(),v=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==v&&(c.flags|=8192),v&&c.mode&1?Ds&1073741824&&(Vn(c),c.subtreeFlags&6&&(c.flags|=8192)):Vn(c),null;case 24:return null;case 25:return null}throw Error(t(156,c.tag))}function $P(a,c){switch(sv(c),c.tag){case 1:return gs(c.type)&&gm(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Uc(),Pt(ms),Pt(Bn),gv(),a=c.flags,a&65536&&!(a&128)?(c.flags=a&-65537|128,c):null;case 5:return pv(c),null;case 13:if(Pt(Dt),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(t(340));Bc()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return Pt(Dt),null;case 4:return Uc(),null;case 10:return cv(c.type._context),null;case 22:case 23:return Xv(),null;case 24:return null;default:return null}}var Dm=!1,$n=!1,UP=typeof WeakSet=="function"?WeakSet:Set,_e=null;function qc(a,c){var p=a.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(v){Vt(a,c,v)}else p.current=null}function Dv(a,c,p){try{p()}catch(v){Vt(a,c,v)}}var DS=!1;function WP(a,c){if(Xx=nm,a=p_(),Bx(a)){if("selectionStart"in a)var p={start:a.selectionStart,end:a.selectionEnd};else e:{p=(p=a.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var _=v.anchorOffset,E=v.focusNode;v=v.focusOffset;try{p.nodeType,E.nodeType}catch{p=null;break e}var R=0,z=-1,U=-1,Z=0,oe=0,ue=a,re=null;t:for(;;){for(var be;ue!==p||_!==0&&ue.nodeType!==3||(z=R+_),ue!==E||v!==0&&ue.nodeType!==3||(U=R+v),ue.nodeType===3&&(R+=ue.nodeValue.length),(be=ue.firstChild)!==null;)re=ue,ue=be;for(;;){if(ue===a)break t;if(re===p&&++Z===_&&(z=R),re===E&&++oe===v&&(U=R),(be=ue.nextSibling)!==null)break;ue=re,re=ue.parentNode}ue=be}p=z===-1||U===-1?null:{start:z,end:U}}else p=null}p=p||{start:0,end:0}}else p=null;for(Kx={focusedElem:a,selectionRange:p},nm=!1,_e=c;_e!==null;)if(c=_e,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,_e=a;else for(;_e!==null;){c=_e;try{var Se=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ce=Se.memoizedProps,Gt=Se.memoizedState,K=c.stateNode,q=K.getSnapshotBeforeUpdate(c.elementType===c.type?Ce:ji(c.type,Ce),Gt);K.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var Q=c.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(he){Vt(c,c.return,he)}if(a=c.sibling,a!==null){a.return=c.return,_e=a;break}_e=c.return}return Se=DS,DS=!1,Se}function sh(a,c,p){var v=c.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var _=v=v.next;do{if((_.tag&a)===a){var E=_.destroy;_.destroy=void 0,E!==void 0&&Dv(c,p,E)}_=_.next}while(_!==v)}}function Fm(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&a)===a){var v=p.create;p.destroy=v()}p=p.next}while(p!==c)}}function Fv(a){var c=a.ref;if(c!==null){var p=a.stateNode;switch(a.tag){case 5:a=p;break;default:a=p}typeof c=="function"?c(a):c.current=a}}function FS(a){var c=a.alternate;c!==null&&(a.alternate=null,FS(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[Zi],delete c[qd],delete c[Zx],delete c[kP],delete c[jP])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function OS(a){return a.tag===5||a.tag===3||a.tag===4}function zS(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||OS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Ov(a,c,p){var v=a.tag;if(v===5||v===6)a=a.stateNode,c?p.nodeType===8?p.parentNode.insertBefore(a,c):p.insertBefore(a,c):(p.nodeType===8?(c=p.parentNode,c.insertBefore(a,p)):(c=p,c.appendChild(a)),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=pm));else if(v!==4&&(a=a.child,a!==null))for(Ov(a,c,p),a=a.sibling;a!==null;)Ov(a,c,p),a=a.sibling}function zv(a,c,p){var v=a.tag;if(v===5||v===6)a=a.stateNode,c?p.insertBefore(a,c):p.appendChild(a);else if(v!==4&&(a=a.child,a!==null))for(zv(a,c,p),a=a.sibling;a!==null;)zv(a,c,p),a=a.sibling}var Tn=null,Ni=!1;function Oo(a,c,p){for(p=p.child;p!==null;)BS(a,c,p),p=p.sibling}function BS(a,c,p){if(Qi&&typeof Qi.onCommitFiberUnmount=="function")try{Qi.onCommitFiberUnmount(Yp,p)}catch{}switch(p.tag){case 5:$n||qc(p,c);case 6:var v=Tn,_=Ni;Tn=null,Oo(a,c,p),Tn=v,Ni=_,Tn!==null&&(Ni?(a=Tn,p=p.stateNode,a.nodeType===8?a.parentNode.removeChild(p):a.removeChild(p)):Tn.removeChild(p.stateNode));break;case 18:Tn!==null&&(Ni?(a=Tn,p=p.stateNode,a.nodeType===8?Qx(a.parentNode,p):a.nodeType===1&&Qx(a,p),Md(a)):Qx(Tn,p.stateNode));break;case 4:v=Tn,_=Ni,Tn=p.stateNode.containerInfo,Ni=!0,Oo(a,c,p),Tn=v,Ni=_;break;case 0:case 11:case 14:case 15:if(!$n&&(v=p.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){_=v=v.next;do{var E=_,R=E.destroy;E=E.tag,R!==void 0&&(E&2||E&4)&&Dv(p,c,R),_=_.next}while(_!==v)}Oo(a,c,p);break;case 1:if(!$n&&(qc(p,c),v=p.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=p.memoizedProps,v.state=p.memoizedState,v.componentWillUnmount()}catch(z){Vt(p,c,z)}Oo(a,c,p);break;case 21:Oo(a,c,p);break;case 22:p.mode&1?($n=(v=$n)||p.memoizedState!==null,Oo(a,c,p),$n=v):Oo(a,c,p);break;default:Oo(a,c,p)}}function HS(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var p=a.stateNode;p===null&&(p=a.stateNode=new UP),c.forEach(function(v){var _=eR.bind(null,a,v);p.has(v)||(p.add(v),v.then(_,_))})}}function Ti(a,c){var p=c.deletions;if(p!==null)for(var v=0;v<p.length;v++){var _=p[v];try{var E=a,R=c,z=R;e:for(;z!==null;){switch(z.tag){case 5:Tn=z.stateNode,Ni=!1;break e;case 3:Tn=z.stateNode.containerInfo,Ni=!0;break e;case 4:Tn=z.stateNode.containerInfo,Ni=!0;break e}z=z.return}if(Tn===null)throw Error(t(160));BS(E,R,_),Tn=null,Ni=!1;var U=_.alternate;U!==null&&(U.return=null),_.return=null}catch(Z){Vt(_,c,Z)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)VS(c,a),c=c.sibling}function VS(a,c){var p=a.alternate,v=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Ti(c,a),nr(a),v&4){try{sh(3,a,a.return),Fm(3,a)}catch(Ce){Vt(a,a.return,Ce)}try{sh(5,a,a.return)}catch(Ce){Vt(a,a.return,Ce)}}break;case 1:Ti(c,a),nr(a),v&512&&p!==null&&qc(p,p.return);break;case 5:if(Ti(c,a),nr(a),v&512&&p!==null&&qc(p,p.return),a.flags&32){var _=a.stateNode;try{Si(_,"")}catch(Ce){Vt(a,a.return,Ce)}}if(v&4&&(_=a.stateNode,_!=null)){var E=a.memoizedProps,R=p!==null?p.memoizedProps:E,z=a.type,U=a.updateQueue;if(a.updateQueue=null,U!==null)try{z==="input"&&E.type==="radio"&&E.name!=null&&ot(_,E),an(z,R);var Z=an(z,E);for(R=0;R<U.length;R+=2){var oe=U[R],ue=U[R+1];oe==="style"?Wp(_,ue):oe==="dangerouslySetInnerHTML"?jr(_,ue):oe==="children"?Si(_,ue):A(_,oe,ue,Z)}switch(z){case"input":Ne(_,E);break;case"textarea":Ji(_,E);break;case"select":var re=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!E.multiple;var be=E.value;be!=null?Nt(_,!!E.multiple,be,!1):re!==!!E.multiple&&(E.defaultValue!=null?Nt(_,!!E.multiple,E.defaultValue,!0):Nt(_,!!E.multiple,E.multiple?[]:"",!1))}_[qd]=E}catch(Ce){Vt(a,a.return,Ce)}}break;case 6:if(Ti(c,a),nr(a),v&4){if(a.stateNode===null)throw Error(t(162));_=a.stateNode,E=a.memoizedProps;try{_.nodeValue=E}catch(Ce){Vt(a,a.return,Ce)}}break;case 3:if(Ti(c,a),nr(a),v&4&&p!==null&&p.memoizedState.isDehydrated)try{Md(c.containerInfo)}catch(Ce){Vt(a,a.return,Ce)}break;case 4:Ti(c,a),nr(a);break;case 13:Ti(c,a),nr(a),_=a.child,_.flags&8192&&(E=_.memoizedState!==null,_.stateNode.isHidden=E,!E||_.alternate!==null&&_.alternate.memoizedState!==null||(Vv=qt())),v&4&&HS(a);break;case 22:if(oe=p!==null&&p.memoizedState!==null,a.mode&1?($n=(Z=$n)||oe,Ti(c,a),$n=Z):Ti(c,a),nr(a),v&8192){if(Z=a.memoizedState!==null,(a.stateNode.isHidden=Z)&&!oe&&a.mode&1)for(_e=a,oe=a.child;oe!==null;){for(ue=_e=oe;_e!==null;){switch(re=_e,be=re.child,re.tag){case 0:case 11:case 14:case 15:sh(4,re,re.return);break;case 1:qc(re,re.return);var Se=re.stateNode;if(typeof Se.componentWillUnmount=="function"){v=re,p=re.return;try{c=v,Se.props=c.memoizedProps,Se.state=c.memoizedState,Se.componentWillUnmount()}catch(Ce){Vt(v,p,Ce)}}break;case 5:qc(re,re.return);break;case 22:if(re.memoizedState!==null){WS(ue);continue}}be!==null?(be.return=re,_e=be):WS(ue)}oe=oe.sibling}e:for(oe=null,ue=a;;){if(ue.tag===5){if(oe===null){oe=ue;try{_=ue.stateNode,Z?(E=_.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(z=ue.stateNode,U=ue.memoizedProps.style,R=U!=null&&U.hasOwnProperty("display")?U.display:null,z.style.display=Ed("display",R))}catch(Ce){Vt(a,a.return,Ce)}}}else if(ue.tag===6){if(oe===null)try{ue.stateNode.nodeValue=Z?"":ue.memoizedProps}catch(Ce){Vt(a,a.return,Ce)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===a)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===a)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===a)break e;oe===ue&&(oe=null),ue=ue.return}oe===ue&&(oe=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:Ti(c,a),nr(a),v&4&&HS(a);break;case 21:break;default:Ti(c,a),nr(a)}}function nr(a){var c=a.flags;if(c&2){try{e:{for(var p=a.return;p!==null;){if(OS(p)){var v=p;break e}p=p.return}throw Error(t(160))}switch(v.tag){case 5:var _=v.stateNode;v.flags&32&&(Si(_,""),v.flags&=-33);var E=zS(a);zv(a,E,_);break;case 3:case 4:var R=v.stateNode.containerInfo,z=zS(a);Ov(a,z,R);break;default:throw Error(t(161))}}catch(U){Vt(a,a.return,U)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function qP(a,c,p){_e=a,$S(a)}function $S(a,c,p){for(var v=(a.mode&1)!==0;_e!==null;){var _=_e,E=_.child;if(_.tag===22&&v){var R=_.memoizedState!==null||Dm;if(!R){var z=_.alternate,U=z!==null&&z.memoizedState!==null||$n;z=Dm;var Z=$n;if(Dm=R,($n=U)&&!Z)for(_e=_;_e!==null;)R=_e,U=R.child,R.tag===22&&R.memoizedState!==null?qS(_):U!==null?(U.return=R,_e=U):qS(_);for(;E!==null;)_e=E,$S(E),E=E.sibling;_e=_,Dm=z,$n=Z}US(a)}else _.subtreeFlags&8772&&E!==null?(E.return=_,_e=E):US(a)}}function US(a){for(;_e!==null;){var c=_e;if(c.flags&8772){var p=c.alternate;try{if(c.flags&8772)switch(c.tag){case 0:case 11:case 15:$n||Fm(5,c);break;case 1:var v=c.stateNode;if(c.flags&4&&!$n)if(p===null)v.componentDidMount();else{var _=c.elementType===c.type?p.memoizedProps:ji(c.type,p.memoizedProps);v.componentDidUpdate(_,p.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var E=c.updateQueue;E!==null&&W_(c,E,v);break;case 3:var R=c.updateQueue;if(R!==null){if(p=null,c.child!==null)switch(c.child.tag){case 5:p=c.child.stateNode;break;case 1:p=c.child.stateNode}W_(c,R,p)}break;case 5:var z=c.stateNode;if(p===null&&c.flags&4){p=z;var U=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&p.focus();break;case"img":U.src&&(p.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var Z=c.alternate;if(Z!==null){var oe=Z.memoizedState;if(oe!==null){var ue=oe.dehydrated;ue!==null&&Md(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}$n||c.flags&512&&Fv(c)}catch(re){Vt(c,c.return,re)}}if(c===a){_e=null;break}if(p=c.sibling,p!==null){p.return=c.return,_e=p;break}_e=c.return}}function WS(a){for(;_e!==null;){var c=_e;if(c===a){_e=null;break}var p=c.sibling;if(p!==null){p.return=c.return,_e=p;break}_e=c.return}}function qS(a){for(;_e!==null;){var c=_e;try{switch(c.tag){case 0:case 11:case 15:var p=c.return;try{Fm(4,c)}catch(U){Vt(c,p,U)}break;case 1:var v=c.stateNode;if(typeof v.componentDidMount=="function"){var _=c.return;try{v.componentDidMount()}catch(U){Vt(c,_,U)}}var E=c.return;try{Fv(c)}catch(U){Vt(c,E,U)}break;case 5:var R=c.return;try{Fv(c)}catch(U){Vt(c,R,U)}}}catch(U){Vt(c,c.return,U)}if(c===a){_e=null;break}var z=c.sibling;if(z!==null){z.return=c.return,_e=z;break}_e=c.return}}var GP=Math.ceil,Om=k.ReactCurrentDispatcher,Bv=k.ReactCurrentOwner,ii=k.ReactCurrentBatchConfig,tt=0,bn=null,en=null,Pn=0,Ds=0,Gc=Lo(0),cn=0,ih=null,Xa=0,zm=0,Hv=0,rh=null,vs=null,Vv=0,Xc=1/0,Dr=null,Bm=!1,$v=null,zo=null,Hm=!1,Bo=null,Vm=0,oh=0,Uv=null,$m=-1,Um=0;function ss(){return tt&6?qt():$m!==-1?$m:$m=qt()}function Ho(a){return a.mode&1?tt&2&&Pn!==0?Pn&-Pn:TP.transition!==null?(Um===0&&(Um=zw()),Um):(a=ft,a!==0||(a=window.event,a=a===void 0?16:Xw(a.type)),a):1}function Pi(a,c,p,v){if(50<oh)throw oh=0,Uv=null,Error(t(185));Td(a,p,v),(!(tt&2)||a!==bn)&&(a===bn&&(!(tt&2)&&(zm|=p),cn===4&&Vo(a,Pn)),ys(a,v),p===1&&tt===0&&!(c.mode&1)&&(Xc=qt()+500,vm&&Mo()))}function ys(a,c){var p=a.callbackNode;TT(a,c);var v=Zp(a,a===bn?Pn:0);if(v===0)p!==null&&Dw(p),a.callbackNode=null,a.callbackPriority=0;else if(c=v&-v,a.callbackPriority!==c){if(p!=null&&Dw(p),c===1)a.tag===0?NP(XS.bind(null,a)):L_(XS.bind(null,a)),EP(function(){!(tt&6)&&Mo()}),p=null;else{switch(Bw(v)){case 1:p=Sx;break;case 4:p=Fw;break;case 16:p=Kp;break;case 536870912:p=Ow;break;default:p=Kp}p=nC(p,GS.bind(null,a))}a.callbackPriority=c,a.callbackNode=p}}function GS(a,c){if($m=-1,Um=0,tt&6)throw Error(t(327));var p=a.callbackNode;if(Kc()&&a.callbackNode!==p)return null;var v=Zp(a,a===bn?Pn:0);if(v===0)return null;if(v&30||v&a.expiredLanes||c)c=Wm(a,v);else{c=v;var _=tt;tt|=2;var E=YS();(bn!==a||Pn!==c)&&(Dr=null,Xc=qt()+500,Ya(a,c));do try{YP();break}catch(z){KS(a,z)}while(!0);lv(),Om.current=E,tt=_,en!==null?c=0:(bn=null,Pn=0,c=cn)}if(c!==0){if(c===2&&(_=Cx(a),_!==0&&(v=_,c=Wv(a,_))),c===1)throw p=ih,Ya(a,0),Vo(a,v),ys(a,qt()),p;if(c===6)Vo(a,v);else{if(_=a.current.alternate,!(v&30)&&!XP(_)&&(c=Wm(a,v),c===2&&(E=Cx(a),E!==0&&(v=E,c=Wv(a,E))),c===1))throw p=ih,Ya(a,0),Vo(a,v),ys(a,qt()),p;switch(a.finishedWork=_,a.finishedLanes=v,c){case 0:case 1:throw Error(t(345));case 2:Ja(a,vs,Dr);break;case 3:if(Vo(a,v),(v&130023424)===v&&(c=Vv+500-qt(),10<c)){if(Zp(a,0)!==0)break;if(_=a.suspendedLanes,(_&v)!==v){ss(),a.pingedLanes|=a.suspendedLanes&_;break}a.timeoutHandle=Jx(Ja.bind(null,a,vs,Dr),c);break}Ja(a,vs,Dr);break;case 4:if(Vo(a,v),(v&4194240)===v)break;for(c=a.eventTimes,_=-1;0<v;){var R=31-Ei(v);E=1<<R,R=c[R],R>_&&(_=R),v&=~E}if(v=_,v=qt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*GP(v/1960))-v,10<v){a.timeoutHandle=Jx(Ja.bind(null,a,vs,Dr),v);break}Ja(a,vs,Dr);break;case 5:Ja(a,vs,Dr);break;default:throw Error(t(329))}}}return ys(a,qt()),a.callbackNode===p?GS.bind(null,a):null}function Wv(a,c){var p=rh;return a.current.memoizedState.isDehydrated&&(Ya(a,c).flags|=256),a=Wm(a,c),a!==2&&(c=vs,vs=p,c!==null&&qv(c)),a}function qv(a){vs===null?vs=a:vs.push.apply(vs,a)}function XP(a){for(var c=a;;){if(c.flags&16384){var p=c.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var v=0;v<p.length;v++){var _=p[v],E=_.getSnapshot;_=_.value;try{if(!Ai(E(),_))return!1}catch{return!1}}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Vo(a,c){for(c&=~Hv,c&=~zm,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var p=31-Ei(c),v=1<<p;a[p]=-1,c&=~v}}function XS(a){if(tt&6)throw Error(t(327));Kc();var c=Zp(a,0);if(!(c&1))return ys(a,qt()),null;var p=Wm(a,c);if(a.tag!==0&&p===2){var v=Cx(a);v!==0&&(c=v,p=Wv(a,v))}if(p===1)throw p=ih,Ya(a,0),Vo(a,c),ys(a,qt()),p;if(p===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,Ja(a,vs,Dr),ys(a,qt()),null}function Gv(a,c){var p=tt;tt|=1;try{return a(c)}finally{tt=p,tt===0&&(Xc=qt()+500,vm&&Mo())}}function Ka(a){Bo!==null&&Bo.tag===0&&!(tt&6)&&Kc();var c=tt;tt|=1;var p=ii.transition,v=ft;try{if(ii.transition=null,ft=1,a)return a()}finally{ft=v,ii.transition=p,tt=c,!(tt&6)&&Mo()}}function Xv(){Ds=Gc.current,Pt(Gc)}function Ya(a,c){a.finishedWork=null,a.finishedLanes=0;var p=a.timeoutHandle;if(p!==-1&&(a.timeoutHandle=-1,CP(p)),en!==null)for(p=en.return;p!==null;){var v=p;switch(sv(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&gm();break;case 3:Uc(),Pt(ms),Pt(Bn),gv();break;case 5:pv(v);break;case 4:Uc();break;case 13:Pt(Dt);break;case 19:Pt(Dt);break;case 10:cv(v.type._context);break;case 22:case 23:Xv()}p=p.return}if(bn=a,en=a=$o(a.current,null),Pn=Ds=c,cn=0,ih=null,Hv=zm=Xa=0,vs=rh=null,Wa!==null){for(c=0;c<Wa.length;c++)if(p=Wa[c],v=p.interleaved,v!==null){p.interleaved=null;var _=v.next,E=p.pending;if(E!==null){var R=E.next;E.next=_,v.next=R}p.pending=v}Wa=null}return a}function KS(a,c){do{var p=en;try{if(lv(),jm.current=Rm,Nm){for(var v=Ft.memoizedState;v!==null;){var _=v.queue;_!==null&&(_.pending=null),v=v.next}Nm=!1}if(Ga=0,yn=ln=Ft=null,Qd=!1,Zd=0,Bv.current=null,p===null||p.return===null){cn=1,ih=c,en=null;break}e:{var E=a,R=p.return,z=p,U=c;if(c=Pn,z.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var Z=U,oe=z,ue=oe.tag;if(!(oe.mode&1)&&(ue===0||ue===11||ue===15)){var re=oe.alternate;re?(oe.updateQueue=re.updateQueue,oe.memoizedState=re.memoizedState,oe.lanes=re.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var be=bS(R);if(be!==null){be.flags&=-257,wS(be,R,z,E,c),be.mode&1&&yS(E,Z,c),c=be,U=Z;var Se=c.updateQueue;if(Se===null){var Ce=new Set;Ce.add(U),c.updateQueue=Ce}else Se.add(U);break e}else{if(!(c&1)){yS(E,Z,c),Kv();break e}U=Error(t(426))}}else if(It&&z.mode&1){var Gt=bS(R);if(Gt!==null){!(Gt.flags&65536)&&(Gt.flags|=256),wS(Gt,R,z,E,c),ov(Wc(U,z));break e}}E=U=Wc(U,z),cn!==4&&(cn=2),rh===null?rh=[E]:rh.push(E),E=R;do{switch(E.tag){case 3:E.flags|=65536,c&=-c,E.lanes|=c;var K=xS(E,U,c);U_(E,K);break e;case 1:z=U;var q=E.type,Q=E.stateNode;if(!(E.flags&128)&&(typeof q.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(zo===null||!zo.has(Q)))){E.flags|=65536,c&=-c,E.lanes|=c;var he=vS(E,z,c);U_(E,he);break e}}E=E.return}while(E!==null)}QS(p)}catch(Ee){c=Ee,en===p&&p!==null&&(en=p=p.return);continue}break}while(!0)}function YS(){var a=Om.current;return Om.current=Rm,a===null?Rm:a}function Kv(){(cn===0||cn===3||cn===2)&&(cn=4),bn===null||!(Xa&268435455)&&!(zm&268435455)||Vo(bn,Pn)}function Wm(a,c){var p=tt;tt|=2;var v=YS();(bn!==a||Pn!==c)&&(Dr=null,Ya(a,c));do try{KP();break}catch(_){KS(a,_)}while(!0);if(lv(),tt=p,Om.current=v,en!==null)throw Error(t(261));return bn=null,Pn=0,cn}function KP(){for(;en!==null;)JS(en)}function YP(){for(;en!==null&&!wT();)JS(en)}function JS(a){var c=tC(a.alternate,a,Ds);a.memoizedProps=a.pendingProps,c===null?QS(a):en=c,Bv.current=null}function QS(a){var c=a;do{var p=c.alternate;if(a=c.return,c.flags&32768){if(p=$P(p,c),p!==null){p.flags&=32767,en=p;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{cn=6,en=null;return}}else if(p=VP(p,c,Ds),p!==null){en=p;return}if(c=c.sibling,c!==null){en=c;return}en=c=a}while(c!==null);cn===0&&(cn=5)}function Ja(a,c,p){var v=ft,_=ii.transition;try{ii.transition=null,ft=1,JP(a,c,p,v)}finally{ii.transition=_,ft=v}return null}function JP(a,c,p,v){do Kc();while(Bo!==null);if(tt&6)throw Error(t(327));p=a.finishedWork;var _=a.finishedLanes;if(p===null)return null;if(a.finishedWork=null,a.finishedLanes=0,p===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var E=p.lanes|p.childLanes;if(PT(a,E),a===bn&&(en=bn=null,Pn=0),!(p.subtreeFlags&2064)&&!(p.flags&2064)||Hm||(Hm=!0,nC(Kp,function(){return Kc(),null})),E=(p.flags&15990)!==0,p.subtreeFlags&15990||E){E=ii.transition,ii.transition=null;var R=ft;ft=1;var z=tt;tt|=4,Bv.current=null,WP(a,p),VS(p,a),xP(Kx),nm=!!Xx,Kx=Xx=null,a.current=p,qP(p),_T(),tt=z,ft=R,ii.transition=E}else a.current=p;if(Hm&&(Hm=!1,Bo=a,Vm=_),E=a.pendingLanes,E===0&&(zo=null),ET(p.stateNode),ys(a,qt()),c!==null)for(v=a.onRecoverableError,p=0;p<c.length;p++)_=c[p],v(_.value,{componentStack:_.stack,digest:_.digest});if(Bm)throw Bm=!1,a=$v,$v=null,a;return Vm&1&&a.tag!==0&&Kc(),E=a.pendingLanes,E&1?a===Uv?oh++:(oh=0,Uv=a):oh=0,Mo(),null}function Kc(){if(Bo!==null){var a=Bw(Vm),c=ii.transition,p=ft;try{if(ii.transition=null,ft=16>a?16:a,Bo===null)var v=!1;else{if(a=Bo,Bo=null,Vm=0,tt&6)throw Error(t(331));var _=tt;for(tt|=4,_e=a.current;_e!==null;){var E=_e,R=E.child;if(_e.flags&16){var z=E.deletions;if(z!==null){for(var U=0;U<z.length;U++){var Z=z[U];for(_e=Z;_e!==null;){var oe=_e;switch(oe.tag){case 0:case 11:case 15:sh(8,oe,E)}var ue=oe.child;if(ue!==null)ue.return=oe,_e=ue;else for(;_e!==null;){oe=_e;var re=oe.sibling,be=oe.return;if(FS(oe),oe===Z){_e=null;break}if(re!==null){re.return=be,_e=re;break}_e=be}}}var Se=E.alternate;if(Se!==null){var Ce=Se.child;if(Ce!==null){Se.child=null;do{var Gt=Ce.sibling;Ce.sibling=null,Ce=Gt}while(Ce!==null)}}_e=E}}if(E.subtreeFlags&2064&&R!==null)R.return=E,_e=R;else e:for(;_e!==null;){if(E=_e,E.flags&2048)switch(E.tag){case 0:case 11:case 15:sh(9,E,E.return)}var K=E.sibling;if(K!==null){K.return=E.return,_e=K;break e}_e=E.return}}var q=a.current;for(_e=q;_e!==null;){R=_e;var Q=R.child;if(R.subtreeFlags&2064&&Q!==null)Q.return=R,_e=Q;else e:for(R=q;_e!==null;){if(z=_e,z.flags&2048)try{switch(z.tag){case 0:case 11:case 15:Fm(9,z)}}catch(Ee){Vt(z,z.return,Ee)}if(z===R){_e=null;break e}var he=z.sibling;if(he!==null){he.return=z.return,_e=he;break e}_e=z.return}}if(tt=_,Mo(),Qi&&typeof Qi.onPostCommitFiberRoot=="function")try{Qi.onPostCommitFiberRoot(Yp,a)}catch{}v=!0}return v}finally{ft=p,ii.transition=c}}return!1}function ZS(a,c,p){c=Wc(p,c),c=xS(a,c,1),a=Fo(a,c,1),c=ss(),a!==null&&(Td(a,1,c),ys(a,c))}function Vt(a,c,p){if(a.tag===3)ZS(a,a,p);else for(;c!==null;){if(c.tag===3){ZS(c,a,p);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(zo===null||!zo.has(v))){a=Wc(p,a),a=vS(c,a,1),c=Fo(c,a,1),a=ss(),c!==null&&(Td(c,1,a),ys(c,a));break}}c=c.return}}function QP(a,c,p){var v=a.pingCache;v!==null&&v.delete(c),c=ss(),a.pingedLanes|=a.suspendedLanes&p,bn===a&&(Pn&p)===p&&(cn===4||cn===3&&(Pn&130023424)===Pn&&500>qt()-Vv?Ya(a,0):Hv|=p),ys(a,c)}function eC(a,c){c===0&&(a.mode&1?(c=Qp,Qp<<=1,!(Qp&130023424)&&(Qp=4194304)):c=1);var p=ss();a=Lr(a,c),a!==null&&(Td(a,c,p),ys(a,p))}function ZP(a){var c=a.memoizedState,p=0;c!==null&&(p=c.retryLane),eC(a,p)}function eR(a,c){var p=0;switch(a.tag){case 13:var v=a.stateNode,_=a.memoizedState;_!==null&&(p=_.retryLane);break;case 19:v=a.stateNode;break;default:throw Error(t(314))}v!==null&&v.delete(c),eC(a,p)}var tC;tC=function(a,c,p){if(a!==null)if(a.memoizedProps!==c.pendingProps||ms.current)xs=!0;else{if(!(a.lanes&p)&&!(c.flags&128))return xs=!1,HP(a,c,p);xs=!!(a.flags&131072)}else xs=!1,It&&c.flags&1048576&&I_(c,bm,c.index);switch(c.lanes=0,c.tag){case 2:var v=c.type;Mm(a,c),a=c.pendingProps;var _=Fc(c,Bn.current);$c(c,p),_=yv(null,c,v,a,_,p);var E=bv();return c.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,gs(v)?(E=!0,xm(c)):E=!1,c.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,hv(c),_.updater=Lm,c.stateNode=_,_._reactInternals=c,Av(c,v,a,p),c=Tv(null,c,v,!0,E,p)):(c.tag=0,It&&E&&nv(c),ns(null,c,_,p),c=c.child),c;case 16:v=c.elementType;e:{switch(Mm(a,c),a=c.pendingProps,_=v._init,v=_(v._payload),c.type=v,_=c.tag=nR(v),a=ji(v,a),_){case 0:c=Nv(null,c,v,a,p);break e;case 1:c=kS(null,c,v,a,p);break e;case 11:c=_S(null,c,v,a,p);break e;case 14:c=SS(null,c,v,ji(v.type,a),p);break e}throw Error(t(306,v,""))}return c;case 0:return v=c.type,_=c.pendingProps,_=c.elementType===v?_:ji(v,_),Nv(a,c,v,_,p);case 1:return v=c.type,_=c.pendingProps,_=c.elementType===v?_:ji(v,_),kS(a,c,v,_,p);case 3:e:{if(jS(c),a===null)throw Error(t(387));v=c.pendingProps,E=c.memoizedState,_=E.element,$_(a,c),Am(c,v,null,p);var R=c.memoizedState;if(v=R.element,E.isDehydrated)if(E={element:v,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},c.updateQueue.baseState=E,c.memoizedState=E,c.flags&256){_=Wc(Error(t(423)),c),c=NS(a,c,v,p,_);break e}else if(v!==_){_=Wc(Error(t(424)),c),c=NS(a,c,v,p,_);break e}else for(Ms=Ro(c.stateNode.containerInfo.firstChild),Is=c,It=!0,ki=null,p=H_(c,null,v,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Bc(),v===_){c=Mr(a,c,p);break e}ns(a,c,v,p)}c=c.child}return c;case 5:return q_(c),a===null&&rv(c),v=c.type,_=c.pendingProps,E=a!==null?a.memoizedProps:null,R=_.children,Yx(v,_)?R=null:E!==null&&Yx(v,E)&&(c.flags|=32),AS(a,c),ns(a,c,R,p),c.child;case 6:return a===null&&rv(c),null;case 13:return TS(a,c,p);case 4:return fv(c,c.stateNode.containerInfo),v=c.pendingProps,a===null?c.child=Hc(c,null,v,p):ns(a,c,v,p),c.child;case 11:return v=c.type,_=c.pendingProps,_=c.elementType===v?_:ji(v,_),_S(a,c,v,_,p);case 7:return ns(a,c,c.pendingProps,p),c.child;case 8:return ns(a,c,c.pendingProps.children,p),c.child;case 12:return ns(a,c,c.pendingProps.children,p),c.child;case 10:e:{if(v=c.type._context,_=c.pendingProps,E=c.memoizedProps,R=_.value,Et(Sm,v._currentValue),v._currentValue=R,E!==null)if(Ai(E.value,R)){if(E.children===_.children&&!ms.current){c=Mr(a,c,p);break e}}else for(E=c.child,E!==null&&(E.return=c);E!==null;){var z=E.dependencies;if(z!==null){R=E.child;for(var U=z.firstContext;U!==null;){if(U.context===v){if(E.tag===1){U=Ir(-1,p&-p),U.tag=2;var Z=E.updateQueue;if(Z!==null){Z=Z.shared;var oe=Z.pending;oe===null?U.next=U:(U.next=oe.next,oe.next=U),Z.pending=U}}E.lanes|=p,U=E.alternate,U!==null&&(U.lanes|=p),uv(E.return,p,c),z.lanes|=p;break}U=U.next}}else if(E.tag===10)R=E.type===c.type?null:E.child;else if(E.tag===18){if(R=E.return,R===null)throw Error(t(341));R.lanes|=p,z=R.alternate,z!==null&&(z.lanes|=p),uv(R,p,c),R=E.sibling}else R=E.child;if(R!==null)R.return=E;else for(R=E;R!==null;){if(R===c){R=null;break}if(E=R.sibling,E!==null){E.return=R.return,R=E;break}R=R.return}E=R}ns(a,c,_.children,p),c=c.child}return c;case 9:return _=c.type,v=c.pendingProps.children,$c(c,p),_=ni(_),v=v(_),c.flags|=1,ns(a,c,v,p),c.child;case 14:return v=c.type,_=ji(v,c.pendingProps),_=ji(v.type,_),SS(a,c,v,_,p);case 15:return CS(a,c,c.type,c.pendingProps,p);case 17:return v=c.type,_=c.pendingProps,_=c.elementType===v?_:ji(v,_),Mm(a,c),c.tag=1,gs(v)?(a=!0,xm(c)):a=!1,$c(c,p),mS(c,v,_),Av(c,v,_,p),Tv(null,c,v,!0,a,p);case 19:return RS(a,c,p);case 22:return ES(a,c,p)}throw Error(t(156,c.tag))};function nC(a,c){return Mw(a,c)}function tR(a,c,p,v){this.tag=a,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ri(a,c,p,v){return new tR(a,c,p,v)}function Yv(a){return a=a.prototype,!(!a||!a.isReactComponent)}function nR(a){if(typeof a=="function")return Yv(a)?1:0;if(a!=null){if(a=a.$$typeof,a===J)return 11;if(a===$)return 14}return 2}function $o(a,c){var p=a.alternate;return p===null?(p=ri(a.tag,c,a.key,a.mode),p.elementType=a.elementType,p.type=a.type,p.stateNode=a.stateNode,p.alternate=a,a.alternate=p):(p.pendingProps=c,p.type=a.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=a.flags&14680064,p.childLanes=a.childLanes,p.lanes=a.lanes,p.child=a.child,p.memoizedProps=a.memoizedProps,p.memoizedState=a.memoizedState,p.updateQueue=a.updateQueue,c=a.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=a.sibling,p.index=a.index,p.ref=a.ref,p}function qm(a,c,p,v,_,E){var R=2;if(v=a,typeof a=="function")Yv(a)&&(R=1);else if(typeof a=="string")R=5;else e:switch(a){case M:return Qa(p.children,_,E,c);case F:R=8,_|=8;break;case B:return a=ri(12,p,c,_|2),a.elementType=B,a.lanes=E,a;case ie:return a=ri(13,p,c,_),a.elementType=ie,a.lanes=E,a;case se:return a=ri(19,p,c,_),a.elementType=se,a.lanes=E,a;case V:return Gm(p,_,E,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:R=10;break e;case W:R=9;break e;case J:R=11;break e;case $:R=14;break e;case ee:R=16,v=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return c=ri(R,p,c,_),c.elementType=a,c.type=v,c.lanes=E,c}function Qa(a,c,p,v){return a=ri(7,a,v,c),a.lanes=p,a}function Gm(a,c,p,v){return a=ri(22,a,v,c),a.elementType=V,a.lanes=p,a.stateNode={isHidden:!1},a}function Jv(a,c,p){return a=ri(6,a,null,c),a.lanes=p,a}function Qv(a,c,p){return c=ri(4,a.children!==null?a.children:[],a.key,c),c.lanes=p,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function sR(a,c,p,v,_){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ex(0),this.expirationTimes=Ex(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ex(0),this.identifierPrefix=v,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function Zv(a,c,p,v,_,E,R,z,U){return a=new sR(a,c,p,z,U),c===1?(c=1,E===!0&&(c|=8)):c=0,E=ri(3,null,null,c),a.current=E,E.stateNode=a,E.memoizedState={element:v,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},hv(E),a}function iR(a,c,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:v==null?null:""+v,children:a,containerInfo:c,implementation:p}}function sC(a){if(!a)return Io;a=a._reactInternals;e:{if(Ba(a)!==a||a.tag!==1)throw Error(t(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(gs(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(t(171))}if(a.tag===1){var p=a.type;if(gs(p))return P_(a,p,c)}return c}function iC(a,c,p,v,_,E,R,z,U){return a=Zv(p,v,!0,a,_,E,R,z,U),a.context=sC(null),p=a.current,v=ss(),_=Ho(p),E=Ir(v,_),E.callback=c??null,Fo(p,E,_),a.current.lanes=_,Td(a,_,v),ys(a,v),a}function Xm(a,c,p,v){var _=c.current,E=ss(),R=Ho(_);return p=sC(p),c.context===null?c.context=p:c.pendingContext=p,c=Ir(E,R),c.payload={element:a},v=v===void 0?null:v,v!==null&&(c.callback=v),a=Fo(_,c,R),a!==null&&(Pi(a,_,R,E),Em(a,_,R)),R}function Km(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function rC(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var p=a.retryLane;a.retryLane=p!==0&&p<c?p:c}}function ey(a,c){rC(a,c),(a=a.alternate)&&rC(a,c)}function rR(){return null}var oC=typeof reportError=="function"?reportError:function(a){console.error(a)};function ty(a){this._internalRoot=a}Ym.prototype.render=ty.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(t(409));Xm(a,c,null,null)},Ym.prototype.unmount=ty.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;Ka(function(){Xm(null,a,null,null)}),c[Nr]=null}};function Ym(a){this._internalRoot=a}Ym.prototype.unstable_scheduleHydration=function(a){if(a){var c=$w();a={blockedOn:null,target:a,priority:c};for(var p=0;p<No.length&&c!==0&&c<No[p].priority;p++);No.splice(p,0,a),p===0&&qw(a)}};function ny(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Jm(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function aC(){}function oR(a,c,p,v,_){if(_){if(typeof v=="function"){var E=v;v=function(){var Z=Km(R);E.call(Z)}}var R=iC(c,v,a,0,null,!1,!1,"",aC);return a._reactRootContainer=R,a[Nr]=R.current,Ud(a.nodeType===8?a.parentNode:a),Ka(),R}for(;_=a.lastChild;)a.removeChild(_);if(typeof v=="function"){var z=v;v=function(){var Z=Km(U);z.call(Z)}}var U=Zv(a,0,!1,null,null,!1,!1,"",aC);return a._reactRootContainer=U,a[Nr]=U.current,Ud(a.nodeType===8?a.parentNode:a),Ka(function(){Xm(c,U,p,v)}),U}function Qm(a,c,p,v,_){var E=p._reactRootContainer;if(E){var R=E;if(typeof _=="function"){var z=_;_=function(){var U=Km(R);z.call(U)}}Xm(c,R,a,_)}else R=oR(p,c,a,_,v);return Km(R)}Hw=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var p=Nd(c.pendingLanes);p!==0&&(Ax(c,p|1),ys(c,qt()),!(tt&6)&&(Xc=qt()+500,Mo()))}break;case 13:Ka(function(){var v=Lr(a,1);if(v!==null){var _=ss();Pi(v,a,1,_)}}),ey(a,1)}},kx=function(a){if(a.tag===13){var c=Lr(a,134217728);if(c!==null){var p=ss();Pi(c,a,134217728,p)}ey(a,134217728)}},Vw=function(a){if(a.tag===13){var c=Ho(a),p=Lr(a,c);if(p!==null){var v=ss();Pi(p,a,c,v)}ey(a,c)}},$w=function(){return ft},Uw=function(a,c){var p=ft;try{return ft=a,c()}finally{ft=p}},zn=function(a,c,p){switch(c){case"input":if(Ne(a,p),c=p.name,p.type==="radio"&&c!=null){for(p=a;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<p.length;c++){var v=p[c];if(v!==a&&v.form===a.form){var _=mm(v);if(!_)throw Error(t(90));Zt(v),Ne(v,_)}}}break;case"textarea":Ji(a,p);break;case"select":c=p.value,c!=null&&Nt(a,!!p.multiple,c,!1)}},jw=Gv,Nw=Ka;var aR={usingClientEntryPoint:!1,Events:[Gd,Mc,mm,za,qp,Gv]},ah={findFiberByHostInstance:Ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lR={bundleType:ah.bundleType,version:ah.version,rendererPackageName:ah.rendererPackageName,rendererConfig:ah.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Lw(a),a===null?null:a.stateNode},findFiberByHostInstance:ah.findFiberByHostInstance||rR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zm.isDisabled&&Zm.supportsFiber)try{Yp=Zm.inject(lR),Qi=Zm}catch{}}return bs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aR,bs.createPortal=function(a,c){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ny(c))throw Error(t(200));return iR(a,c,null,p)},bs.createRoot=function(a,c){if(!ny(a))throw Error(t(299));var p=!1,v="",_=oC;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(_=c.onRecoverableError)),c=Zv(a,1,!1,null,null,p,!1,v,_),a[Nr]=c.current,Ud(a.nodeType===8?a.parentNode:a),new ty(c)},bs.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=Lw(c),a=a===null?null:a.stateNode,a},bs.flushSync=function(a){return Ka(a)},bs.hydrate=function(a,c,p){if(!Jm(c))throw Error(t(200));return Qm(null,a,c,!0,p)},bs.hydrateRoot=function(a,c,p){if(!ny(a))throw Error(t(405));var v=p!=null&&p.hydratedSources||null,_=!1,E="",R=oC;if(p!=null&&(p.unstable_strictMode===!0&&(_=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onRecoverableError!==void 0&&(R=p.onRecoverableError)),c=iC(c,null,a,1,p??null,_,!1,E,R),a[Nr]=c.current,Ud(a),v)for(a=0;a<v.length;a++)p=v[a],_=p._getVersion,_=_(p._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[p,_]:c.mutableSourceEagerHydrationData.push(p,_);return new Ym(c)},bs.render=function(a,c,p){if(!Jm(c))throw Error(t(200));return Qm(null,a,c,!1,p)},bs.unmountComponentAtNode=function(a){if(!Jm(a))throw Error(t(40));return a._reactRootContainer?(Ka(function(){Qm(null,null,a,!1,function(){a._reactRootContainer=null,a[Nr]=null})}),!0):!1},bs.unstable_batchedUpdates=Gv,bs.unstable_renderSubtreeIntoContainer=function(a,c,p,v){if(!Jm(p))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return Qm(a,c,p,!1,v)},bs.version="18.3.1-next-f1338f8080-20240426",bs}var gC;function YA(){if(gC)return oy.exports;gC=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),oy.exports=yR(),oy.exports}var xC;function bR(){if(xC)return eg;xC=1;var s=YA();return eg.createRoot=s.createRoot,eg.hydrateRoot=s.hydrateRoot,eg}var wR=bR();const _R=Tp(wR);YA();/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zh(){return Zh=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},Zh.apply(this,arguments)}var Ca;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Ca||(Ca={}));const vC="popstate";function SR(s){s===void 0&&(s={});function e(n,i){let{pathname:r,search:o,hash:l}=n.location;return Vy("",{pathname:r,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:c0(i)}return ER(e,t,null,s)}function Jt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function JA(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CR(){return Math.random().toString(36).substr(2,8)}function yC(s,e){return{usr:s.state,key:s.key,idx:e}}function Vy(s,e,t,n){return t===void 0&&(t=null),Zh({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof e=="string"?yd(e):e,{state:t,key:e&&e.key||n||CR()})}function c0(s){let{pathname:e="/",search:t="",hash:n=""}=s;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function yd(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substr(t),s=s.substr(0,t));let n=s.indexOf("?");n>=0&&(e.search=s.substr(n),s=s.substr(0,n)),s&&(e.pathname=s)}return e}function ER(s,e,t,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:r=!1}=n,o=i.history,l=Ca.Pop,u=null,d=f();d==null&&(d=0,o.replaceState(Zh({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function g(){l=Ca.Pop;let S=f(),C=S==null?null:S-d;d=S,u&&u({action:l,location:w.location,delta:C})}function x(S,C){l=Ca.Push;let j=Vy(w.location,S,C);d=f()+1;let A=yC(j,d),k=w.createHref(j);try{o.pushState(A,"",k)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(k)}r&&u&&u({action:l,location:w.location,delta:1})}function y(S,C){l=Ca.Replace;let j=Vy(w.location,S,C);d=f();let A=yC(j,d),k=w.createHref(j);o.replaceState(A,"",k),r&&u&&u({action:l,location:w.location,delta:0})}function b(S){let C=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof S=="string"?S:c0(S);return j=j.replace(/ $/,"%20"),Jt(C,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,C)}let w={get action(){return l},get location(){return s(i,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(vC,g),u=S,()=>{i.removeEventListener(vC,g),u=null}},createHref(S){return e(i,S)},createURL:b,encodeLocation(S){let C=b(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:y,go(S){return o.go(S)}};return w}var bC;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(bC||(bC={}));function AR(s,e,t){return t===void 0&&(t="/"),kR(s,e,t,!1)}function kR(s,e,t,n){let i=typeof e=="string"?yd(e):e,r=L1(i.pathname||"/",t);if(r==null)return null;let o=QA(s);jR(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=zR(r);l=FR(o[u],d,n)}return l}function QA(s,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let i=(r,o,l)=>{let u={relativePath:l===void 0?r.path||"":l,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};u.relativePath.startsWith("/")&&(Jt(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let d=ja([n,u.relativePath]),f=t.concat(u);r.children&&r.children.length>0&&(Jt(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),QA(r.children,e,f,d)),!(r.path==null&&!r.index)&&e.push({path:d,score:MR(d,r.index),routesMeta:f})};return s.forEach((r,o)=>{var l;if(r.path===""||!((l=r.path)!=null&&l.includes("?")))i(r,o);else for(let u of ZA(r.path))i(r,o,u)}),e}function ZA(s){let e=s.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),r=t.replace(/\?$/,"");if(n.length===0)return i?[r,""]:[r];let o=ZA(n.join("/")),l=[];return l.push(...o.map(u=>u===""?r:[r,u].join("/"))),i&&l.push(...o),l.map(u=>s.startsWith("/")&&u===""?"/":u)}function jR(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:DR(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const NR=/^:[\w-]+$/,TR=3,PR=2,RR=1,LR=10,IR=-2,wC=s=>s==="*";function MR(s,e){let t=s.split("/"),n=t.length;return t.some(wC)&&(n+=IR),e&&(n+=PR),t.filter(i=>!wC(i)).reduce((i,r)=>i+(NR.test(r)?TR:r===""?RR:LR),n)}function DR(s,e){return s.length===e.length&&s.slice(0,-1).every((n,i)=>n===e[i])?s[s.length-1]-e[e.length-1]:0}function FR(s,e,t){let{routesMeta:n}=s,i={},r="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],d=l===n.length-1,f=r==="/"?e:e.slice(r.length)||"/",g=_C({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),x=u.route;if(!g&&d&&t&&!n[n.length-1].route.index&&(g=_C({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!g)return null;Object.assign(i,g.params),o.push({params:i,pathname:ja([r,g.pathname]),pathnameBase:$R(ja([r,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(r=ja([r,g.pathnameBase]))}return o}function _C(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,n]=OR(s.path,s.caseSensitive,s.end),i=e.match(t);if(!i)return null;let r=i[0],o=r.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,f,g)=>{let{paramName:x,isOptional:y}=f;if(x==="*"){let w=l[g]||"";o=r.slice(0,r.length-w.length).replace(/(.)\/+$/,"$1")}const b=l[g];return y&&!b?d[x]=void 0:d[x]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:o,pattern:s}}function OR(s,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),JA(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let n=[],i="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(n.push({paramName:"*"}),i+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":s!==""&&s!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function zR(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return JA(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),s}}function L1(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=s.charAt(t);return n&&n!=="/"?null:s.slice(t)||"/"}function BR(s,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:i=""}=typeof s=="string"?yd(s):s;return{pathname:t?t.startsWith("/")?t:HR(t,e):e,search:UR(n),hash:WR(i)}}function HR(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function cy(s,e,t,n){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VR(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function I1(s,e){let t=VR(s);return e?t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function M1(s,e,t,n){n===void 0&&(n=!1);let i;typeof s=="string"?i=yd(s):(i=Zh({},s),Jt(!i.pathname||!i.pathname.includes("?"),cy("?","pathname","search",i)),Jt(!i.pathname||!i.pathname.includes("#"),cy("#","pathname","hash",i)),Jt(!i.search||!i.search.includes("#"),cy("#","search","hash",i)));let r=s===""||i.pathname==="",o=r?"/":i.pathname,l;if(o==null)l=t;else{let g=e.length-1;if(!n&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),g-=1;i.pathname=x.join("/")}l=g>=0?e[g]:"/"}let u=BR(i,l),d=o&&o!=="/"&&o.endsWith("/"),f=(r||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const ja=s=>s.join("/").replace(/\/\/+/g,"/"),$R=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),UR=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,WR=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function qR(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const e2=["post","put","patch","delete"];new Set(e2);const GR=["get",...e2];new Set(GR);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ef(){return ef=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},ef.apply(this,arguments)}const D1=N.createContext(null),XR=N.createContext(null),Ma=N.createContext(null),X0=N.createContext(null),Co=N.createContext({outlet:null,matches:[],isDataRoute:!1}),t2=N.createContext(null);function KR(s,e){let{relative:t}=e===void 0?{}:e;bd()||Jt(!1);let{basename:n,navigator:i}=N.useContext(Ma),{hash:r,pathname:o,search:l}=s2(s,{relative:t}),u=o;return n!=="/"&&(u=o==="/"?n:ja([n,o])),i.createHref({pathname:u,search:l,hash:r})}function bd(){return N.useContext(X0)!=null}function Pp(){return bd()||Jt(!1),N.useContext(X0).location}function n2(s){N.useContext(Ma).static||N.useLayoutEffect(s)}function Ye(){let{isDataRoute:s}=N.useContext(Co);return s?lL():YR()}function YR(){bd()||Jt(!1);let s=N.useContext(D1),{basename:e,future:t,navigator:n}=N.useContext(Ma),{matches:i}=N.useContext(Co),{pathname:r}=Pp(),o=JSON.stringify(I1(i,t.v7_relativeSplatPath)),l=N.useRef(!1);return n2(()=>{l.current=!0}),N.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let g=M1(d,JSON.parse(o),r,f.relative==="path");s==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ja([e,g.pathname])),(f.replace?n.replace:n.push)(g,f.state,f)},[e,n,o,r,s])}function u0(){let{matches:s}=N.useContext(Co),e=s[s.length-1];return e?e.params:{}}function s2(s,e){let{relative:t}=e===void 0?{}:e,{future:n}=N.useContext(Ma),{matches:i}=N.useContext(Co),{pathname:r}=Pp(),o=JSON.stringify(I1(i,n.v7_relativeSplatPath));return N.useMemo(()=>M1(s,JSON.parse(o),r,t==="path"),[s,o,r,t])}function JR(s,e){return QR(s,e)}function QR(s,e,t,n){bd()||Jt(!1);let{navigator:i}=N.useContext(Ma),{matches:r}=N.useContext(Co),o=r[r.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=Pp(),f;if(e){var g;let S=typeof e=="string"?yd(e):e;u==="/"||(g=S.pathname)!=null&&g.startsWith(u)||Jt(!1),f=S}else f=d;let x=f.pathname||"/",y=x;if(u!=="/"){let S=u.replace(/^\//,"").split("/");y="/"+x.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=AR(s,{pathname:y}),w=sL(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:ja([u,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?u:ja([u,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),r,t,n);return e&&w?N.createElement(X0.Provider,{value:{location:ef({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ca.Pop}},w):w}function ZR(){let s=aL(),e=qR(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:i},t):null,null)}const eL=N.createElement(ZR,null);class tL extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(Co.Provider,{value:this.props.routeContext},N.createElement(t2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nL(s){let{routeContext:e,match:t,children:n}=s,i=N.useContext(D1);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Co.Provider,{value:e},n)}function sL(s,e,t,n){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),s==null){var r;if(!t)return null;if(t.errors)s=t.matches;else if((r=n)!=null&&r.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let o=s,l=(i=t)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);f>=0||Jt(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(t&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let g=o[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=f),g.route.id){let{loaderData:x,errors:y}=t,b=g.route.loader&&x[g.route.id]===void 0&&(!y||y[g.route.id]===void 0);if(g.route.lazy||b){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,g,x)=>{let y,b=!1,w=null,S=null;t&&(y=l&&g.route.id?l[g.route.id]:void 0,w=g.route.errorElement||eL,u&&(d<0&&x===0?(b=!0,S=null):d===x&&(b=!0,S=g.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,x+1)),j=()=>{let A;return y?A=w:b?A=S:g.route.Component?A=N.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=f,N.createElement(nL,{match:g,routeContext:{outlet:f,matches:C,isDataRoute:t!=null},children:A})};return t&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?N.createElement(tL,{location:t.location,revalidation:t.revalidation,component:w,error:y,children:j(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):j()},null)}var i2=function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s}(i2||{}),d0=function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s}(d0||{});function iL(s){let e=N.useContext(D1);return e||Jt(!1),e}function rL(s){let e=N.useContext(XR);return e||Jt(!1),e}function oL(s){let e=N.useContext(Co);return e||Jt(!1),e}function r2(s){let e=oL(),t=e.matches[e.matches.length-1];return t.route.id||Jt(!1),t.route.id}function aL(){var s;let e=N.useContext(t2),t=rL(d0.UseRouteError),n=r2(d0.UseRouteError);return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function lL(){let{router:s}=iL(i2.UseNavigateStable),e=r2(d0.UseNavigateStable),t=N.useRef(!1);return n2(()=>{t.current=!0}),N.useCallback(function(i,r){r===void 0&&(r={}),t.current&&(typeof i=="number"?s.navigate(i):s.navigate(i,ef({fromRouteId:e},r)))},[s,e])}function SC(s){let{to:e,replace:t,state:n,relative:i}=s;bd()||Jt(!1);let{future:r,static:o}=N.useContext(Ma),{matches:l}=N.useContext(Co),{pathname:u}=Pp(),d=Ye(),f=M1(e,I1(l,r.v7_relativeSplatPath),u,i==="path"),g=JSON.stringify(f);return N.useEffect(()=>d(JSON.parse(g),{replace:t,state:n,relative:i}),[d,g,i,t,n]),null}function At(s){Jt(!1)}function cL(s){let{basename:e="/",children:t=null,location:n,navigationType:i=Ca.Pop,navigator:r,static:o=!1,future:l}=s;bd()&&Jt(!1);let u=e.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:u,navigator:r,static:o,future:ef({v7_relativeSplatPath:!1},l)}),[u,l,r,o]);typeof n=="string"&&(n=yd(n));let{pathname:f="/",search:g="",hash:x="",state:y=null,key:b="default"}=n,w=N.useMemo(()=>{let S=L1(f,u);return S==null?null:{location:{pathname:S,search:g,hash:x,state:y,key:b},navigationType:i}},[u,f,g,x,y,b,i]);return w==null?null:N.createElement(Ma.Provider,{value:d},N.createElement(X0.Provider,{children:t,value:w}))}function uL(s){let{children:e,location:t}=s;return JR($y(e),t)}new Promise(()=>{});function $y(s,e){e===void 0&&(e=[]);let t=[];return N.Children.forEach(s,(n,i)=>{if(!N.isValidElement(n))return;let r=[...e,i];if(n.type===N.Fragment){t.push.apply(t,$y(n.props.children,r));return}n.type!==At&&Jt(!1),!n.props.index||!n.props.children||Jt(!1);let o={id:n.props.id||r.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=$y(n.props.children,r)),t.push(o)}),t}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uy(){return Uy=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},Uy.apply(this,arguments)}function dL(s,e){if(s==null)return{};var t={},n=Object.keys(s),i,r;for(r=0;r<n.length;r++)i=n[r],!(e.indexOf(i)>=0)&&(t[i]=s[i]);return t}function hL(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function fL(s,e){return s.button===0&&(!e||e==="_self")&&!hL(s)}const pL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],mL="6";try{window.__reactRouterVersion=mL}catch{}const gL="startTransition",CC=gR[gL];function xL(s){let{basename:e,children:t,future:n,window:i}=s,r=N.useRef();r.current==null&&(r.current=SR({window:i,v5Compat:!0}));let o=r.current,[l,u]=N.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},f=N.useCallback(g=>{d&&CC?CC(()=>u(g)):u(g)},[u,d]);return N.useLayoutEffect(()=>o.listen(f),[o,f]),N.createElement(cL,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o,future:n})}const vL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bL=N.forwardRef(function(e,t){let{onClick:n,relative:i,reloadDocument:r,replace:o,state:l,target:u,to:d,preventScrollReset:f,unstable_viewTransition:g}=e,x=dL(e,pL),{basename:y}=N.useContext(Ma),b,w=!1;if(typeof d=="string"&&yL.test(d)&&(b=d,vL))try{let A=new URL(window.location.href),k=d.startsWith("//")?new URL(A.protocol+d):new URL(d),T=L1(k.pathname,y);k.origin===A.origin&&T!=null?d=T+k.search+k.hash:w=!0}catch{}let S=KR(d,{relative:i}),C=wL(d,{replace:o,state:l,target:u,preventScrollReset:f,relative:i,unstable_viewTransition:g});function j(A){n&&n(A),A.defaultPrevented||C(A)}return N.createElement("a",Uy({},x,{href:b||S,onClick:w||r?n:j,ref:t,target:u}))});var EC;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(EC||(EC={}));var AC;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(AC||(AC={}));function wL(s,e){let{target:t,replace:n,state:i,preventScrollReset:r,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,u=Ye(),d=Pp(),f=s2(s,{relative:o});return N.useCallback(g=>{if(fL(g,t)){g.preventDefault();let x=n!==void 0?n:c0(d)===c0(f);u(s,{replace:x,state:i,preventScrollReset:r,relative:o,unstable_viewTransition:l})}},[d,u,f,n,i,t,s,r,o,l])}var tg={},kC;function _L(){if(kC)return tg;kC=1,tg.match=r,tg.parse=o;var s=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,e=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,t=/^(?:(min|max)-)?(.+)/,n=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function r(f,g){return o(f).some(function(x){var y=x.inverse,b=x.type==="all"||g.type===x.type;if(b&&y||!(b||y))return!1;var w=x.expressions.every(function(S){var C=S.feature,j=S.modifier,A=S.value,k=g[C];if(!k)return!1;switch(C){case"orientation":case"scan":return k.toLowerCase()===A.toLowerCase();case"width":case"height":case"device-width":case"device-height":A=d(A),k=d(k);break;case"resolution":A=u(A),k=u(k);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":A=l(A),k=l(k);break;case"grid":case"color":case"color-index":case"monochrome":A=parseInt(A,10)||1,k=parseInt(k,10)||0;break}switch(j){case"min":return k>=A;case"max":return k<=A;default:return k===A}});return w&&!y||!w&&y})}function o(f){return f.split(",").map(function(g){g=g.trim();var x=g.match(s),y=x[1],b=x[2],w=x[3]||"",S={};return S.inverse=!!y&&y.toLowerCase()==="not",S.type=b?b.toLowerCase():"all",w=w.match(/\([^\)]+\)/g)||[],S.expressions=w.map(function(C){var j=C.match(e),A=j[1].toLowerCase().match(t);return{modifier:A[1],feature:A[2],value:j[2]}}),S})}function l(f){var g=Number(f),x;return g||(x=f.match(/^(\d+)\s*\/\s*(\d+)$/),g=x[1]/x[2]),g}function u(f){var g=parseFloat(f),x=String(f).match(i)[1];switch(x){case"dpcm":return g/2.54;case"dppx":return g*96;default:return g}}function d(f){var g=parseFloat(f),x=String(f).match(n)[1];switch(x){case"em":return g*16;case"rem":return g*16;case"cm":return g*96/2.54;case"mm":return g*96/2.54/10;case"in":return g*96;case"pt":return g*72;case"pc":return g*72/12;default:return g}}return tg}var uy,jC;function SL(){if(jC)return uy;jC=1;var s=_L().match,e=typeof window<"u"?window.matchMedia:null;function t(i,r,o){var l=this,u;e&&!o&&(u=e.call(window,i)),u?(this.matches=u.matches,this.media=u.media,u.addListener(g)):(this.matches=s(i,r),this.media=i),this.addListener=d,this.removeListener=f,this.dispose=x;function d(y){u&&u.addListener(y)}function f(y){u&&u.removeListener(y)}function g(y){l.matches=y.matches,l.media=y.media}function x(){u&&u.removeListener(g)}}function n(i,r,o){return new t(i,r,o)}return uy=n,uy}var CL=SL();const EL=Tp(CL);var AL=/[A-Z]/g,kL=/^ms-/,dy={};function jL(s){return"-"+s.toLowerCase()}function o2(s){if(dy.hasOwnProperty(s))return dy[s];var e=s.replace(AL,jL);return dy[s]=kL.test(e)?"-"+e:e}function NL(s,e){if(s===e)return!0;if(!s||!e)return!1;const t=Object.keys(s),n=Object.keys(e),i=t.length;if(n.length!==i)return!1;for(let r=0;r<i;r++){const o=t[r];if(s[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}var hy={exports:{}},fy,NC;function TL(){if(NC)return fy;NC=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return fy=s,fy}var py,TC;function PL(){if(TC)return py;TC=1;var s=TL();function e(){}function t(){}return t.resetWarningCache=e,py=function(){function n(o,l,u,d,f,g){if(g!==s){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}n.isRequired=n;function i(){return n}var r={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return r.PropTypes=r,r},py}var PC;function RL(){return PC||(PC=1,hy.exports=PL()()),hy.exports}var LL=RL();const ct=Tp(LL),as=ct.oneOfType([ct.string,ct.number]),F1={all:ct.bool,grid:ct.bool,aural:ct.bool,braille:ct.bool,handheld:ct.bool,print:ct.bool,projection:ct.bool,screen:ct.bool,tty:ct.bool,tv:ct.bool,embossed:ct.bool},a2={orientation:ct.oneOf(["portrait","landscape"]),scan:ct.oneOf(["progressive","interlace"]),aspectRatio:ct.string,deviceAspectRatio:ct.string,height:as,deviceHeight:as,width:as,deviceWidth:as,color:ct.bool,colorIndex:ct.bool,monochrome:ct.bool,resolution:as,type:Object.keys(F1)},{type:HB,...IL}=a2,l2={minAspectRatio:ct.string,maxAspectRatio:ct.string,minDeviceAspectRatio:ct.string,maxDeviceAspectRatio:ct.string,minHeight:as,maxHeight:as,minDeviceHeight:as,maxDeviceHeight:as,minWidth:as,maxWidth:as,minDeviceWidth:as,maxDeviceWidth:as,minColor:ct.number,maxColor:ct.number,minColorIndex:ct.number,maxColorIndex:ct.number,minMonochrome:ct.number,maxMonochrome:ct.number,minResolution:as,maxResolution:as,...IL},ML={...F1,...l2};var DL={all:ML,types:F1,matchers:a2,features:l2};const FL=s=>`not ${s}`,OL=(s,e)=>{const t=o2(s);return typeof e=="number"&&(e=`${e}px`),e===!0?t:e===!1?FL(t):`(${t}: ${e})`},zL=s=>s.join(" and "),BL=s=>{const e=[];return Object.keys(DL.all).forEach(t=>{const n=s[t];n!=null&&e.push(OL(t,n))}),zL(e)},HL=N.createContext(void 0),VL=s=>s.query||BL(s),RC=s=>s?Object.keys(s).reduce((t,n)=>(t[o2(n)]=s[n],t),{}):void 0,c2=()=>{const s=N.useRef(!1);return N.useEffect(()=>{s.current=!0},[]),s.current},$L=s=>{const e=N.useContext(HL),t=()=>RC(s)||RC(e),[n,i]=N.useState(t);return N.useEffect(()=>{const r=t();NL(n,r)||i(r)},[s,e]),n},UL=s=>{const e=()=>VL(s),[t,n]=N.useState(e);return N.useEffect(()=>{const i=e();t!==i&&n(i)},[s]),t},WL=(s,e)=>{const t=()=>EL(s,e||{},!!e),[n,i]=N.useState(t),r=c2();return N.useEffect(()=>{if(r){const o=t();return i(o),()=>{o&&o.dispose()}}},[s,e]),n},qL=s=>{const[e,t]=N.useState(s.matches);return N.useEffect(()=>{const n=i=>{t(i.matches)};return s.addListener(n),t(s.matches),()=>{s.removeListener(n)}},[s]),e},GL=(s,e,t)=>{const n=$L(e),i=UL(s);if(!i)throw new Error("Invalid or missing MediaQuery!");const r=WL(i,n),o=qL(r),l=c2();return N.useEffect(()=>{l&&t&&t(o)},[o]),N.useEffect(()=>()=>{r&&r.dispose()},[]),o};function u2(s){var e,t,n="";if(typeof s=="string"||typeof s=="number")n+=s;else if(typeof s=="object")if(Array.isArray(s)){var i=s.length;for(e=0;e<i;e++)s[e]&&(t=u2(s[e]))&&(n&&(n+=" "),n+=t)}else for(t in s)s[t]&&(n&&(n+=" "),n+=t);return n}function mi(){for(var s,e,t=0,n="",i=arguments.length;t<i;t++)(s=arguments[t])&&(e=u2(s))&&(n&&(n+=" "),n+=e);return n}const tf=s=>typeof s=="number"&&!isNaN(s),dc=s=>typeof s=="string",Ks=s=>typeof s=="function",Eg=s=>dc(s)||Ks(s)?s:null,Wy=s=>N.isValidElement(s)||dc(s)||Ks(s)||tf(s);function XL(s,e,t){t===void 0&&(t=300);const{scrollHeight:n,style:i}=s;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function K0(s){let{enter:e,exit:t,appendPosition:n=!1,collapse:i=!0,collapseDuration:r=300}=s;return function(o){let{children:l,position:u,preventExitTransition:d,done:f,nodeRef:g,isIn:x,playToast:y}=o;const b=n?`${e}--${u}`:e,w=n?`${t}--${u}`:t,S=N.useRef(0);return N.useLayoutEffect(()=>{const C=g.current,j=b.split(" "),A=k=>{k.target===g.current&&(y(),C.removeEventListener("animationend",A),C.removeEventListener("animationcancel",A),S.current===0&&k.type!=="animationcancel"&&C.classList.remove(...j))};C.classList.add(...j),C.addEventListener("animationend",A),C.addEventListener("animationcancel",A)},[]),N.useEffect(()=>{const C=g.current,j=()=>{C.removeEventListener("animationend",j),i?XL(C,f,r):f()};x||(d?j():(S.current=1,C.className+=` ${w}`,C.addEventListener("animationend",j)))},[x]),He.createElement(He.Fragment,null,l)}}function LC(s,e){return s!=null?{content:s.content,containerId:s.props.containerId,id:s.props.toastId,theme:s.props.theme,type:s.props.type,data:s.props.data||{},isLoading:s.props.isLoading,icon:s.props.icon,status:e}:{}}const us=new Map;let nf=[];const qy=new Set,KL=s=>qy.forEach(e=>e(s)),d2=()=>us.size>0;function h2(s,e){var t;if(e)return!((t=us.get(e))==null||!t.isToastActive(s));let n=!1;return us.forEach(i=>{i.isToastActive(s)&&(n=!0)}),n}function f2(s,e){Wy(s)&&(d2()||nf.push({content:s,options:e}),us.forEach(t=>{t.buildToast(s,e)}))}function IC(s,e){us.forEach(t=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===t.id&&t.toggle(s,e==null?void 0:e.id):t.toggle(s,e==null?void 0:e.id)})}function YL(s){const{subscribe:e,getSnapshot:t,setProps:n}=N.useRef(function(r){const o=r.containerId||1;return{subscribe(l){const u=function(f,g,x){let y=1,b=0,w=[],S=[],C=[],j=g;const A=new Map,k=new Set,T=()=>{C=Array.from(A.values()),k.forEach(F=>F())},I=F=>{S=F==null?[]:S.filter(B=>B!==F),T()},M=F=>{const{toastId:B,onOpen:O,updateId:W,children:J}=F.props,ie=W==null;F.staleId&&A.delete(F.staleId),A.set(B,F),S=[...S,F.props.toastId].filter(se=>se!==F.staleId),T(),x(LC(F,ie?"added":"updated")),ie&&Ks(O)&&O(N.isValidElement(J)&&J.props)};return{id:f,props:j,observe:F=>(k.add(F),()=>k.delete(F)),toggle:(F,B)=>{A.forEach(O=>{B!=null&&B!==O.props.toastId||Ks(O.toggle)&&O.toggle(F)})},removeToast:I,toasts:A,clearQueue:()=>{b-=w.length,w=[]},buildToast:(F,B)=>{if((Y=>{let{containerId:ce,toastId:fe,updateId:ye}=Y;const de=ce?ce!==f:f!==1,xe=A.has(fe)&&ye==null;return de||xe})(B))return;const{toastId:O,updateId:W,data:J,staleId:ie,delay:se}=B,$=()=>{I(O)},ee=W==null;ee&&b++;const V={...j,style:j.toastStyle,key:y++,...Object.fromEntries(Object.entries(B).filter(Y=>{let[ce,fe]=Y;return fe!=null})),toastId:O,updateId:W,data:J,closeToast:$,isIn:!1,className:Eg(B.className||j.toastClassName),bodyClassName:Eg(B.bodyClassName||j.bodyClassName),progressClassName:Eg(B.progressClassName||j.progressClassName),autoClose:!B.isLoading&&(G=B.autoClose,X=j.autoClose,G===!1||tf(G)&&G>0?G:X),deleteToast(){const Y=A.get(O),{onClose:ce,children:fe}=Y.props;Ks(ce)&&ce(N.isValidElement(fe)&&fe.props),x(LC(Y,"removed")),A.delete(O),b--,b<0&&(b=0),w.length>0?M(w.shift()):T()}};var G,X;V.closeButton=j.closeButton,B.closeButton===!1||Wy(B.closeButton)?V.closeButton=B.closeButton:B.closeButton===!0&&(V.closeButton=!Wy(j.closeButton)||j.closeButton);let ne=F;N.isValidElement(F)&&!dc(F.type)?ne=N.cloneElement(F,{closeToast:$,toastProps:V,data:J}):Ks(F)&&(ne=F({closeToast:$,toastProps:V,data:J}));const H={content:ne,props:V,staleId:ie};j.limit&&j.limit>0&&b>j.limit&&ee?w.push(H):tf(se)?setTimeout(()=>{M(H)},se):M(H)},setProps(F){j=F},setToggle:(F,B)=>{A.get(F).toggle=B},isToastActive:F=>S.some(B=>B===F),getSnapshot:()=>C}}(o,r,KL);us.set(o,u);const d=u.observe(l);return nf.forEach(f=>f2(f.content,f.options)),nf=[],()=>{d(),us.delete(o)}},setProps(l){var u;(u=us.get(o))==null||u.setProps(l)},getSnapshot(){var l;return(l=us.get(o))==null?void 0:l.getSnapshot()}}}(s)).current;n(s);const i=N.useSyncExternalStore(e,t,t);return{getToastToRender:function(r){if(!i)return[];const o=new Map;return s.newestOnTop&&i.reverse(),i.forEach(l=>{const{position:u}=l.props;o.has(u)||o.set(u,[]),o.get(u).push(l)}),Array.from(o,l=>r(l[0],l[1]))},isToastActive:h2,count:i==null?void 0:i.length}}function JL(s){const[e,t]=N.useState(!1),[n,i]=N.useState(!1),r=N.useRef(null),o=N.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:u,closeToast:d,onClick:f,closeOnClick:g}=s;var x,y;function b(){t(!0)}function w(){t(!1)}function S(A){const k=r.current;o.canDrag&&k&&(o.didMove=!0,e&&w(),o.delta=s.draggableDirection==="x"?A.clientX-o.start:A.clientY-o.start,o.start!==A.clientX&&(o.canCloseOnClick=!1),k.style.transform=`translate3d(${s.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,k.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function C(){document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",C);const A=r.current;if(o.canDrag&&o.didMove&&A){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),s.closeToast(),void s.collapseAll();A.style.transition="transform 0.2s, opacity 0.2s",A.style.removeProperty("transform"),A.style.removeProperty("opacity")}}(y=us.get((x={id:s.toastId,containerId:s.containerId,fn:t}).containerId||1))==null||y.setToggle(x.id,x.fn),N.useEffect(()=>{if(s.pauseOnFocusLoss)return document.hasFocus()||w(),window.addEventListener("focus",b),window.addEventListener("blur",w),()=>{window.removeEventListener("focus",b),window.removeEventListener("blur",w)}},[s.pauseOnFocusLoss]);const j={onPointerDown:function(A){if(s.draggable===!0||s.draggable===A.pointerType){o.didMove=!1,document.addEventListener("pointermove",S),document.addEventListener("pointerup",C);const k=r.current;o.canCloseOnClick=!0,o.canDrag=!0,k.style.transition="none",s.draggableDirection==="x"?(o.start=A.clientX,o.removalDistance=k.offsetWidth*(s.draggablePercent/100)):(o.start=A.clientY,o.removalDistance=k.offsetHeight*(s.draggablePercent===80?1.5*s.draggablePercent:s.draggablePercent)/100)}},onPointerUp:function(A){const{top:k,bottom:T,left:I,right:M}=r.current.getBoundingClientRect();A.nativeEvent.type!=="touchend"&&s.pauseOnHover&&A.clientX>=I&&A.clientX<=M&&A.clientY>=k&&A.clientY<=T?w():b()}};return l&&u&&(j.onMouseEnter=w,s.stacked||(j.onMouseLeave=b)),g&&(j.onClick=A=>{f&&f(A),o.canCloseOnClick&&d()}),{playToast:b,pauseToast:w,isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:j}}function QL(s){let{delay:e,isRunning:t,closeToast:n,type:i="default",hide:r,className:o,style:l,controlledProgress:u,progress:d,rtl:f,isIn:g,theme:x}=s;const y=r||u&&d===0,b={...l,animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};u&&(b.transform=`scaleX(${d})`);const w=mi("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${x}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),S=Ks(o)?o({rtl:f,type:i,defaultClassName:w}):mi(w,o),C={[u&&d>=1?"onTransitionEnd":"onAnimationEnd"]:u&&d<1?null:()=>{g&&n()}};return He.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},He.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${x} Toastify__progress-bar--${i}`}),He.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:S,style:b,...C}))}let ZL=1;const p2=()=>""+ZL++;function eI(s){return s&&(dc(s.toastId)||tf(s.toastId))?s.toastId:p2()}function $h(s,e){return f2(s,e),e.toastId}function h0(s,e){return{...e,type:e&&e.type||s,toastId:eI(e)}}function ng(s){return(e,t)=>$h(e,h0(s,t))}function _t(s,e){return $h(s,h0("default",e))}_t.loading=(s,e)=>$h(s,h0("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),_t.promise=function(s,e,t){let n,{pending:i,error:r,success:o}=e;i&&(n=dc(i)?_t.loading(i,t):_t.loading(i.render,{...t,...i}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(f,g,x)=>{if(g==null)return void _t.dismiss(n);const y={type:f,...l,...t,data:x},b=dc(g)?{render:g}:g;return n?_t.update(n,{...y,...b}):_t(b.render,{...y,...b}),x},d=Ks(s)?s():s;return d.then(f=>u("success",o,f)).catch(f=>u("error",r,f)),d},_t.success=ng("success"),_t.info=ng("info"),_t.error=ng("error"),_t.warning=ng("warning"),_t.warn=_t.warning,_t.dark=(s,e)=>$h(s,h0("default",{theme:"dark",...e})),_t.dismiss=function(s){(function(e){var t;if(d2()){if(e==null||dc(t=e)||tf(t))us.forEach(n=>{n.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const n=us.get(e.containerId);n?n.removeToast(e.id):us.forEach(i=>{i.removeToast(e.id)})}}else nf=nf.filter(n=>e!=null&&n.options.toastId!==e)})(s)},_t.clearWaitingQueue=function(s){s===void 0&&(s={}),us.forEach(e=>{!e.props.limit||s.containerId&&e.id!==s.containerId||e.clearQueue()})},_t.isActive=h2,_t.update=function(s,e){e===void 0&&(e={});const t=((n,i)=>{var r;let{containerId:o}=i;return(r=us.get(o||1))==null?void 0:r.toasts.get(n)})(s,e);if(t){const{props:n,content:i}=t,r={delay:100,...n,...e,toastId:e.toastId||s,updateId:p2()};r.toastId!==s&&(r.staleId=s);const o=r.render||i;delete r.render,$h(o,r)}},_t.done=s=>{_t.update(s,{progress:1})},_t.onChange=function(s){return qy.add(s),()=>{qy.delete(s)}},_t.play=s=>IC(!0,s),_t.pause=s=>IC(!1,s);const tI=typeof window<"u"?N.useLayoutEffect:N.useEffect,sg=s=>{let{theme:e,type:t,isLoading:n,...i}=s;return He.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...i})},my={info:function(s){return He.createElement(sg,{...s},He.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(s){return He.createElement(sg,{...s},He.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(s){return He.createElement(sg,{...s},He.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(s){return He.createElement(sg,{...s},He.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return He.createElement("div",{className:"Toastify__spinner"})}},nI=s=>{const{isRunning:e,preventExitTransition:t,toastRef:n,eventHandlers:i,playToast:r}=JL(s),{closeButton:o,children:l,autoClose:u,onClick:d,type:f,hideProgressBar:g,closeToast:x,transition:y,position:b,className:w,style:S,bodyClassName:C,bodyStyle:j,progressClassName:A,progressStyle:k,updateId:T,role:I,progress:M,rtl:F,toastId:B,deleteToast:O,isIn:W,isLoading:J,closeOnClick:ie,theme:se}=s,$=mi("Toastify__toast",`Toastify__toast-theme--${se}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":F},{"Toastify__toast--close-on-click":ie}),ee=Ks(w)?w({rtl:F,position:b,type:f,defaultClassName:$}):mi($,w),V=function(H){let{theme:Y,type:ce,isLoading:fe,icon:ye}=H,de=null;const xe={theme:Y,type:ce};return ye===!1||(Ks(ye)?de=ye({...xe,isLoading:fe}):N.isValidElement(ye)?de=N.cloneElement(ye,xe):fe?de=my.spinner():(ke=>ke in my)(ce)&&(de=my[ce](xe))),de}(s),G=!!M||!u,X={closeToast:x,type:f,theme:se};let ne=null;return o===!1||(ne=Ks(o)?o(X):N.isValidElement(o)?N.cloneElement(o,X):function(H){let{closeToast:Y,theme:ce,ariaLabel:fe="close"}=H;return He.createElement("button",{className:`Toastify__close-button Toastify__close-button--${ce}`,type:"button",onClick:ye=>{ye.stopPropagation(),Y(ye)},"aria-label":fe},He.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},He.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(X)),He.createElement(y,{isIn:W,done:O,position:b,preventExitTransition:t,nodeRef:n,playToast:r},He.createElement("div",{id:B,onClick:d,"data-in":W,className:ee,...i,style:S,ref:n},He.createElement("div",{...W&&{role:I},className:Ks(C)?C({type:f}):mi("Toastify__toast-body",C),style:j},V!=null&&He.createElement("div",{className:mi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!J})},V),He.createElement("div",null,l)),ne,He.createElement(QL,{...T&&!G?{key:`pb-${T}`}:{},rtl:F,theme:se,delay:u,isRunning:e,isIn:W,closeToast:x,hide:g,type:f,style:k,className:A,controlledProgress:G,progress:M||0})))},Y0=function(s,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${s}-enter`,exit:`Toastify--animate Toastify__${s}-exit`,appendPosition:e}},sI=K0(Y0("bounce",!0)),m2=K0(Y0("slide",!0));K0(Y0("zoom"));K0(Y0("flip"));const iI={position:"top-right",transition:sI,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function rI(s){let e={...iI,...s};const t=s.stacked,[n,i]=N.useState(!0),r=N.useRef(null),{getToastToRender:o,isToastActive:l,count:u}=YL(e),{className:d,style:f,rtl:g,containerId:x}=e;function y(w){const S=mi("Toastify__toast-container",`Toastify__toast-container--${w}`,{"Toastify__toast-container--rtl":g});return Ks(d)?d({position:w,rtl:g,defaultClassName:S}):mi(S,Eg(d))}function b(){t&&(i(!0),_t.play())}return tI(()=>{if(t){var w;const S=r.current.querySelectorAll('[data-in="true"]'),C=12,j=(w=e.position)==null?void 0:w.includes("top");let A=0,k=0;Array.from(S).reverse().forEach((T,I)=>{const M=T;M.classList.add("Toastify__toast--stacked"),I>0&&(M.dataset.collapsed=`${n}`),M.dataset.pos||(M.dataset.pos=j?"top":"bot");const F=A*(n?.2:1)+(n?0:C*I);M.style.setProperty("--y",`${j?F:-1*F}px`),M.style.setProperty("--g",`${C}`),M.style.setProperty("--s",""+(1-(n?k:0))),A+=M.offsetHeight,k+=.025})}},[n,u,t]),He.createElement("div",{ref:r,className:"Toastify",id:x,onMouseEnter:()=>{t&&(i(!1),_t.pause())},onMouseLeave:b},o((w,S)=>{const C=S.length?{...f}:{...f,pointerEvents:"none"};return He.createElement("div",{className:y(w),style:C,key:`container-${w}`},S.map(j=>{let{content:A,props:k}=j;return He.createElement(nI,{...k,stacked:t,collapseAll:b,isIn:l(k.toastId,k.containerId),style:k.style,key:`toast-${k.key}`},A)}))}))}const oI="/assets/houseBg-6zecMiN2.jpg";function g2(){return h.jsxs("div",{className:"w-full h-14 lg:h-24 flex justify-center mt-4 z-10 bg-no-repeat bg-cover overflow-hidden",style:{backgroundImage:`url(${oI})`,backgroundPosition:"center calc(100% + 50px)",borderRadius:window.innerWidth<1024?"0.25rem":".75rem"},children:[h.jsx("div",{className:"flex-1 flex justify-center items-center",children:h.jsx("p",{className:"font-bold text-white lg:text-2xl",children:"Agilidade"})}),h.jsx("div",{className:"flex-1 flex justify-center items-center border-l-2 border-r-2 border-white-900",children:h.jsx("p",{className:"font-bold text-white lg:text-2xl",children:"Segurança"})}),h.jsx("div",{className:"flex-1 flex justify-center items-center",children:h.jsx("p",{className:"font-bold text-white lg:text-2xl",children:"Simplicidade"})})]})}var x2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},MC=He.createContext&&He.createContext(x2),aI=["attr","size","title"];function lI(s,e){if(s==null)return{};var t=cI(s,e),n,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);for(i=0;i<r.length;i++)n=r[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(s,n)&&(t[n]=s[n])}return t}function cI(s,e){if(s==null)return{};var t={};for(var n in s)if(Object.prototype.hasOwnProperty.call(s,n)){if(e.indexOf(n)>=0)continue;t[n]=s[n]}return t}function f0(){return f0=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},f0.apply(this,arguments)}function DC(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable})),t.push.apply(t,n)}return t}function p0(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(t),!0).forEach(function(n){uI(s,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):DC(Object(t)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(t,n))})}return s}function uI(s,e,t){return e=dI(e),e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function dI(s){var e=hI(s,"string");return typeof e=="symbol"?e:e+""}function hI(s,e){if(typeof s!="object"||!s)return s;var t=s[Symbol.toPrimitive];if(t!==void 0){var n=t.call(s,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function v2(s){return s&&s.map((e,t)=>He.createElement(e.tag,p0({key:t},e.attr),v2(e.child)))}function jn(s){return e=>He.createElement(fI,f0({attr:p0({},s.attr)},e),v2(s.child))}function fI(s){var e=t=>{var{attr:n,size:i,title:r}=s,o=lI(s,aI),l=i||t.size||"1em",u;return t.className&&(u=t.className),s.className&&(u=(u?u+" ":"")+s.className),He.createElement("svg",f0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,o,{className:u,style:p0(p0({color:s.color||t.color},t.style),s.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),r&&He.createElement("title",null,r),s.children)};return MC!==void 0?He.createElement(MC.Consumer,null,t=>e(t)):e(x2)}function pI(s){return jn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"},child:[]}]})(s)}function FC(s){return jn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(s)}function mI(s){return jn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 13v-2H7V8l-5 4 5 4v-3z"},child:[]},{tag:"path",attr:{d:"M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z"},child:[]}]})(s)}function gI(s){return jn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18 8H20C20.5523 8 21 8.44772 21 9V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V9C3 8.44772 3.44772 8 4 8H6V7C6 3.68629 8.68629 1 12 1C15.3137 1 18 3.68629 18 7V8ZM5 10V20H19V10H5ZM11 14H13V16H11V14ZM7 14H9V16H7V14ZM15 14H17V16H15V14ZM16 8V7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7V8H16Z"},child:[]}]})(s)}function xI(s){return jn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 22C4.44772 22 4 21.5523 4 21V3C4 2.44772 4.44772 2 5 2H19C19.5523 2 20 2.44772 20 3V6H18V4H6V20H18V18H20V21C20 21.5523 19.5523 22 19 22H5ZM18 16V13H11V11H18V8L23 12L18 16Z"},child:[]}]})(s)}const vI=({userType:s,toggleMenu:e,isOpen:t})=>{const n=Ye(),i=N.useRef(null),[r,o]=N.useState(window.innerWidth>1024),[l,u]=N.useState({transform:r?"translateX(100%)":"translateX(-100%)",transition:"transform 0.5s ease-in-out"}),[d,f]=N.useState(!1);N.useEffect(()=>{const C=()=>{o(window.innerWidth>1024)};return window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]),N.useEffect(()=>{u(t&&!d?{transform:"translateX(0)",transition:"transform 0.5s ease-in-out"}:d?{transform:r?"translateX(100%)":"translateX(-100%)",transition:"transform 0.5s ease-in-out"}:{transform:r?"translateX(100%)":"translateX(-100%)",transition:"none"})},[t,d,r]);const g=C=>{i.current&&!i.current.contains(C.target)&&x()},x=()=>{t?(f(!0),setTimeout(()=>{e(),f(!1)},500)):e()},y=()=>{console.log("sair da conta"),n("/"),localStorage.clear()},b=C=>{n(C),x()},w=localStorage.getItem("userRole");w=="Admin"?s="Admin":w=="Judiciario"?s="Judiciario":w=="Locatario"?s="Locatario":w=="Locador"&&(s="Locador");const S=()=>{switch(console.log("Este é o valor de userType: ",s),s){case"Admin":return h.jsxs(h.Fragment,{children:[h.jsx("li",{className:"w-full h-16 hover:h-20 hover:bg-[#181716] transition-all duration-300 ease-in-out",children:h.jsx("button",{className:"w-full h-full h-10 drop-shadow-[0_0px_10px_rgba(255,255,255,.5)]",onClick:()=>b("/imoveis"),children:"Início"})}),h.jsx("li",{className:"w-full h-16 hover:h-20 hover:bg-[#181716] transition-all duration-300 ease-in-out",children:h.jsx("button",{className:"w-full h-full h-10 drop-shadow-[0_0px_10px_rgba(255,255,255,.5)]",onClick:()=>b("/dashboard"),children:"Dashboard"})}),h.jsx("li",{className:"w-full h-16 hover:h-20 hover:bg-[#181716] transition-all duration-300 ease-in-out",children:h.jsx("button",{className:"w-full h-full h-10 drop-shadow-[0_0px_10px_rgba(255,255,255,.5)]",onClick:()=>b("/usuarios"),children:"Usuários"})}),h.jsx("li",{className:"w-full h-16 hover:h-20 hover:bg-[#181716] transition-all duration-300 ease-in-out",children:h.jsx("button",{className:"w-full h-full h-10 drop-shadow-[0_0px_10px_rgba(255,255,255,.5)]",onClick:()=>b("/contratos"),children:"Contratos"})}),h.jsx("li",{className:"w-full h-16 hover:h-20 hover:bg-[#181716] transition-all duration-300 ease-in-out",children:h.jsx("button",{className:"w-full h-full h-10 drop-shadow-[0_0px_10px_rgba(255,255,255,.5)]",onClick:()=>b("/usuarios/criar"),children:"Novo Usuário"})}),h.jsx("li",{className:"w-full h-16 hover:h-20 hover:bg-[#181716] transition-all duration-300 ease-in-out",children:h.jsx("button",{className:"w-full h-full h-10 drop-shadow-[0_0px_10px_rgba(255,255,255,.5)]",onClick:()=>b("/chamados"),children:"Chamados"})}),h.jsx("li",{className:"w-full h-16 hover:h-20 hover:bg-[#181716] transition-all duration-300 ease-in-out",children:h.jsx("button",{className:"w-full h-full h-10 drop-shadow-[0_0px_10px_rgba(255,255,255,.5)]",onClick:()=>b("/imoveis/criar"),children:"Cadastrar Imóvel"})}),h.jsx("li",{className:"w-full h-16 hover:h-20 hover:bg-[#181716] transition-all duration-300 ease-in-out",children:h.jsx("button",{className:"w-full h-full h-10 drop-shadow-[0_0px_10px_rgba(255,255,255,.5)]",onClick:()=>b("/contratos/criar"),children:"Adicionar Contrato"})}),h.jsx("li",{className:"w-full h-16 hover:h-20 hover:bg-[#181716] transition-all duration-300 ease-in-out",children:h.jsx("button",{className:"w-full h-full h-10 drop-shadow-[0_0px_10px_rgba(255,255,255,.5)]",onClick:()=>b("/perfil"),children:"Perfil"})})]});case"Judiciario":return h.jsxs(h.Fragment,{children:[h.jsx("li",{className:"w-full h-16 hover:h-20 hover:bg-[#181716] transition-all duration-300 ease-in-out",children:h.jsx("button",{className:"w-full h-full h-10 drop-shadow-[0_0px_10px_rgba(255,255,255,.5)]",onClick:()=>b("/dashboard"),children:"Início"})}),h.jsx("li",{className:"w-full h-16 hover:h-20 hover:bg-[#181716] transition-all duration-300 ease-in-out",children:h.jsx("button",{className:"w-full h-full h-10 drop-shadow-[0_0px_10px_rgba(255,255,255,.5)]",onClick:()=>b("/imoveis"),children:"Imóveis"})}),h.jsx("li",{className:"w-full h-16 hover:h-20 hover:bg-[#181716] transition-all duration-300 ease-in-out",children:h.jsx("button",{className:"w-full h-full h-10 drop-shadow-[0_0px_10px_rgba(255,255,255,.5)]",onClick:()=>b("/contratos"),children:"Documentos"})}),h.jsx("li",{className:"w-full h-16 hover:h-20 hover:bg-[#181716] transition-all duration-300 ease-in-out",children:h.jsx("button",{className:"w-full h-full h-10 drop-shadow-[0_0px_10px_rgba(255,255,255,.5)]",onClick:()=>b("/perfil"),children:"Perfil"})})]});case"Locador":return h.jsxs(h.Fragment,{children:[h.jsx("li",{className:"w-full h-16 hover:h-20 hover:bg-[#181716] transition-all duration-300 ease-in-out",children:h.jsx("button",{className:"w-full h-full h-10 drop-shadow-[0_0px_10px_rgba(255,255,255,.5)]",onClick:()=>b("/home-locador"),children:"Início"})}),h.jsx("li",{className:"w-full h-16 hover:h-20 hover:bg-[#181716] transition-all duration-300 ease-in-out",children:h.jsx("button",{className:"w-full h-full h-10 drop-shadow-[0_0px_10px_rgba(255,255,255,.5)]",onClick:()=>b("/dashboard"),children:"Dashboard"})}),h.jsx("li",{className:"w-full h-16 hover:h-20 hover:bg-[#181716] transition-all duration-300 ease-in-out",children:h.jsx("button",{className:"w-full h-full h-10 drop-shadow-[0_0px_10px_rgba(255,255,255,.5)]",onClick:()=>b("/perfil"),children:"Perfil"})})]});case"Locatario":return h.jsxs(h.Fragment,{children:[h.jsx("li",{className:"w-full h-16 hover:h-20 hover:bg-[#181716] transition-all duration-300 ease-in-out",children:h.jsx("button",{className:"w-full h-full h-10 drop-shadow-[0_0px_10px_rgba(255,255,255,.5)]",onClick:()=>b("/home-locatario"),children:"Início"})}),h.jsx("li",{className:"w-full h-16 hover:h-20 hover:bg-[#181716] transition-all duration-300 ease-in-out",children:h.jsx("button",{className:"w-full h-full h-10 drop-shadow-[0_0px_10px_rgba(255,255,255,.5)]",onClick:()=>b("/chamados/criar"),children:"Abrir chamado"})}),h.jsx("li",{className:"w-full h-16 hover:h-20 hover:bg-[#181716] transition-all duration-300 ease-in-out",children:h.jsx("button",{className:"w-full h-full h-10 drop-shadow-[0_0px_10px_rgba(255,255,255,.5)]",onClick:()=>b("/perfil"),children:"Perfil"})})]});default:return null}};return h.jsx("div",{className:`fixed inset-0 z-50 bg-black bg-opacity-40 ${t?"opacity-100":"opacity-0 pointer-events-none"} transition-opacity duration-300`,onClick:g,children:h.jsxs("nav",{ref:i,style:l,className:`fixed ${r?"inset-y-0 right-0":"inset-y-0 left-0"} flex flex-col justify-between bg-neutral-black text-[#fefefe] h-full w-2/5 shadow-2xl rounded-lg lg:w-80`,children:[h.jsx("ul",{className:"flex flex-col justify-between text-center text-xl mt-3",children:S()}),h.jsxs("div",{className:"flex items-center w-full h-16 lg:flex-row-reverse",children:[h.jsx("button",{onClick:y,className:"flex items-center justify-center flex-1 hover:-translate-y-1 transition-all duration-200 ease-in-out",title:"Sair da Conta",children:r?h.jsx(xI,{color:"#fefefe",size:30}):h.jsx(mI,{color:"#fefefe",size:35})}),h.jsx("div",{className:"w-px h-4/5 bg-[#fefefe] drop-shadow-[0_0px_10px_rgba(255,255,255,.5)]"}),h.jsx("button",{onClick:x,className:"flex items-center justify-center flex-1 hover:-translate-y-1 transition-all duration-200 ease-in-out",title:"Fechar Menu",children:r?h.jsx(FC,{color:"#fefefe",size:35}):h.jsx(FC,{color:"#fefefe",size:35})})]})]})})};function Xe({showLoginButton:s=!1,showMenu:e=!0}){const[t,n]=N.useState(!1),i=Ye(),r=()=>{n(!t)},o="tenant",l=()=>{i("/login")};return h.jsxs("div",{children:[h.jsxs("div",{className:"bg-neutral-black flex justify-between items-center px-4 py-4 min-h-20",children:[h.jsx("div",{children:h.jsx("a",{href:"/",children:h.jsx("img",{src:"/Logo.svg",alt:"Logo"})})}),h.jsx("div",{children:s?h.jsx("button",{className:"text-white cursor-pointer",onClick:l,children:"Entrar"}):e?h.jsx("button",{onClick:r,className:"focus:outline-none",children:h.jsx(pI,{size:35,className:"text-[#fefefe] hover:text-[#ccc] transition-all duration-300 ease-in-out"})}):null})]}),t&&h.jsx(vI,{userType:o,toggleMenu:r,isOpen:t})]})}function y2(s){return jn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(s)}function O1(s){return jn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(s)}function Rp(s){return jn({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(s)}function b2(s){return jn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(s)}function w2(s){return jn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(s)}function Lp(s){return jn({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm192.81 248H304c8.84 0 16 7.16 16 16s-7.16 16-16 16h-47.19c-16.45 0-31.27-9.14-38.64-23.86-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34a15.986 15.986 0 0 1-14.31 8.84c-.38 0-.75-.02-1.14-.05-6.45-.45-12-4.75-14.03-10.89L144 354.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.77-16.19 54.05-9.7 66 14.16 2.02 4.06 5.96 6.5 10.16 6.5zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(s)}function Ip(s){return jn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(s)}function yI(s){return jn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(s)}function Mp(s){return jn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(s)}function _2(){return h.jsx("footer",{className:"z-10",children:h.jsxs("div",{className:"bg-neutral-black flex flex-col py-10 gap-x-8",children:[h.jsxs("div",{className:"flex justify-around items-center px-12",children:[h.jsx("div",{className:"flex flex-col ",children:h.jsx("img",{src:"/LogoFooter.svg",alt:"",className:"w-64"})}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("h1",{className:"text-white text-[14px]",children:"Contate-nos"}),h.jsxs("p",{className:"text-white text-[8px]",children:["k&kimobiliaria@example.com",h.jsx("br",{}),"+55 (11) 00000-0000 ",h.jsx("br",{})]}),h.jsx("h1",{className:"text-white text-[14px]",children:"Endereço"}),h.jsxs("p",{className:"text-white text-[8px]",children:["Rua XXXXXXXXX, 000 ",h.jsx("br",{}),"00000-000 ",h.jsx("br",{}),"São Paulo, Brasil ",h.jsx("br",{})]})]})]}),h.jsxs("div",{className:"flex space-x-4 justify-center mt-6",children:[h.jsx("a",{href:"https://wa.me/5500000000000",target:"_blank",rel:"noopener noreferrer",children:h.jsx(O1,{className:"text-white text-2xl"})}),h.jsx("a",{href:"https://www.instagram.com/yourprofile/",target:"_blank",rel:"noopener noreferrer",children:h.jsx(y2,{className:"text-white text-2xl"})})]}),h.jsxs("p",{className:"text-neutral-500 text-[8px] text-end mt-4 me-4",children:["© 2024 K&K Assessoria e Gestão de Negócios",h.jsx("br",{}),"Todos os Direitos Reservados."]})]})})}const bI=({label:s,onClick:e})=>h.jsx("div",{className:"flex justify-center w-full",children:h.jsx("button",{onClick:e,className:"w-full h-14 max-w-2xl bg-neutral-900 hover:bg-neutral-black hover:shadow-xl text-neutral-100 py-3 px-4 rounded-lg font-sans text-lg shadow-sm z-10 transition duration-300",children:s})}),S2=({phoneNumber:s,message:e})=>{const t=`https://wa.me/${s}?text=${encodeURIComponent(e)}`;return h.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-8 right-8 flex justify-center items-center bg-green-500 text-white rounded-[100%] hover:bg-green-600 transition duration-300 z-40 drop-shadow-[0_0px_10px_rgba(34,197,94,.5)] text-4xl p-3text-5xl sm:text-5xl sm:p-4",children:h.jsx(O1,{})})},wI="/assets/whiteLogo-D7X0ZcdF.svg",lu="data:image/svg+xml,%3csvg%20width='110'%20height='119'%20viewBox='0%200%20110%20119'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M29.452%2086.8503C27.6297%2088.7526%2024.4158%2087.5505%2024.2892%2084.9192L23.1638%2061.5374C23.1245%2060.7198%2023.4209%2059.9217%2023.9843%2059.328L78.8819%201.48067C79.4484%200.883784%2080.2351%200.545776%2081.058%200.545776H103.334C105.954%200.545776%20107.315%203.66862%20105.532%205.58791L59.1322%2055.5211L43.9083%2071.76L29.452%2086.8503ZM3.09717%20118.954C1.44031%20118.954%200.097168%20117.611%200.097168%20115.954V3.54578C0.097168%201.88892%201.44031%200.545776%203.09717%200.545776H24.3311C25.988%200.545776%2027.3311%201.88892%2027.3311%203.54578V115.954C27.3311%20117.611%2025.988%20118.954%2024.3311%20118.954H3.09717ZM82.546%20118.954C81.645%20118.954%2080.7918%20118.549%2080.2221%20117.851L40.649%2069.3784C39.7045%2068.2215%2039.7548%2066.5461%2040.767%2065.448L54.5523%2050.4922C55.8022%2049.1362%2057.9681%2049.2183%2059.1117%2050.6651L109.251%20114.094C110.806%20116.061%20109.405%20118.954%20106.897%20118.954H82.546Z'%20fill='white'/%3e%3c/svg%3e",_I="/assets/house1-D9cy-Ct3.jpg",SI="/assets/house2-GNAdU3sH.jpg",CI="/assets/house3-DGXBp_pt.jpg",EI="/assets/house4-thJuimPt.jpg",AI="/assets/house5-Flz_LlIp.jpg";function kI(){const s=Ye(),e=[_I,SI,CI,EI,AI],[t,n]=N.useState(0);return N.useEffect(()=>{const i=setInterval(()=>{n(r=>(r+1)%e.length)},5e3);return()=>clearInterval(i)},[e.length]),h.jsxs("main",{className:"main-custom",children:[h.jsx(Xe,{showLoginButton:!0}),h.jsxs("section",{className:"section-custom",children:[h.jsxs("div",{className:"flex items-center justify-center h-96 w-screen -ml-4 -mt-6 relative",style:{backgroundImage:`url(${e[t]})`,backgroundSize:"cover",backgroundPosition:"center",transition:"background-image 1.5s ease-in-out"},children:[h.jsx("img",{src:wI,className:"w-80 z-10",alt:"Logotipo branca"}),h.jsx("div",{className:"bg-gray-100 h-52 w-1 rounded mx-12 z-10"}),h.jsxs("p",{className:"text-3xl whitespace-nowrap text-white z-10",children:["Bem vindo à ",h.jsx("br",{}),h.jsx("span",{className:"font-bold text-4xl",children:"K.K. Administradora"})]})]}),h.jsxs("div",{className:"flex justify-center items-center w-full gap-4 mb-10 mt-5 z-20",children:[h.jsx(g2,{}),h.jsxs("p",{className:"w-[52rem] 2xl:w-[120rem] text-right leading-tight max-w-2xl",children:["A plataforma que ",h.jsx("span",{className:"font-bold",children:"centraliza "}),"toda a relação entre locador e locatário, simplificando a gestão de imóveis, contratos e pagamentos em"," ",h.jsx("span",{className:"underline",children:"um só lugar."})]})]}),h.jsxs("div",{className:"flex flex-col items-center justify-center w-full mb-8 mt-4",children:[h.jsxs("div",{className:"flex max-w-5xl items-center justify-center relative mb-5 z-10",children:[h.jsxs("p",{className:"text-right w-1/2 z-10",children:["Nós transformamos toda a sua experiência de gestão e aluguel de imóveis. Aqui, ",h.jsx("span",{className:"font-bold",children:"locadores"})," e ",h.jsx("span",{className:"font-bold",children:"locatários"})," encontram um espaço seguro e eficiente para gerenciar contratos, pagamentos e comunicações, tudo em um único lugar."]}),h.jsx("div",{className:"bg-gray-900 h-32 w-1 mx-10 rounded z-10"})," ",h.jsxs("p",{className:"text-left w-1/2 z-10",children:["Com funcionalidades automatizadas e personalizadas para ",h.jsx("span",{className:"font-bold",children:"suas necessidades"}),", nossa missão é facilitar cada etapa do processo, garantindo mais transparência e tranquilidade para você."]}),h.jsx("img",{src:lu,className:"w-26 absolute -top-16 left-80 z-0 rotate-12 opacity-50",alt:"Logotipo simplificado da K.K. Administradora"})]}),h.jsxs("p",{className:"max-w-2xl text-center z-10 mt-5",children:[h.jsx("span",{className:"underline",children:"Simplifique"})," sua gestão com a ",h.jsx("span",{className:"font-bold",children:"K.K. Administradora"})," e transforme a forma como você cuida dos seus imóveis!"]})]}),h.jsx(bI,{label:"Entrar",onClick:()=>{s("/login")}}),h.jsx("div",{className:"fixed bottom-8 left-8 z-50",children:h.jsx(S2,{phoneNumber:"5511965922552",message:"Olá, gostaria de mais informações sobre a plataforma K.K. Administradora."})}),h.jsx("img",{src:lu,className:"w-32 absolute -bottom-20 left-1 z-0 -rotate-45 opacity-50",alt:"Logotipo simplificado da K.K. Administradora"}),h.jsx("img",{src:lu,className:"w-20 absolute bottom-10 right-16 z-0 rotate-12 opacity-75 -scale-x-100",alt:"Logotipo simplificado da K.K. Administradora"})]}),h.jsx(_2,{})]})}function z1(){return h.jsx("footer",{className:"z-10",children:h.jsxs("div",{className:"bg-neutral-black flex flex-col py-10 gap-x-8",children:[h.jsxs("div",{className:"flex justify-around items-center px-12",children:[h.jsx("div",{className:"flex flex-col ",children:h.jsx("img",{src:"/LogoFooter.svg",alt:"",className:"w-64"})}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("h1",{className:"text-white text-[14px]",children:"Contate-nos"}),h.jsxs("p",{className:"text-white text-[8px]",children:["k&kimobiliaria@example.com",h.jsx("br",{}),"+55 (11) 00000-0000 ",h.jsx("br",{})]}),h.jsx("h1",{className:"text-white text-[14px]",children:"Endereço"}),h.jsxs("p",{className:"text-white text-[8px]",children:["Rua XXXXXXXXX, 000 ",h.jsx("br",{}),"00000-000 ",h.jsx("br",{}),"São Paulo, Brasil ",h.jsx("br",{})]})]})]}),h.jsxs("div",{className:"flex space-x-4 justify-center mt-6",children:[h.jsx("a",{href:"https://wa.me/5500000000000",target:"_blank",rel:"noopener noreferrer",children:h.jsx(O1,{className:"text-white text-2xl"})}),h.jsx("a",{href:"https://www.instagram.com/yourprofile/",target:"_blank",rel:"noopener noreferrer",children:h.jsx(y2,{className:"text-white text-2xl"})})]}),h.jsxs("p",{className:"text-neutral-500 text-[8px] text-end mt-4 me-4",children:["© 2024 K&K Assessoria e Gestão de Negócios",h.jsx("br",{}),"Todos os Direitos Reservados."]})]})})}const lt=({label:s,placeholder:e="",onChange:t,isPassword:n=!1,disabled:i=!1})=>{const[r]=N.useState(),[o,l]=N.useState(!1),u=f=>{t(f.target.value)},d=()=>{l(!o)};return h.jsxs("div",{className:"flex flex-col relative",children:[h.jsx("label",{className:"font-sans font-normal text-form-label text-neutral-900 mb-1.5",children:s}),h.jsx("input",{type:n&&!o?"password":"text",value:r,onChange:u,placeholder:e,disabled:i,className:`h-10 flex-grow pr-10 tracking-wider ${r?"bg-gray-100 border border-black":"bg-[#D9D9D9]"} focus:outline-none px-2 text-form-label placeholder:text-form-label placeholder:text-black/60 rounded`}),n&&h.jsx("div",{className:"flex items-center h-10 absolute right-4 bottom-0 cursor-pointer text-gray-600",onClick:d,children:o?h.jsx(b2,{size:"20"}):h.jsx(w2,{size:"20"})})]})},Ke=({type:s})=>s==="skeleton"?h.jsx("div",{className:"space-y-8 w-full",children:Array.from({length:5}).map((e,t)=>h.jsxs("div",{children:[h.jsx("div",{className:"h-6 mb-2 bg-gray-300 rounded w-4/12 animate-pulse"}),h.jsx("div",{className:"h-14 bg-gray-300 rounded w-full animate-pulse"})]},t))}):h.jsx("div",{className:"fixed left-0 bottom-0 flex justify-center items-center p-5 z-40 ",children:h.jsx("div",{className:"h-9 w-9 border-8 border-blue-500 border-t-transparent rounded-[100%] shadow-lg animate-spin"})}),Rs=s=>{_t.success(s,{position:"top-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark",transition:m2})},le=s=>{_t.error(s,{position:"top-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark",transition:m2})};function C2(s,e){return function(){return s.apply(e,arguments)}}const{toString:jI}=Object.prototype,{getPrototypeOf:B1}=Object,J0=(s=>e=>{const t=jI.call(e);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ki=s=>(s=s.toLowerCase(),e=>J0(e)===s),Q0=s=>e=>typeof e===s,{isArray:wd}=Array,sf=Q0("undefined");function NI(s){return s!==null&&!sf(s)&&s.constructor!==null&&!sf(s.constructor)&&Js(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const E2=Ki("ArrayBuffer");function TI(s){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(s):e=s&&s.buffer&&E2(s.buffer),e}const PI=Q0("string"),Js=Q0("function"),A2=Q0("number"),Z0=s=>s!==null&&typeof s=="object",RI=s=>s===!0||s===!1,Ag=s=>{if(J0(s)!=="object")return!1;const e=B1(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},LI=Ki("Date"),II=Ki("File"),MI=Ki("Blob"),DI=Ki("FileList"),FI=s=>Z0(s)&&Js(s.pipe),OI=s=>{let e;return s&&(typeof FormData=="function"&&s instanceof FormData||Js(s.append)&&((e=J0(s))==="formdata"||e==="object"&&Js(s.toString)&&s.toString()==="[object FormData]"))},zI=Ki("URLSearchParams"),[BI,HI,VI,$I]=["ReadableStream","Request","Response","Headers"].map(Ki),UI=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Dp(s,e,{allOwnKeys:t=!1}={}){if(s===null||typeof s>"u")return;let n,i;if(typeof s!="object"&&(s=[s]),wd(s))for(n=0,i=s.length;n<i;n++)e.call(null,s[n],n,s);else{const r=t?Object.getOwnPropertyNames(s):Object.keys(s),o=r.length;let l;for(n=0;n<o;n++)l=r[n],e.call(null,s[l],l,s)}}function k2(s,e){e=e.toLowerCase();const t=Object.keys(s);let n=t.length,i;for(;n-- >0;)if(i=t[n],e===i.toLowerCase())return i;return null}const hl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,j2=s=>!sf(s)&&s!==hl;function Gy(){const{caseless:s}=j2(this)&&this||{},e={},t=(n,i)=>{const r=s&&k2(e,i)||i;Ag(e[r])&&Ag(n)?e[r]=Gy(e[r],n):Ag(n)?e[r]=Gy({},n):wd(n)?e[r]=n.slice():e[r]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Dp(arguments[n],t);return e}const WI=(s,e,t,{allOwnKeys:n}={})=>(Dp(e,(i,r)=>{t&&Js(i)?s[r]=C2(i,t):s[r]=i},{allOwnKeys:n}),s),qI=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),GI=(s,e,t,n)=>{s.prototype=Object.create(e.prototype,n),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:e.prototype}),t&&Object.assign(s.prototype,t)},XI=(s,e,t,n)=>{let i,r,o;const l={};if(e=e||{},s==null)return e;do{for(i=Object.getOwnPropertyNames(s),r=i.length;r-- >0;)o=i[r],(!n||n(o,s,e))&&!l[o]&&(e[o]=s[o],l[o]=!0);s=t!==!1&&B1(s)}while(s&&(!t||t(s,e))&&s!==Object.prototype);return e},KI=(s,e,t)=>{s=String(s),(t===void 0||t>s.length)&&(t=s.length),t-=e.length;const n=s.indexOf(e,t);return n!==-1&&n===t},YI=s=>{if(!s)return null;if(wd(s))return s;let e=s.length;if(!A2(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=s[e];return t},JI=(s=>e=>s&&e instanceof s)(typeof Uint8Array<"u"&&B1(Uint8Array)),QI=(s,e)=>{const n=(s&&s[Symbol.iterator]).call(s);let i;for(;(i=n.next())&&!i.done;){const r=i.value;e.call(s,r[0],r[1])}},ZI=(s,e)=>{let t;const n=[];for(;(t=s.exec(e))!==null;)n.push(t);return n},eM=Ki("HTMLFormElement"),tM=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,i){return n.toUpperCase()+i}),OC=(({hasOwnProperty:s})=>(e,t)=>s.call(e,t))(Object.prototype),nM=Ki("RegExp"),N2=(s,e)=>{const t=Object.getOwnPropertyDescriptors(s),n={};Dp(t,(i,r)=>{let o;(o=e(i,r,s))!==!1&&(n[r]=o||i)}),Object.defineProperties(s,n)},sM=s=>{N2(s,(e,t)=>{if(Js(s)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=s[t];if(Js(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},iM=(s,e)=>{const t={},n=i=>{i.forEach(r=>{t[r]=!0})};return wd(s)?n(s):n(String(s).split(e)),t},rM=()=>{},oM=(s,e)=>s!=null&&Number.isFinite(s=+s)?s:e,gy="abcdefghijklmnopqrstuvwxyz",zC="0123456789",T2={DIGIT:zC,ALPHA:gy,ALPHA_DIGIT:gy+gy.toUpperCase()+zC},aM=(s=16,e=T2.ALPHA_DIGIT)=>{let t="";const{length:n}=e;for(;s--;)t+=e[Math.random()*n|0];return t};function lM(s){return!!(s&&Js(s.append)&&s[Symbol.toStringTag]==="FormData"&&s[Symbol.iterator])}const cM=s=>{const e=new Array(10),t=(n,i)=>{if(Z0(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const r=wd(n)?[]:{};return Dp(n,(o,l)=>{const u=t(o,i+1);!sf(u)&&(r[l]=u)}),e[i]=void 0,r}}return n};return t(s,0)},uM=Ki("AsyncFunction"),dM=s=>s&&(Z0(s)||Js(s))&&Js(s.then)&&Js(s.catch),P2=((s,e)=>s?setImmediate:e?((t,n)=>(hl.addEventListener("message",({source:i,data:r})=>{i===hl&&r===t&&n.length&&n.shift()()},!1),i=>{n.push(i),hl.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Js(hl.postMessage)),hM=typeof queueMicrotask<"u"?queueMicrotask.bind(hl):typeof process<"u"&&process.nextTick||P2,te={isArray:wd,isArrayBuffer:E2,isBuffer:NI,isFormData:OI,isArrayBufferView:TI,isString:PI,isNumber:A2,isBoolean:RI,isObject:Z0,isPlainObject:Ag,isReadableStream:BI,isRequest:HI,isResponse:VI,isHeaders:$I,isUndefined:sf,isDate:LI,isFile:II,isBlob:MI,isRegExp:nM,isFunction:Js,isStream:FI,isURLSearchParams:zI,isTypedArray:JI,isFileList:DI,forEach:Dp,merge:Gy,extend:WI,trim:UI,stripBOM:qI,inherits:GI,toFlatObject:XI,kindOf:J0,kindOfTest:Ki,endsWith:KI,toArray:YI,forEachEntry:QI,matchAll:ZI,isHTMLForm:eM,hasOwnProperty:OC,hasOwnProp:OC,reduceDescriptors:N2,freezeMethods:sM,toObjectSet:iM,toCamelCase:tM,noop:rM,toFiniteNumber:oM,findKey:k2,global:hl,isContextDefined:j2,ALPHABET:T2,generateString:aM,isSpecCompliantForm:lM,toJSONObject:cM,isAsyncFn:uM,isThenable:dM,setImmediate:P2,asap:hM};function Fe(s,e,t,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}te.inherits(Fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const R2=Fe.prototype,L2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{L2[s]={value:s}});Object.defineProperties(Fe,L2);Object.defineProperty(R2,"isAxiosError",{value:!0});Fe.from=(s,e,t,n,i,r)=>{const o=Object.create(R2);return te.toFlatObject(s,o,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),Fe.call(o,s.message,e,t,n,i),o.cause=s,o.name=s.name,r&&Object.assign(o,r),o};const fM=null;function Xy(s){return te.isPlainObject(s)||te.isArray(s)}function I2(s){return te.endsWith(s,"[]")?s.slice(0,-2):s}function BC(s,e,t){return s?s.concat(e).map(function(i,r){return i=I2(i),!t&&r?"["+i+"]":i}).join(t?".":""):e}function pM(s){return te.isArray(s)&&!s.some(Xy)}const mM=te.toFlatObject(te,{},null,function(e){return/^is[A-Z]/.test(e)});function ex(s,e,t){if(!te.isObject(s))throw new TypeError("target must be an object");e=e||new FormData,t=te.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!te.isUndefined(S[w])});const n=t.metaTokens,i=t.visitor||f,r=t.dots,o=t.indexes,u=(t.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(e);if(!te.isFunction(i))throw new TypeError("visitor must be a function");function d(b){if(b===null)return"";if(te.isDate(b))return b.toISOString();if(!u&&te.isBlob(b))throw new Fe("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(b)||te.isTypedArray(b)?u&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function f(b,w,S){let C=b;if(b&&!S&&typeof b=="object"){if(te.endsWith(w,"{}"))w=n?w:w.slice(0,-2),b=JSON.stringify(b);else if(te.isArray(b)&&pM(b)||(te.isFileList(b)||te.endsWith(w,"[]"))&&(C=te.toArray(b)))return w=I2(w),C.forEach(function(A,k){!(te.isUndefined(A)||A===null)&&e.append(o===!0?BC([w],k,r):o===null?w:w+"[]",d(A))}),!1}return Xy(b)?!0:(e.append(BC(S,w,r),d(b)),!1)}const g=[],x=Object.assign(mM,{defaultVisitor:f,convertValue:d,isVisitable:Xy});function y(b,w){if(!te.isUndefined(b)){if(g.indexOf(b)!==-1)throw Error("Circular reference detected in "+w.join("."));g.push(b),te.forEach(b,function(C,j){(!(te.isUndefined(C)||C===null)&&i.call(e,C,te.isString(j)?j.trim():j,w,x))===!0&&y(C,w?w.concat(j):[j])}),g.pop()}}if(!te.isObject(s))throw new TypeError("data must be an object");return y(s),e}function HC(s){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function H1(s,e){this._pairs=[],s&&ex(s,this,e)}const M2=H1.prototype;M2.append=function(e,t){this._pairs.push([e,t])};M2.toString=function(e){const t=e?function(n){return e.call(this,n,HC)}:HC;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function gM(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function D2(s,e,t){if(!e)return s;const n=t&&t.encode||gM,i=t&&t.serialize;let r;if(i?r=i(e,t):r=te.isURLSearchParams(e)?e.toString():new H1(e,t).toString(n),r){const o=s.indexOf("#");o!==-1&&(s=s.slice(0,o)),s+=(s.indexOf("?")===-1?"?":"&")+r}return s}class VC{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){te.forEach(this.handlers,function(n){n!==null&&e(n)})}}const F2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xM=typeof URLSearchParams<"u"?URLSearchParams:H1,vM=typeof FormData<"u"?FormData:null,yM=typeof Blob<"u"?Blob:null,bM={isBrowser:!0,classes:{URLSearchParams:xM,FormData:vM,Blob:yM},protocols:["http","https","file","blob","url","data"]},V1=typeof window<"u"&&typeof document<"u",Ky=typeof navigator=="object"&&navigator||void 0,wM=V1&&(!Ky||["ReactNative","NativeScript","NS"].indexOf(Ky.product)<0),_M=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",SM=V1&&window.location.href||"http://localhost",CM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:V1,hasStandardBrowserEnv:wM,hasStandardBrowserWebWorkerEnv:_M,navigator:Ky,origin:SM},Symbol.toStringTag,{value:"Module"})),Ts={...CM,...bM};function EM(s,e){return ex(s,new Ts.classes.URLSearchParams,Object.assign({visitor:function(t,n,i,r){return Ts.isNode&&te.isBuffer(t)?(this.append(n,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function AM(s){return te.matchAll(/\w+|\[(\w*)]/g,s).map(e=>e[0]==="[]"?"":e[1]||e[0])}function kM(s){const e={},t=Object.keys(s);let n;const i=t.length;let r;for(n=0;n<i;n++)r=t[n],e[r]=s[r];return e}function O2(s){function e(t,n,i,r){let o=t[r++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=r>=t.length;return o=!o&&te.isArray(i)?i.length:o,u?(te.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!l):((!i[o]||!te.isObject(i[o]))&&(i[o]=[]),e(t,n,i[o],r)&&te.isArray(i[o])&&(i[o]=kM(i[o])),!l)}if(te.isFormData(s)&&te.isFunction(s.entries)){const t={};return te.forEachEntry(s,(n,i)=>{e(AM(n),i,t,0)}),t}return null}function jM(s,e,t){if(te.isString(s))try{return(e||JSON.parse)(s),te.trim(s)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(s)}const Fp={transitional:F2,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,r=te.isObject(e);if(r&&te.isHTMLForm(e)&&(e=new FormData(e)),te.isFormData(e))return i?JSON.stringify(O2(e)):e;if(te.isArrayBuffer(e)||te.isBuffer(e)||te.isStream(e)||te.isFile(e)||te.isBlob(e)||te.isReadableStream(e))return e;if(te.isArrayBufferView(e))return e.buffer;if(te.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return EM(e,this.formSerializer).toString();if((l=te.isFileList(e))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return ex(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return r||i?(t.setContentType("application/json",!1),jM(e)):e}],transformResponse:[function(e){const t=this.transitional||Fp.transitional,n=t&&t.forcedJSONParsing,i=this.responseType==="json";if(te.isResponse(e)||te.isReadableStream(e))return e;if(e&&te.isString(e)&&(n&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?Fe.from(l,Fe.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ts.classes.FormData,Blob:Ts.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],s=>{Fp.headers[s]={}});const NM=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),TM=s=>{const e={};let t,n,i;return s&&s.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!t||e[t]&&NM[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},$C=Symbol("internals");function ch(s){return s&&String(s).trim().toLowerCase()}function kg(s){return s===!1||s==null?s:te.isArray(s)?s.map(kg):String(s)}function PM(s){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(s);)e[n[1]]=n[2];return e}const RM=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function xy(s,e,t,n,i){if(te.isFunction(n))return n.call(this,e,t);if(i&&(e=t),!!te.isString(e)){if(te.isString(n))return e.indexOf(n)!==-1;if(te.isRegExp(n))return n.test(e)}}function LM(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function IM(s,e){const t=te.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(s,n+t,{value:function(i,r,o){return this[n].call(this,e,i,r,o)},configurable:!0})})}let Ps=class{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function r(l,u,d){const f=ch(u);if(!f)throw new Error("header name must be a non-empty string");const g=te.findKey(i,f);(!g||i[g]===void 0||d===!0||d===void 0&&i[g]!==!1)&&(i[g||u]=kg(l))}const o=(l,u)=>te.forEach(l,(d,f)=>r(d,f,u));if(te.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(te.isString(e)&&(e=e.trim())&&!RM(e))o(TM(e),t);else if(te.isHeaders(e))for(const[l,u]of e.entries())r(u,l,n);else e!=null&&r(t,e,n);return this}get(e,t){if(e=ch(e),e){const n=te.findKey(this,e);if(n){const i=this[n];if(!t)return i;if(t===!0)return PM(i);if(te.isFunction(t))return t.call(this,i,n);if(te.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ch(e),e){const n=te.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||xy(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let i=!1;function r(o){if(o=ch(o),o){const l=te.findKey(n,o);l&&(!t||xy(n,n[l],l,t))&&(delete n[l],i=!0)}}return te.isArray(e)?e.forEach(r):r(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const r=t[n];(!e||xy(this,this[r],r,e,!0))&&(delete this[r],i=!0)}return i}normalize(e){const t=this,n={};return te.forEach(this,(i,r)=>{const o=te.findKey(n,r);if(o){t[o]=kg(i),delete t[r];return}const l=e?LM(r):String(r).trim();l!==r&&delete t[r],t[l]=kg(i),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return te.forEach(this,(n,i)=>{n!=null&&n!==!1&&(t[i]=e&&te.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[$C]=this[$C]={accessors:{}}).accessors,i=this.prototype;function r(o){const l=ch(o);n[l]||(IM(i,o),n[l]=!0)}return te.isArray(e)?e.forEach(r):r(e),this}};Ps.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(Ps.prototype,({value:s},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>s,set(n){this[t]=n}}});te.freezeMethods(Ps);function vy(s,e){const t=this||Fp,n=e||t,i=Ps.from(n.headers);let r=n.data;return te.forEach(s,function(l){r=l.call(t,r,i.normalize(),e?e.status:void 0)}),i.normalize(),r}function z2(s){return!!(s&&s.__CANCEL__)}function _d(s,e,t){Fe.call(this,s??"canceled",Fe.ERR_CANCELED,e,t),this.name="CanceledError"}te.inherits(_d,Fe,{__CANCEL__:!0});function B2(s,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?s(t):e(new Fe("Request failed with status code "+t.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function MM(s){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return e&&e[1]||""}function DM(s,e){s=s||10;const t=new Array(s),n=new Array(s);let i=0,r=0,o;return e=e!==void 0?e:1e3,function(u){const d=Date.now(),f=n[r];o||(o=d),t[i]=u,n[i]=d;let g=r,x=0;for(;g!==i;)x+=t[g++],g=g%s;if(i=(i+1)%s,i===r&&(r=(r+1)%s),d-o<e)return;const y=f&&d-f;return y?Math.round(x*1e3/y):void 0}}function FM(s,e){let t=0,n=1e3/e,i,r;const o=(d,f=Date.now())=>{t=f,i=null,r&&(clearTimeout(r),r=null),s.apply(null,d)};return[(...d)=>{const f=Date.now(),g=f-t;g>=n?o(d,f):(i=d,r||(r=setTimeout(()=>{r=null,o(i)},n-g)))},()=>i&&o(i)]}const m0=(s,e,t=3)=>{let n=0;const i=DM(50,250);return FM(r=>{const o=r.loaded,l=r.lengthComputable?r.total:void 0,u=o-n,d=i(u),f=o<=l;n=o;const g={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&f?(l-o)/d:void 0,event:r,lengthComputable:l!=null,[e?"download":"upload"]:!0};s(g)},t)},UC=(s,e)=>{const t=s!=null;return[n=>e[0]({lengthComputable:t,total:s,loaded:n}),e[1]]},WC=s=>(...e)=>te.asap(()=>s(...e)),OM=Ts.hasStandardBrowserEnv?function(){const e=Ts.navigator&&/(msie|trident)/i.test(Ts.navigator.userAgent),t=document.createElement("a");let n;function i(r){let o=r;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return n=i(window.location.href),function(o){const l=te.isString(o)?i(o):o;return l.protocol===n.protocol&&l.host===n.host}}():function(){return function(){return!0}}(),zM=Ts.hasStandardBrowserEnv?{write(s,e,t,n,i,r){const o=[s+"="+encodeURIComponent(e)];te.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),te.isString(n)&&o.push("path="+n),te.isString(i)&&o.push("domain="+i),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(s){const e=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function BM(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function HM(s,e){return e?s.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):s}function H2(s,e){return s&&!BM(e)?HM(s,e):e}const qC=s=>s instanceof Ps?{...s}:s;function pc(s,e){e=e||{};const t={};function n(d,f,g){return te.isPlainObject(d)&&te.isPlainObject(f)?te.merge.call({caseless:g},d,f):te.isPlainObject(f)?te.merge({},f):te.isArray(f)?f.slice():f}function i(d,f,g){if(te.isUndefined(f)){if(!te.isUndefined(d))return n(void 0,d,g)}else return n(d,f,g)}function r(d,f){if(!te.isUndefined(f))return n(void 0,f)}function o(d,f){if(te.isUndefined(f)){if(!te.isUndefined(d))return n(void 0,d)}else return n(void 0,f)}function l(d,f,g){if(g in e)return n(d,f);if(g in s)return n(void 0,d)}const u={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,f)=>i(qC(d),qC(f),!0)};return te.forEach(Object.keys(Object.assign({},s,e)),function(f){const g=u[f]||i,x=g(s[f],e[f],f);te.isUndefined(x)&&g!==l||(t[f]=x)}),t}const V2=s=>{const e=pc({},s);let{data:t,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:r,headers:o,auth:l}=e;e.headers=o=Ps.from(o),e.url=D2(H2(e.baseURL,e.url),s.params,s.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(te.isFormData(t)){if(Ts.hasStandardBrowserEnv||Ts.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[d,...f]=u?u.split(";").map(g=>g.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...f].join("; "))}}if(Ts.hasStandardBrowserEnv&&(n&&te.isFunction(n)&&(n=n(e)),n||n!==!1&&OM(e.url))){const d=i&&r&&zM.read(r);d&&o.set(i,d)}return e},VM=typeof XMLHttpRequest<"u",$M=VM&&function(s){return new Promise(function(t,n){const i=V2(s);let r=i.data;const o=Ps.from(i.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:d}=i,f,g,x,y,b;function w(){y&&y(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let S=new XMLHttpRequest;S.open(i.method.toUpperCase(),i.url,!0),S.timeout=i.timeout;function C(){if(!S)return;const A=Ps.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),T={data:!l||l==="text"||l==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:A,config:s,request:S};B2(function(M){t(M),w()},function(M){n(M),w()},T),S=null}"onloadend"in S?S.onloadend=C:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(C)},S.onabort=function(){S&&(n(new Fe("Request aborted",Fe.ECONNABORTED,s,S)),S=null)},S.onerror=function(){n(new Fe("Network Error",Fe.ERR_NETWORK,s,S)),S=null},S.ontimeout=function(){let k=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const T=i.transitional||F2;i.timeoutErrorMessage&&(k=i.timeoutErrorMessage),n(new Fe(k,T.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,s,S)),S=null},r===void 0&&o.setContentType(null),"setRequestHeader"in S&&te.forEach(o.toJSON(),function(k,T){S.setRequestHeader(T,k)}),te.isUndefined(i.withCredentials)||(S.withCredentials=!!i.withCredentials),l&&l!=="json"&&(S.responseType=i.responseType),d&&([x,b]=m0(d,!0),S.addEventListener("progress",x)),u&&S.upload&&([g,y]=m0(u),S.upload.addEventListener("progress",g),S.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(f=A=>{S&&(n(!A||A.type?new _d(null,s,S):A),S.abort(),S=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const j=MM(i.url);if(j&&Ts.protocols.indexOf(j)===-1){n(new Fe("Unsupported protocol "+j+":",Fe.ERR_BAD_REQUEST,s));return}S.send(r||null)})},UM=(s,e)=>{const{length:t}=s=s?s.filter(Boolean):[];if(e||t){let n=new AbortController,i;const r=function(d){if(!i){i=!0,l();const f=d instanceof Error?d:this.reason;n.abort(f instanceof Fe?f:new _d(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,r(new Fe(`timeout ${e} of ms exceeded`,Fe.ETIMEDOUT))},e);const l=()=>{s&&(o&&clearTimeout(o),o=null,s.forEach(d=>{d.unsubscribe?d.unsubscribe(r):d.removeEventListener("abort",r)}),s=null)};s.forEach(d=>d.addEventListener("abort",r));const{signal:u}=n;return u.unsubscribe=()=>te.asap(l),u}},WM=function*(s,e){let t=s.byteLength;if(t<e){yield s;return}let n=0,i;for(;n<t;)i=n+e,yield s.slice(n,i),n=i},qM=async function*(s,e){for await(const t of GM(s))yield*WM(t,e)},GM=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const e=s.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},GC=(s,e,t,n)=>{const i=qM(s,e);let r=0,o,l=u=>{o||(o=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:d,value:f}=await i.next();if(d){l(),u.close();return}let g=f.byteLength;if(t){let x=r+=g;t(x)}u.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},tx=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$2=tx&&typeof ReadableStream=="function",XM=tx&&(typeof TextEncoder=="function"?(s=>e=>s.encode(e))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),U2=(s,...e)=>{try{return!!s(...e)}catch{return!1}},KM=$2&&U2(()=>{let s=!1;const e=new Request(Ts.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!e}),XC=64*1024,Yy=$2&&U2(()=>te.isReadableStream(new Response("").body)),g0={stream:Yy&&(s=>s.body)};tx&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!g0[e]&&(g0[e]=te.isFunction(s[e])?t=>t[e]():(t,n)=>{throw new Fe(`Response type '${e}' is not supported`,Fe.ERR_NOT_SUPPORT,n)})})})(new Response);const YM=async s=>{if(s==null)return 0;if(te.isBlob(s))return s.size;if(te.isSpecCompliantForm(s))return(await new Request(Ts.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(te.isArrayBufferView(s)||te.isArrayBuffer(s))return s.byteLength;if(te.isURLSearchParams(s)&&(s=s+""),te.isString(s))return(await XM(s)).byteLength},JM=async(s,e)=>{const t=te.toFiniteNumber(s.getContentLength());return t??YM(e)},QM=tx&&(async s=>{let{url:e,method:t,data:n,signal:i,cancelToken:r,timeout:o,onDownloadProgress:l,onUploadProgress:u,responseType:d,headers:f,withCredentials:g="same-origin",fetchOptions:x}=V2(s);d=d?(d+"").toLowerCase():"text";let y=UM([i,r&&r.toAbortSignal()],o),b;const w=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let S;try{if(u&&KM&&t!=="get"&&t!=="head"&&(S=await JM(f,n))!==0){let T=new Request(e,{method:"POST",body:n,duplex:"half"}),I;if(te.isFormData(n)&&(I=T.headers.get("content-type"))&&f.setContentType(I),T.body){const[M,F]=UC(S,m0(WC(u)));n=GC(T.body,XC,M,F)}}te.isString(g)||(g=g?"include":"omit");const C="credentials"in Request.prototype;b=new Request(e,{...x,signal:y,method:t.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",credentials:C?g:void 0});let j=await fetch(b);const A=Yy&&(d==="stream"||d==="response");if(Yy&&(l||A&&w)){const T={};["status","statusText","headers"].forEach(B=>{T[B]=j[B]});const I=te.toFiniteNumber(j.headers.get("content-length")),[M,F]=l&&UC(I,m0(WC(l),!0))||[];j=new Response(GC(j.body,XC,M,()=>{F&&F(),w&&w()}),T)}d=d||"text";let k=await g0[te.findKey(g0,d)||"text"](j,s);return!A&&w&&w(),await new Promise((T,I)=>{B2(T,I,{data:k,headers:Ps.from(j.headers),status:j.status,statusText:j.statusText,config:s,request:b})})}catch(C){throw w&&w(),C&&C.name==="TypeError"&&/fetch/i.test(C.message)?Object.assign(new Fe("Network Error",Fe.ERR_NETWORK,s,b),{cause:C.cause||C}):Fe.from(C,C&&C.code,s,b)}}),Jy={http:fM,xhr:$M,fetch:QM};te.forEach(Jy,(s,e)=>{if(s){try{Object.defineProperty(s,"name",{value:e})}catch{}Object.defineProperty(s,"adapterName",{value:e})}});const KC=s=>`- ${s}`,ZM=s=>te.isFunction(s)||s===null||s===!1,W2={getAdapter:s=>{s=te.isArray(s)?s:[s];const{length:e}=s;let t,n;const i={};for(let r=0;r<e;r++){t=s[r];let o;if(n=t,!ZM(t)&&(n=Jy[(o=String(t)).toLowerCase()],n===void 0))throw new Fe(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+r]=n}if(!n){const r=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?r.length>1?`since :
`+r.map(KC).join(`
`):" "+KC(r[0]):"as no adapter specified";throw new Fe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:Jy};function yy(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new _d(null,s)}function YC(s){return yy(s),s.headers=Ps.from(s.headers),s.data=vy.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),W2.getAdapter(s.adapter||Fp.adapter)(s).then(function(n){return yy(s),n.data=vy.call(s,s.transformResponse,n),n.headers=Ps.from(n.headers),n},function(n){return z2(n)||(yy(s),n&&n.response&&(n.response.data=vy.call(s,s.transformResponse,n.response),n.response.headers=Ps.from(n.response.headers))),Promise.reject(n)})}const q2="1.7.7",$1={};["object","boolean","number","function","string","symbol"].forEach((s,e)=>{$1[s]=function(n){return typeof n===s||"a"+(e<1?"n ":" ")+s}});const JC={};$1.transitional=function(e,t,n){function i(r,o){return"[Axios v"+q2+"] Transitional option '"+r+"'"+o+(n?". "+n:"")}return(r,o,l)=>{if(e===!1)throw new Fe(i(o," has been removed"+(t?" in "+t:"")),Fe.ERR_DEPRECATED);return t&&!JC[o]&&(JC[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(r,o,l):!0}};function eD(s,e,t){if(typeof s!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);const n=Object.keys(s);let i=n.length;for(;i-- >0;){const r=n[i],o=e[r];if(o){const l=s[r],u=l===void 0||o(l,r,s);if(u!==!0)throw new Fe("option "+r+" must be "+u,Fe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Fe("Unknown option "+r,Fe.ERR_BAD_OPTION)}}const Qy={assertOptions:eD,validators:$1},Wo=Qy.validators;let hc=class{constructor(e){this.defaults=e,this.interceptors={request:new VC,response:new VC}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?r&&!String(n.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+r):n.stack=r}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=pc(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:r}=t;n!==void 0&&Qy.assertOptions(n,{silentJSONParsing:Wo.transitional(Wo.boolean),forcedJSONParsing:Wo.transitional(Wo.boolean),clarifyTimeoutError:Wo.transitional(Wo.boolean)},!1),i!=null&&(te.isFunction(i)?t.paramsSerializer={serialize:i}:Qy.assertOptions(i,{encode:Wo.function,serialize:Wo.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=r&&te.merge(r.common,r[t.method]);r&&te.forEach(["delete","get","head","post","put","patch","common"],b=>{delete r[b]}),t.headers=Ps.concat(o,r);const l=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(t)===!1||(u=u&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const d=[];this.interceptors.response.forEach(function(w){d.push(w.fulfilled,w.rejected)});let f,g=0,x;if(!u){const b=[YC.bind(this),void 0];for(b.unshift.apply(b,l),b.push.apply(b,d),x=b.length,f=Promise.resolve(t);g<x;)f=f.then(b[g++],b[g++]);return f}x=l.length;let y=t;for(g=0;g<x;){const b=l[g++],w=l[g++];try{y=b(y)}catch(S){w.call(this,S);break}}try{f=YC.call(this,y)}catch(b){return Promise.reject(b)}for(g=0,x=d.length;g<x;)f=f.then(d[g++],d[g++]);return f}getUri(e){e=pc(this.defaults,e);const t=H2(e.baseURL,e.url);return D2(t,e.params,e.paramsSerializer)}};te.forEach(["delete","get","head","options"],function(e){hc.prototype[e]=function(t,n){return this.request(pc(n||{},{method:e,url:t,data:(n||{}).data}))}});te.forEach(["post","put","patch"],function(e){function t(n){return function(r,o,l){return this.request(pc(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}hc.prototype[e]=t(),hc.prototype[e+"Form"]=t(!0)});let tD=class G2{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(r){t=r});const n=this;this.promise.then(i=>{if(!n._listeners)return;let r=n._listeners.length;for(;r-- >0;)n._listeners[r](i);n._listeners=null}),this.promise.then=i=>{let r;const o=new Promise(l=>{n.subscribe(l),r=l}).then(i);return o.cancel=function(){n.unsubscribe(r)},o},e(function(r,o,l){n.reason||(n.reason=new _d(r,o,l),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new G2(function(i){e=i}),cancel:e}}};function nD(s){return function(t){return s.apply(null,t)}}function sD(s){return te.isObject(s)&&s.isAxiosError===!0}const Zy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zy).forEach(([s,e])=>{Zy[e]=s});function X2(s){const e=new hc(s),t=C2(hc.prototype.request,e);return te.extend(t,hc.prototype,e,{allOwnKeys:!0}),te.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return X2(pc(s,i))},t}const vt=X2(Fp);vt.Axios=hc;vt.CanceledError=_d;vt.CancelToken=tD;vt.isCancel=z2;vt.VERSION=q2;vt.toFormData=ex;vt.AxiosError=Fe;vt.Cancel=vt.CanceledError;vt.all=function(e){return Promise.all(e)};vt.spread=nD;vt.isAxiosError=sD;vt.mergeConfig=pc;vt.AxiosHeaders=Ps;vt.formToJSON=s=>O2(te.isHTMLForm(s)?new FormData(s):s);vt.getAdapter=W2.getAdapter;vt.HttpStatusCode=Zy;vt.default=vt;const{Axios:UB,AxiosError:K2,CanceledError:WB,isCancel:qB,CancelToken:GB,VERSION:XB,all:KB,Cancel:YB,isAxiosError:JB,spread:QB,toFormData:ZB,AxiosHeaders:eH,HttpStatusCode:tH,formToJSON:nH,getAdapter:sH,mergeConfig:iH}=vt,iD="http://localhost:8093",me=vt.create({baseURL:iD,withCredentials:!0,headers:{"Content-Type":"application/json"}});me.interceptors.request.use(s=>{const e=localStorage.getItem("jwtToken");return e&&(s.headers.Authorization=`Bearer ${e}`),s});me.interceptors.response.use(s=>s,s=>(s.response?s.response.status===401?localStorage.getItem("jwtToken")?(console.error("Acesso negado: você não tem permissão para acessar este recurso."),window.location.href="/unauthorized"):(console.error("Usuário não autenticado. Redirecionando para login..."),window.location.href="/login"):console.error("Erro na requisição:",s.response.data.message||"Erro desconhecido"):s.request?console.error("Não foi possível conectar ao servidor."):console.error("Ocorreu um erro inesperado:",s.message),Promise.reject(s)));class wh extends Error{}wh.prototype.name="InvalidTokenError";function rD(s){return decodeURIComponent(atob(s).replace(/(.)/g,(e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function oD(s){let e=s.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return rD(e)}catch{return atob(e)}}function Y2(s,e){if(typeof s!="string")throw new wh("Invalid token specified: must be a string");e||(e={});const t=e.header===!0?0:1,n=s.split(".")[t];if(typeof n!="string")throw new wh(`Invalid token specified: missing part #${t+1}`);let i;try{i=oD(n)}catch(r){throw new wh(`Invalid token specified: invalid base64 for part #${t+1} (${r.message})`)}try{return JSON.parse(i)}catch(r){throw new wh(`Invalid token specified: invalid json for part #${t+1} (${r.message})`)}}const wo={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_BASE_URL:"http://localhost:8093",VITE_PORT:"5173"};let aD=0;function J2(s,e){const t=`atom${++aD}`,n={toString(){return(wo?"production":void 0)!=="production"&&this.debugLabel?t+":"+this.debugLabel:t}};return typeof s=="function"?n.read=s:(n.init=s,n.read=lD,n.write=cD),n}function lD(s){return s(this)}function cD(s,e,t){return e(this,typeof t=="function"?t(s(this)):t)}const QC=(s,e)=>s.unstable_is?s.unstable_is(e):e===s,eb=s=>"init"in s,by=s=>!!s.write,x0=new WeakMap,tb=s=>{var e;return nb(s)&&!((e=x0.get(s))!=null&&e[1])},uD=(s,e)=>{const t=x0.get(s);if(t)t[1]=!0,t[0].forEach(n=>n(e));else if((wo?"production":void 0)!=="production")throw new Error("[Bug] cancelable promise not found")},dD=s=>{if(x0.has(s))return;const e=[new Set,!1];x0.set(s,e);const t=()=>{e[1]=!0};s.then(t,t),s.onCancel=n=>{e[0].add(n)}},nb=s=>typeof(s==null?void 0:s.then)=="function",ZC=s=>"v"in s||"e"in s,ig=s=>{if("e"in s)throw s.e;if((wo?"production":void 0)!=="production"&&!("v"in s))throw new Error("[Bug] atom state is not initialized");return s.v},Q2=(s,e,t)=>{t.p.has(s)||(t.p.add(s),e.then(()=>{t.p.delete(s)},()=>{t.p.delete(s)}))},eE=(s,e,t,n,i)=>{var r;if((wo?"production":void 0)!=="production"&&n===e)throw new Error("[Bug] atom cannot depend on itself");t.d.set(n,i.n),tb(t.v)&&Q2(e,t.v,i),(r=i.m)==null||r.t.add(e),s&&hD(s,n,e)},uh=()=>({D:new Map,H:new Set,M:new Set,L:new Set}),Uh=(s,e,t)=>{s[e].add(t)},tE=(s,e,t)=>{s.D.has(e)||(s.D.set(e,new Set),Uh(s,"M",()=>{var n;(n=t.m)==null||n.l.forEach(i=>Uh(s,"M",i))}))},hD=(s,e,t)=>{const n=s.D.get(e);n&&n.add(t)},fD=(s,e)=>s.D.get(e),Za=s=>{let e,t=!1;const n=i=>{try{i()}catch(r){t||(e=r,t=!0)}};for(;s.H.size||s.M.size||s.L.size;)s.D.clear(),s.H.forEach(n),s.H.clear(),s.M.forEach(n),s.M.clear(),s.L.forEach(n),s.L.clear();if(t)throw e},Z2=(...[s,e,t,n])=>{const i=(C,j,A)=>{const k="v"in j,T=j.v,I=tb(j.v)?j.v:null;if(nb(A)){dD(A);for(const M of j.d.keys())Q2(C,A,s(M));j.v=A}else j.v=A;delete j.e,delete j.x,(!k||!Object.is(T,j.v))&&(++j.n,I&&uD(I,A))},r=(C,j)=>{var A;const k=s(j);if(ZC(k)&&(k.m&&!k.x||Array.from(k.d).every(([O,W])=>r(C,O).n===W)))return k;k.d.clear();let T=!0;const I=O=>{if(QC(j,O)){const J=s(O);if(!ZC(J))if(eb(O))i(O,J,O.init);else throw new Error("no atom init");return ig(J)}const W=r(C,O);try{return ig(W)}finally{if(T)eE(C,j,k,O,W);else{const J=uh();eE(J,j,k,O,W),g(J,j,k),Za(J)}}};let M,F;const B={get signal(){return M||(M=new AbortController),M.signal},get setSelf(){return(wo?"production":void 0)!=="production"&&!by(j)&&console.warn("setSelf function cannot be used with read-only atom"),!F&&by(j)&&(F=(...O)=>{if((wo?"production":void 0)!=="production"&&T&&console.warn("setSelf function cannot be called in sync"),!T)return f(j,...O)}),F}};try{const O=e(j,I,B);if(i(j,k,O),nb(O)){(A=O.onCancel)==null||A.call(O,()=>M==null?void 0:M.abort());const W=()=>{if(k.m){const J=uh();g(J,j,k),Za(J)}};O.then(W,W)}return k}catch(O){return delete k.v,k.e=O,delete k.x,++k.n,k}finally{T=!1}},o=C=>ig(r(void 0,C)),l=(C,j,A)=>{var k,T;const I=new Map;for(const M of((k=A.m)==null?void 0:k.t)||[]){const F=s(M);F.m&&I.set(M,F)}for(const M of A.p)I.set(M,s(M));return(T=fD(C,j))==null||T.forEach(M=>{I.set(M,s(M))}),I},u=(C,j,A)=>{const k=[],T=new Set,I=new Set,M=[[j,A]];for(;M.length>0;){const[F,B]=M[M.length-1];if(I.has(F)){M.pop();continue}if(T.has(F)){k.push([F,B,B.n]),I.add(F),B.x=!0,M.pop();continue}T.add(F);for(const[O,W]of l(C,F,B))F!==O&&!T.has(O)&&M.push([O,W])}Uh(C,"H",()=>{const F=new Set([j]);for(let B=k.length-1;B>=0;--B){const[O,W,J]=k[B];let ie=!1;for(const se of W.d.keys())if(se!==O&&F.has(se)){ie=!0;break}ie&&(r(C,O),g(C,O,W),J!==W.n&&(tE(C,O,W),F.add(O))),delete W.x}})},d=(C,j,...A)=>{let k=!0;const T=M=>ig(r(C,M)),I=(M,...F)=>{const B=s(M);try{if(QC(j,M)){if(!eb(M))throw new Error("atom not writable");const O=B.n,W=F[0];i(M,B,W),g(C,M,B),O!==B.n&&(tE(C,M,B),u(C,M,B));return}else return d(C,M,...F)}finally{k||Za(C)}};try{return t(j,T,I,...A)}finally{k=!1}},f=(C,...j)=>{const A=uh();try{return d(A,C,...j)}finally{Za(A)}},g=(C,j,A)=>{if(A.m&&!tb(A.v)){for(const k of A.d.keys())A.m.d.has(k)||(x(C,k,s(k)).t.add(j),A.m.d.add(k));for(const k of A.m.d||[])if(!A.d.has(k)){A.m.d.delete(k);const T=y(C,k,s(k));T==null||T.t.delete(j)}}},x=(C,j,A)=>{if(!A.m){r(C,j);for(const k of A.d.keys())x(C,k,s(k)).t.add(j);if(A.m={l:new Set,d:new Set(A.d.keys()),t:new Set},by(j)){const k=A.m;let T;const I=(M,F)=>{let B=!0;T=(...O)=>{try{return d(M,j,...O)}finally{B||Za(M)}};try{return F()}finally{B=!1}};Uh(C,"L",()=>{const M=I(C,()=>n(j,(...F)=>T(...F)));M&&(k.u=F=>I(F,M))})}}return A.m},y=(C,j,A)=>{if(A.m&&!A.m.l.size&&!Array.from(A.m.t).some(k=>{var T;return(T=s(k).m)==null?void 0:T.d.has(j)})){const k=A.m.u;k&&Uh(C,"L",()=>k(C)),delete A.m;for(const T of A.d.keys()){const I=y(C,T,s(T));I==null||I.t.delete(j)}return}return A.m};return{get:o,set:f,sub:(C,j)=>{const A=uh(),k=s(C),I=x(A,C,k).l;return I.add(j),Za(A),()=>{I.delete(j);const M=uh();y(M,C,k),Za(M)}},unstable_derive:C=>Z2(...C(s,e,t,n))}},pD=s=>{const e=new WeakMap,t=new Set;let n,i=0;const r=s.unstable_derive((u,d,f,g)=>(n=u,[x=>{let y=e.get(x);if(!y){const b=u(x);y=new Proxy(b,{set(w,S,C){return S==="m"&&t.add(x),Reflect.set(w,S,C)},deleteProperty(w,S){return S==="m"&&t.delete(x),Reflect.deleteProperty(w,S)}}),e.set(x,y)}return y},d,(x,y,b,...w)=>i?b(x,...w):f(x,y,b,...w),g])),o=r.set;return Object.assign(r,{dev4_get_internal_weak_map:()=>({get:u=>{const d=n(u);if(d.n!==0)return d}}),dev4_get_mounted_atoms:()=>t,dev4_restore_atoms:u=>{o({read:()=>null,write:(f,g)=>{++i;try{for(const[x,y]of u)eb(x)&&g(x,y)}finally{--i}}})}})},mD=()=>{const s=new WeakMap,t=Z2(n=>{if((wo?"production":void 0)!=="production"&&!n)throw new Error("Atom is undefined or null");let i=s.get(n);return i||(i={d:new Map,p:new Set,n:0},s.set(n,i)),i},(n,...i)=>n.read(...i),(n,...i)=>n.write(...i),(n,...i)=>{var r;return(r=n.onMount)==null?void 0:r.call(n,...i)});return(wo?"production":void 0)!=="production"?pD(t):t};let dh;const gD=()=>(dh||(dh=mD(),(wo?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=dh),globalThis.__JOTAI_DEFAULT_STORE__!==dh&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),dh),ek={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_BASE_URL:"http://localhost:8093",VITE_PORT:"5173"},xD=N.createContext(void 0),tk=s=>N.useContext(xD)||gD(),nk=s=>typeof(s==null?void 0:s.then)=="function",vD=s=>{s.status="pending",s.then(e=>{s.status="fulfilled",s.value=e},e=>{s.status="rejected",s.reason=e})},yD=He.use||(s=>{if(s.status==="pending")throw s;if(s.status==="fulfilled")return s.value;throw s.status==="rejected"?s.reason:(vD(s),s)}),wy=new WeakMap,bD=s=>{let e=wy.get(s);return e||(e=new Promise((t,n)=>{let i=s;const r=u=>d=>{i===u&&t(d)},o=u=>d=>{i===u&&n(d)},l=u=>{"onCancel"in u&&typeof u.onCancel=="function"&&u.onCancel(d=>{if((ek?"production":void 0)!=="production"&&d===u)throw new Error("[Bug] p is not updated even after cancelation");nk(d)?(wy.set(d,e),i=d,d.then(r(d),o(d)),l(d)):t(d)})};s.then(r(s),o(s)),l(s)}),wy.set(s,e)),e};function wD(s,e){const t=tk(),[[n,i,r],o]=N.useReducer(d=>{const f=t.get(s);return Object.is(d[0],f)&&d[1]===t&&d[2]===s?d:[f,t,s]},void 0,()=>[t.get(s),t,s]);let l=n;if((i!==t||r!==s)&&(o(),l=t.get(s)),N.useEffect(()=>{const d=t.sub(s,()=>{o()});return o(),d},[t,s,void 0]),N.useDebugValue(l),nk(l)){const d=bD(l);return yD(d)}return l}function _D(s,e){const t=tk();return N.useCallback((...i)=>{if((ek?"production":void 0)!=="production"&&!("write"in s))throw new Error("not writable atom");return t.set(s,...i)},[t,s])}function nx(s,e){return[wD(s),_D(s)]}const sk=J2(localStorage.getItem("userRole")),ik=J2(null);function SD(){const[s,e]=N.useState(""),[t,n]=N.useState(""),[i,r]=N.useState(!1),o=Ye(),[,l]=nx(ik),u=async f=>{f.preventDefault(),r(!0);try{if(!s||!t){le("Email e senha são campos obrigatórios");return}const x=(await me.post("auth/Account/Login",{Email:s,Senha:t})).data.token;localStorage.setItem("jwtToken",x);const w=Y2(x)["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"];switch(localStorage.setItem("userRole",w),await d(),w){case"Admin":o("/imoveis");break;case"Locatario":o("/home-locatario");break;case"Locador":o("/home-locador");break;case"Judiciario":o("/dashboard");break;default:o("/");break}}catch(g){console.log(g.response.data),le(g.response.data)}finally{r(!1)}},d=async()=>{var f,g,x,y;try{const w=(await me.get("auth/Account/WhoAmI")).data,S={nome:w.nome,telefone:w.telefone||null,nacionalidade:w.nacionalidade||null,cpf:w.cpf||null,rg:w.rg||null,passaporte:w.passaporte||null,endereco:w.endereco||null,CNPJ:w.cnpj||null,email:w.email,dataCriacao:new Date(w.dataCriacao).toLocaleDateString("pt-BR"),role:w.role,roleId:w.roleId||null};l(S)}catch(b){console.error(((g=(f=b.response)==null?void 0:f.data)==null?void 0:g.message)||"Erro ao buscar o usuário"),le(((y=(x=b==null?void 0:b.response)==null?void 0:x.data)==null?void 0:y.message)||"Erro ao se conectar com o servidor.")}};return h.jsxs("div",{className:"bg-[#F0F0F0] flex flex-col min-h-screen",children:[h.jsx(Xe,{showMenu:!1}),h.jsx("div",{className:"flex-grow flex flex-col justify-center items-center px-4",children:h.jsxs("div",{className:"w-full max-w-sm",children:[h.jsx("h2",{className:"text-start text-title font-strong mb-10",children:"Login"}),h.jsxs("form",{onSubmit:u,children:[h.jsx("div",{className:"mb-6",children:h.jsx(lt,{placeholder:"Email",label:"Email:",value:s,onChange:e})}),h.jsx("div",{className:"mb-10",children:h.jsx(lt,{placeholder:"Senha",label:"Senha:",value:t,onChange:n,isPassword:!0})}),h.jsx("button",{type:"submit",className:"w-full h-10 bg-neutral-900 text-neutral-50 font-bold rounded hover:bg-neutral-800 transition-colors",children:"Login"})]})]})}),i&&h.jsx(Ke,{type:"spinner"}),h.jsx(z1,{})]})}const CD="/Arrow.svg",on=()=>{const s=Ye(),e=()=>{s(-1)};return h.jsxs("button",{onClick:e,className:"flex items-center gap-2 pb-2 self-stretch hover:opacity-80 focus:outline-none","aria-label":"Voltar para a página anterior",children:[h.jsx("img",{src:CD,alt:"Seta para voltar",className:"w-[7px]"}),h.jsx("span",{className:"text-normal-text mt-[1.5px]",children:"Voltar"})]})},Be=({label:s,informacao:e})=>h.jsxs("div",{children:[h.jsx("h1",{className:"text-neutral-600 font-normal-text",children:s}),h.jsx("h2",{className:"font-normal-text leading-4",children:e})]}),Yi=({label:s,onClick:e})=>h.jsx("div",{className:"flex justify-center w-full",children:h.jsx("button",{onClick:e,className:"w-full h-12 max-w-2xl bg-neutral-900 hover:bg-neutral-black hover:shadow-xl text-neutral-100 py-3 px-4 rounded-lg shadow-sm z-10 transition duration-300",children:s})}),sx=({label:s,onClick:e})=>h.jsxs("button",{onClick:e,className:"flex w-full items-center border-2 border-neutral-500 hover:border-neutral-700 hover:shadow-xl py-3 px-4 rounded-lg shadow-sm transition duration-300",children:[h.jsx(gI,{size:25,className:"text-neutral-500 mr-2"}),h.jsx("p",{className:"text-neutral-900 font-sans text-lg border-2 text-left",children:s})]});function ED(){const s=Ye(),[e,t]=N.useState(!0),[n,i]=N.useState({nome:null,telefone:null,nacionalidade:null,cpf:null,rg:null,passaporte:null,endereco:null,CNPJ:null,email:null,dataCriacao:null,role:null}),r=()=>{s("/perfil/editar")},o=()=>{s("/perfil/alterar-senha")},l=async()=>{var u,d,f,g;try{const y=(await me.get("auth/Account/WhoAmI")).data;if(y.role==="Admin"||y.role==="Judiciario"){const b="N/A";i({nome:y.nome,telefone:b,nacionalidade:b,cpf:b,rg:b,passaporte:b,endereco:b,CNPJ:b,email:y.email,dataCriacao:new Date(y.dataCriacao).toLocaleDateString("pt-BR"),role:y.role})}else i({nome:y.nome,telefone:y.telefone,nacionalidade:y.nacionalidade,cpf:y.cpf,rg:y.rg,passaporte:y.passaporte,endereco:y.endereco,CNPJ:y.cnpj,email:y.email,dataCriacao:new Date(y.dataCriacao).toLocaleDateString("pt-BR"),role:y.role});t(!1)}catch(x){console.error(((d=(u=x.response)==null?void 0:u.data)==null?void 0:d.message)||"Erro ao buscar o usuário"),le(((g=(f=x==null?void 0:x.response)==null?void 0:f.data)==null?void 0:g.message)||"Erro ao se conectar com o servidor.")}};return N.useEffect(()=>{l()},[]),h.jsxs("main",{className:"main-custom-desktop",children:[h.jsx(Xe,{}),h.jsxs("section",{className:"section-custom-desktop container mx-auto px-8",children:[h.jsx(on,{}),e?h.jsx(Ke,{type:"skeleton"}):h.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[h.jsxs("div",{className:"lg:w-1/3",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:n.nome||" "}),h.jsx("h2",{className:"text-lg text-gray-600",children:n.role||" "})]}),h.jsx(Yi,{label:"Editar Perfil",onClick:r}),h.jsx(sx,{label:"Alterar Senha",onClick:o})]}),h.jsxs("div",{className:"lg:w-2/3 border-2 border-neutral-900 p-8 rounded",children:[h.jsx("h1",{className:"mb-6 text-xl font-bold",children:"Informações Pessoais"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsx(Be,{label:"E-mail",informacao:n.email||" "}),h.jsx(Be,{label:"Telefone",informacao:n.telefone||" "}),h.jsx(Be,{label:"Data de Criação",informacao:n.dataCriacao||" "}),h.jsx(Be,{label:"Nacionalidade",informacao:n.nacionalidade||" "}),h.jsx(Be,{label:"CPF",informacao:n.cpf||" "}),h.jsx(Be,{label:"RG",informacao:n.rg||" "}),h.jsx(Be,{label:"Passaporte",informacao:n.passaporte||" "}),h.jsx(Be,{label:"Endereço",informacao:n.endereco||" "}),h.jsx(Be,{label:"CNPJ",informacao:n.CNPJ||" "})]})]})]})]}),h.jsx(_2,{})]})}function ut(){return h.jsx("div",{className:"bg-neutral-black flex flex-col py-4",children:h.jsxs("p",{className:"text-neutral-500 text-[8px] text-end mt-4 me-4",children:["© 2024 K&K Assessoria e Gestão de Negócios",h.jsx("br",{}),"Todos os Direitos Reservados."]})})}const ix=({mensagem:s,onConfirm:e,onCancel:t})=>{const n=i=>{i.target===i.currentTarget&&t()};return h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",onClick:n,children:h.jsxs("div",{className:"bg-white p-6 m-4 rounded shadow-lg max-w-md w-full",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Confirmação"}),h.jsx("p",{className:"mb-6",children:s}),h.jsxs("div",{className:"flex justify-end space-x-4",children:[h.jsx("button",{onClick:t,className:"border-2 border-neutral-500 px-4 py-2 rounded hover:border-neutral-900 transition-all duration-200 ease-in-out",children:"Não"}),h.jsx("button",{onClick:e,className:"bg-neutral-900 text-white px-6 py-2 rounded hover:bg-black transition-all duration-200 ease-in-out",children:"Sim"})]})]})})};function AD(){const[s,e]=N.useState(!0),[t,n]=N.useState(!0),[i,r]=N.useState(!1),o=Ye(),[l,u]=N.useState({nome:null,telefone:null,nacionalidade:null,cpf:null,rg:null,passaporte:null,endereco:null,CNPJ:null,email:null,dataCriacao:null,role:null}),d=()=>{o("/perfil/editar/:id")},f=()=>{e(!0)},g=async()=>{var b;e(!1),r(!0);try{const w=await me.post(`auth/User/RedefinirSenhaUsuario?email=${l.email}`);Rs(((b=w==null?void 0:w.data)==null?void 0:b.message)||"Senha resetada com sucesso.")}catch(w){console.error(w),le("Erro ao se conectar com o servidor.")}finally{r(!1)}},x=()=>{e(!1)},y=async()=>{var w,S,C,j;const b=window.location.pathname.split("/").pop();try{const k=(await me.get(`auth/User/PegarUsuario?userId=${b}`)).data;if(n(!1),k.role==="Admin"||k.role==="Judiciario"){const T="Não aplicável";u({nome:k.nome,telefone:T,nacionalidade:k.national,cpf:T,rg:T,passaporte:T,endereco:T,CNPJ:T,email:k.email,dataCriacao:new Date(k.dataCriacao).toLocaleDateString("pt-BR"),role:k.role})}else u({nome:k.nome,telefone:k.telefone,nacionalidade:k.nacionalidade,cpf:k.cpf,rg:k.rg,passaporte:k.passaporte,endereco:k.endereco,CNPJ:k.cnpj,email:k.email,dataCriacao:new Date(k.dataCriacao).toLocaleDateString("pt-BR"),role:k.role})}catch(A){console.error(((S=(w=A.response)==null?void 0:w.data)==null?void 0:S.message)||"Erro ao buscar o usuário"),le(((j=(C=A.response)==null?void 0:C.data)==null?void 0:j.message)||"Erro ao buscar o usuário")}};return N.useEffect(()=>{y()},[]),h.jsxs("div",{className:"perfil-desktop-container bg-gray-50 min-h-screen flex flex-col",children:[h.jsx(Xe,{}),h.jsxs("main",{className:"perfil-desktop-main max-w-4xl mx-auto p-6 bg-white shadow-lg rounded-md",children:[h.jsx(on,{}),h.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:l.nome}),h.jsxs("div",{className:"perfil-desktop-actions flex justify-center gap-4 mb-6",children:[h.jsx(Yi,{label:"Editar Perfil",onClick:d}),h.jsx(sx,{label:"Resetar Senha",onClick:f})]}),h.jsxs("div",{className:"perfil-desktop-info",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Informações Pessoais"}),t?h.jsx(Ke,{type:"skeleton"}):h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsx(Be,{label:"Tipo do usuário",informacao:l.role||""}),h.jsx(Be,{label:"E-mail",informacao:l.email||""}),h.jsx(Be,{label:"Telefone",informacao:l.telefone||""}),h.jsx(Be,{label:"Nacionalidade",informacao:l.nacionalidade||""}),h.jsx(Be,{label:"CPF",informacao:l.cpf||""}),h.jsx(Be,{label:"RG",informacao:l.rg||""}),h.jsx(Be,{label:"Passaporte",informacao:l.passaporte||""}),h.jsx(Be,{label:"Endereço",informacao:l.endereco||""}),h.jsx(Be,{label:"CNPJ",informacao:l.CNPJ||""}),h.jsx(Be,{label:"Data de Criação",informacao:l.dataCriacao||""})]})]})]}),i&&h.jsx(Ke,{type:"spinner"}),h.jsx("div",{className:"mt-auto",children:h.jsx(ut,{})}),s&&h.jsx(ix,{mensagem:"Tem certeza de que deseja resetar a senha deste usuário?",onConfirm:g,onCancel:x})]})}function kD(){return h.jsx("div",{children:h.jsx("main",{children:h.jsx("h1",{children:"Alterar Senha"})})})}function jD(){return h.jsx("div",{children:h.jsx("main",{children:h.jsx("h1",{children:"VEditar perfil Desktop"})})})}const ND=()=>h.jsxs("div",{children:[h.jsx(Xe,{}),h.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 text-yellow-darker px-4",children:[h.jsx("h1",{className:"text-6xl md:text-9xl font-extrabold mb-4 md:mb-6",children:"404"}),h.jsx("p",{className:"text-xl md:text-2xl font-semibold mb-4 md:mb-6 text-center",children:"Oops! Página não encontrada."}),h.jsx("p",{className:"text-sm md:text-base lg:text-lg text-gray-600 mb-12 md:mb-20 text-center max-w-md",children:"Parece que a página que você está tentando acessar não existe."}),h.jsx(bL,{to:"/",className:"px-6 py-3 bg-yellow-darker text-white rounded hover:bg-yellow-dark transition duration-300 text-sm md:text-base",children:"Voltar para a página inicial"})]})]});function TD(){const[s,e]=N.useState(!0),[t,n]=N.useState(null),i=async()=>{try{const o=window.location.pathname.split("/").pop(),l=await me.get(`property/Chamados/PegarChamadosPorId/${o}`),u=await me.get(`auth/User/PegarUsuario?userId=${l.data.solicitanteId}`),d=await me.get(`property/Imoveis/PegarImovelPorId/${l.data.idImovel}`),f=await me.get(`auth/Locatario/PegarLocatarioPorLocatarioID?LocatarioID=${d.data.locatarioId}`),g=await me.get(`auth/Locador/PegarLocadorPorLocadorID?locadorID=${d.data.locadorId}`),x={ChamadoId:l.data.idChamado,Titulo:l.data.titulo||"Título não informado",Solicitor:u.data.nome||"Usuário desconhecido",LocadorName:g.data.nomeCompletoLocador||"Usuário desconhecido",LocadorContact:g.data.numeroTelefone||"Telefone não informado",LocatarioName:f.data.nomeCompletoLocatario||"Usuário desconhecido",LocatarioContact:f.data.numeroTelefone||"Telefone não informado",TypeTicket:l.data.tipoChamado||"Tipo não informado",Address:d.data.endereco||"Endereço desconhecido",DateSolicitation:l.data.dataSolicitacao||"Data não informada",DateStart:l.data.dataInicio||"Data não informada",DateEnd:l.data.dataFim||"Data não informada",Description:l.data.descricao||"Descrição não informada",Status:l.data.status||"Status não informado"},y=b=>{const w={day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(b).toLocaleDateString("pt-BR",w)};x.DateSolicitation=y(x.DateSolicitation),x.DateStart=y(x.DateStart),x.DateEnd=y(x.DateEnd),n(x),e(!1)}catch(o){console.error(o),le("Erro ao se conectar com o servidor.")}},r=async()=>{try{const o=window.location.pathname.split("/").pop();if(!(await me.put(`property/Chamados/AtualizarStatus/${o}?Status=fechado`)).data){console.error("Dados de resposta inválidos"),le("Erro ao se conectar com o servidor.");return}window.location.href="/chamados"}catch(o){console.error(o),le("Erro ao se conectar com o servidor.")}};return N.useEffect(()=>{i()},[]),h.jsxs("main",{className:"bg-gray-100 min-h-screen",children:[h.jsx(Xe,{}),h.jsxs("section",{className:"section-custom max-w-8xl mx-auto px-8 py-6",children:[h.jsx(on,{}),s?h.jsx(Ke,{type:"skeleton"}):h.jsxs(h.Fragment,{children:[h.jsxs("h1",{className:"text-title font-bold text-center text-2xl mb-6",children:["Chamado: ",t==null?void 0:t.Titulo]}),h.jsxs("div",{className:"grid grid-cols-2 gap-8 border-2 border-neutral-500 bg-white p-8 rounded-lg shadow-md",children:[h.jsxs("div",{className:"flex flex-col gap-y-2",children:[h.jsx("h3",{className:"text-xl font-semibold text-neutral-800",children:"Solicitante"}),h.jsxs("p",{className:"text-neutral-600",children:["Nome:"," ",h.jsx("span",{className:"text-neutral-900 font-medium",children:t==null?void 0:t.Solicitor})]})]}),h.jsxs("div",{className:"flex flex-col gap-y-2",children:[h.jsx("h3",{className:"text-xl font-semibold text-neutral-800",children:"Locatário"}),h.jsxs("p",{className:"text-neutral-600",children:["Nome:"," ",h.jsx("span",{className:"text-neutral-900 font-medium",children:t==null?void 0:t.LocatarioName})]}),h.jsxs("p",{className:"text-neutral-600",children:["Contato:"," ",h.jsx("span",{className:"text-neutral-900 font-medium",children:t==null?void 0:t.LocatarioContact})]})]}),h.jsxs("div",{className:"flex flex-col gap-y-2",children:[h.jsx("h3",{className:"text-xl font-semibold text-neutral-800",children:"Status"}),h.jsxs("p",{className:"text-neutral-600",children:["Status:"," ",h.jsx("span",{className:"text-neutral-900 font-medium",children:t==null?void 0:t.Status})]})]}),h.jsxs("div",{className:"flex flex-col gap-y-2",children:[h.jsx("h3",{className:"text-xl font-semibold text-neutral-800",children:"Locador"}),h.jsxs("p",{className:"text-neutral-600",children:["Nome:"," ",h.jsx("span",{className:"text-neutral-900 font-medium",children:t==null?void 0:t.LocadorName})]}),h.jsxs("p",{className:"text-neutral-600",children:["Contato:"," ",h.jsx("span",{className:"text-neutral-900 font-medium",children:t==null?void 0:t.LocadorContact})]})]}),h.jsxs("div",{className:"flex flex-col gap-y-2",children:[h.jsx("h3",{className:"text-xl font-semibold text-neutral-800",children:"Imóvel"}),h.jsxs("p",{className:"text-neutral-600",children:["Endereço:"," ",h.jsx("span",{className:"text-neutral-900 font-medium",children:t==null?void 0:t.Address})]})]}),h.jsxs("div",{className:"flex flex-col gap-y-2",children:[h.jsx("h3",{className:"text-xl font-semibold text-neutral-800",children:"Datas"}),h.jsxs("p",{className:"text-neutral-600",children:["Data da Solicitação:"," ",h.jsx("span",{className:"text-neutral-900 font-medium",children:t==null?void 0:t.DateSolicitation})]}),h.jsxs("p",{className:"text-neutral-600",children:["Data de Início:"," ",h.jsx("span",{className:"text-neutral-900 font-medium",children:t==null?void 0:t.DateStart})]}),h.jsxs("p",{className:"text-neutral-600",children:["Data de Conclusão:"," ",h.jsx("span",{className:"text-neutral-900 font-medium",children:t==null?void 0:t.DateEnd})]})]}),h.jsxs("div",{className:"flex flex-col gap-y-2 col-span-2",children:[h.jsx("h3",{className:"text-xl font-semibold text-neutral-800",children:"Descrição"}),h.jsx("p",{className:"text-neutral-900",children:t==null?void 0:t.Description})]})]}),(t==null?void 0:t.Status)==="aberto"&&h.jsx("div",{className:"mt-6 text-center",children:h.jsx("button",{className:"h-12 px-8 bg-black hover:bg-neutral-800 text-neutral-50 text-base font-medium rounded",onClick:r,children:"Fechar Chamado"})})]})]}),h.jsx(ut,{})]})}const PD=({id:s,address:e,neighborhood:t,postalCode:n,propertyType:i,landlord:r,tenant:o,imageSrc:l,price:u,condominio:d})=>{const f=Ye(),g=()=>{f(`/imovel/${s}`)};return h.jsxs("div",{className:"w-full flex border border-neutral-300 rounded shadow-md overflow-hidden aspect-[6/1] cursor-pointer transition-transform hover:shadow-lg hover:scale-[1.005] duration-300 ease-in-out bg-white",onClick:g,children:[h.jsx("img",{src:l,alt:e,className:"w-1/6 h-full object-cover"}),h.jsxs("div",{className:"flex-grow p-4",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"text-lg font-bold text-[#7C5A26]",children:e}),h.jsx("span",{className:"text-sm text-[#D1A254]",children:t})]}),h.jsxs("p",{className:"text-sm text-neutral-700 mb-1",children:[h.jsx("strong",{children:"CEP:"})," ",n]}),h.jsxs("p",{className:"text-sm text-neutral-700 mb-1",children:[h.jsx("strong",{children:"Tipo de imóvel:"})," ",i]}),h.jsxs("p",{className:"text-sm text-neutral-700 mb-1",children:[h.jsx("strong",{children:"Locador:"})," ",h.jsx("span",{className:"text-blue-500",children:r})]}),h.jsxs("p",{className:"text-sm text-neutral-700 mb-1",children:[h.jsx("strong",{children:"Locatário:"})," ",o||h.jsx("span",{className:"text-neutral-500",children:"---"})]}),h.jsx("button",{onClick:g,className:"mt-4 px-4 py-2 text-sm font-medium text-neutral-800 border border-neutral-800 rounded-md hover:bg-neutral-800 hover:text-white transition-colors",children:"Visualizar detalhes"})]}),h.jsxs("div",{className:"w-1/4 flex items-center justify-end pr-4 text-neutral-600",children:[u," | ",d]})]})},wi="/Filter.svg",rx=({label:s,placeholder:e="Digite para filtrar...",initialValue:t="",onFilter:n})=>{const[i,r]=N.useState(t);N.useEffect(()=>{r(t)},[t]);const o=l=>{const u=l.target.value;r(u),n(u)};return h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{className:"font-sans font-normal text-form-label text-neutral-900 mb-1.5",children:s}),h.jsx("input",{type:"text",value:i,onChange:o,placeholder:e,className:`h-10 flex-grow tracking-wider ${i?"bg-gray-100 border border-black":"bg-[#D9D9D9]"} focus:outline-none px-2 text-form-label placeholder:text-form-label placeholder:text-black/60 rounded`})]})};function RD(s,e,t){let n=[...s];for(const i of e){const r=t[i.name];if(r){if(i.customFilter){n=n.filter(o=>i.customFilter(o,r));continue}switch(i.type){case"text":case"select":{if(typeof r=="string"&&r.trim()!==""){const o=r.toLowerCase(),l=i.property;n=n.filter(u=>{const d=u[l];return d?String(d).toLowerCase().includes(o):!1})}break}case"checkbox":{if(typeof r=="boolean"){const o=i.property;r&&(n=n.filter(l=>l[o]===!0))}break}case"date":{if(typeof r=="string"&&r.trim()!==""){const o=i.property;n=n.filter(l=>{const u=l[o];return u?String(u).slice(0,10)===r:!1})}break}case"dateRange":{const{from:o,to:l}=r;if(o||l){const u=i.property;n=n.filter(d=>{const f=d[u];if(!f)return!1;const g=String(f).slice(0,10);let x=!0,y=!0;return o&&(x=g>=o),l&&(y=g<=l),x&&y})}break}case"number":{const o=Number(r);if(!isNaN(o)){const l=i.property,u=i.name+"_comparison",d=t[u]||"eq";n=n.filter(f=>{const g=f[l];if(typeof g!="number")return!1;switch(d){case"eq":return g===o;case"gt":return g>o;case"gte":return g>=o;case"lt":return g<o;case"lte":return g<=o;default:return!1}})}break}case"numberRange":{const{min:o,max:l}=r;if(o||l){const u=i.property,d=o?Number(o):void 0,f=l?Number(l):void 0;n=n.filter(g=>{const x=g[u];if(typeof x!="number")return!1;let y=!0;d!==void 0&&!isNaN(d)&&(y=x>=d);let b=!0;return f!==void 0&&!isNaN(f)&&(b=x<=f),y&&b})}break}}}}return n}const kr=({isOpen:s,onClose:e,fields:t,data:n,initialValues:i={},onFilteredResult:r})=>{const[o,l]=N.useState(i);function u(x,y){l(b=>({...b,[x]:y}))}function d(x,y,b){l(w=>{const S=w[x]??{};return{...w,[x]:{...S,[y]:b}}})}function f(){const x=RD(n,t,o);r(x),e()}function g(){l({}),r([...n])}return s?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999]",children:h.jsxs("div",{className:"bg-white p-4 rounded w-[90%] sm:w-[400px] max-h-[80vh] overflow-y-auto",children:[h.jsx("h2",{className:"text-lg font-bold mb-4",children:"Filtros"}),t.map(x=>{var b;const y=o[x.name]??"";switch(x.type){case"text":return h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{className:"block mb-1 font-medium",children:x.label}),h.jsx("input",{type:"text",className:"border rounded p-2 w-full",value:y,placeholder:x.placeholder,onChange:A=>u(x.name,A.target.value)})]},x.name);case"select":return h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{className:"block mb-1 font-medium",children:x.label}),h.jsxs("select",{className:"border rounded p-2 w-full",value:y,onChange:A=>u(x.name,A.target.value),children:[h.jsx("option",{value:"",children:"Selecione"}),(b=x.options)==null?void 0:b.map(A=>h.jsx("option",{value:A,children:A},A))]})]},x.name);case"checkbox":return h.jsx("div",{className:"mb-3",children:h.jsxs("label",{className:"inline-flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",className:"border rounded",checked:!!y,onChange:A=>u(x.name,A.target.checked)}),x.label]})},x.name);case"date":return h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{className:"block mb-1 font-medium",children:x.label}),h.jsx("input",{type:"date",className:"border rounded p-2 w-full",value:y,onChange:A=>u(x.name,A.target.value)})]},x.name);case"dateRange":const w=(y==null?void 0:y.from)||"",S=(y==null?void 0:y.to)||"";return h.jsxs("div",{className:"mb-3",children:[h.jsxs("label",{className:"block mb-1 font-medium",children:[x.label," (intervalo)"]}),h.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row mt-1",children:[h.jsx("input",{type:"date",className:"border rounded p-2 w-full",value:w,onChange:A=>d(x.name,"from",A.target.value)}),h.jsx("input",{type:"date",className:"border rounded p-2 w-full",value:S,onChange:A=>d(x.name,"to",A.target.value)})]})]},x.name);case"number":return h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{className:"block mb-1 font-medium",children:x.label}),h.jsxs("select",{className:"border rounded p-2 mb-1 w-full",value:o[x.name+"_comparison"]||"eq",onChange:A=>{l(k=>({...k,[x.name+"_comparison"]:A.target.value}))},children:[h.jsx("option",{value:"eq",children:"Igual"}),h.jsx("option",{value:"gt",children:"Maior"}),h.jsx("option",{value:"gte",children:"Maior e igual"}),h.jsx("option",{value:"lt",children:"Menor"}),h.jsx("option",{value:"lte",children:"Menor e igual"})]}),h.jsx("input",{type:"number",className:"border rounded p-2 w-full",value:y,placeholder:x.placeholder,onChange:A=>u(x.name,A.target.value)})]},x.name);case"numberRange":const C=(y==null?void 0:y.min)||"",j=(y==null?void 0:y.max)||"";return h.jsxs("div",{className:"mb-3",children:[h.jsxs("label",{className:"block mb-1 font-medium",children:[x.label," (intervalo)"]}),h.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row mt-1",children:[h.jsx("input",{type:"number",className:"border rounded p-2 w-full",placeholder:"Mínimo",value:C,onChange:A=>{l(k=>{const T=k[x.name]??{};return{...k,[x.name]:{...T,min:A.target.value}}})}}),h.jsx("input",{type:"number",className:"border rounded p-2 w-full",placeholder:"Máximo",value:j,onChange:A=>{l(k=>{const T=k[x.name]??{};return{...k,[x.name]:{...T,max:A.target.value}}})}})]})]},x.name);default:return null}}),h.jsxs("div",{className:"mt-4 flex flex-col gap-2 sm:flex-row sm:justify-end sm:space-x-2",children:[h.jsx("button",{onClick:f,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 w-full sm:w-auto",children:"Buscar"}),h.jsx("button",{onClick:g,className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 w-full sm:w-auto",children:"Limpar"}),h.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400 w-full sm:w-auto",children:"Fechar"})]})]})}):null};function LD(){const s=Ye(),[e,t]=N.useState(!0),[,n]=N.useState([]),[i,r]=N.useState([]),[o,l]=N.useState([]),[u,d]=N.useState([]),[f,g]=N.useState(""),[x,y]=N.useState(!1),b=[{name:"tipoImovel",label:"Tipo de Imóvel",type:"select",options:["Casa","Apartamento","Sala Comercial","Loja"],property:"propertyType"},{name:"bairro",label:"Bairro",type:"text",property:"neighborhood"},{name:"endereco",label:"Endereço",type:"text",property:"address"},{name:"valorImovel",label:"Valor do Imóvel",type:"number",property:"price"},{name:"condominio",label:"Condomínio",type:"number",property:"condominio"},{name:"locador",label:"Locador",type:"text",property:"landlord"},{name:"locatario",label:"Locatário",type:"text",property:"tenant"}],w=async()=>{var M;t(!0);try{const[F,B]=await Promise.all([me.get("property/Imoveis/PegarTodosImoveis"),me.get("auth/User/PegarTodosUsuarios")]);if(!F.data||!B.data){console.error("Dados de resposta inválidos"),le("Dados recebidos são inválidos. Tente novamente.");return}const O=F.data,W=B.data,J=O.map(V=>{var ne,H;const G=((ne=W.find(Y=>Y.roleId===V.locadorId))==null?void 0:ne.nome)||"Locador não encontrado",X=((H=W.find(Y=>Y.roleId===V.locatarioId))==null?void 0:H.nome)||"Locatário não encontrado";return{id:V.imovelId,address:`${V.endereco} ${V.complemento||""}`.trim(),neighborhood:V.bairro,postalCode:V.cep,propertyType:V.tipoImovel,landlord:G,tenant:X,imageSrc:V.fotos,price:V.valorImovel,condominio:V.condominio!=0?V.condominio:"Este imóvel não tem condominio"}});J.forEach(V=>{typeof V.imageSrc=="string"&&(V.imageSrc=V.imageSrc.split(";").map(G=>G.trim()))});const ie=J.flatMap(V=>!V.imageSrc||V.imageSrc.length===0?[]:Array.isArray(V.imageSrc)?V.imageSrc.map(G=>G.replace("https://storage.googleapis.com/administradora-kk.appspot.com/","")):[]),se=await me.post("property/Imoveis/AssinarFotos",ie);if(!se.data){console.error("Dados de resposta inválidos do endpoint de assinatura"),le("Erro ao processar as fotos. Tente novamente.");return}const $=se.data;let ee=0;J.forEach(V=>{if(!V.imageSrc)return;const G=V.imageSrc.length,X=$.slice(ee,ee+G);V.imageSrc=X,ee+=G}),n(J),l(J),r(J),d(J)}catch(F){if(console.error("Erro ao buscar propriedades:",F),vt.isAxiosError(F))if(F.response){const B=((M=F.response.data)==null?void 0:M.message)||"Erro ao processar a requisição.";le(B)}else F.request?le("Erro de rede. Verifique sua conexão e tente novamente."):le("Ocorreu um erro inesperado. Tente novamente mais tarde.");else F instanceof Error?le(F.message):le("Erro ao se conectar com o servidor.")}finally{t(!1)}};N.useEffect(()=>{if(!f.trim()){l(u);return}const M=f.toLowerCase(),F=u.filter(B=>{var O;return(O=B.postalCode)==null?void 0:O.toLowerCase().includes(M)});l(F)},[f,u]);const S=()=>{y(!0)},C=M=>{d(M)};N.useEffect(()=>{(async()=>{await w()})()},[]);const[j,A]=N.useState(1),k=10,T=()=>{const M=(j-1)*k;return o.slice(M,M+k)},I=Math.ceil(o.length/k);return h.jsxs("div",{className:"flex flex-col bg-[#F0F0F0] gap-y-5 p-6 min-h-screen",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-3xl font-bold text-neutral-800",children:"Imóveis"}),h.jsx("button",{type:"button",className:"h-10 px-6 bg-[#1F1E1C] hover:bg-neutral-800 text-neutral-50 text-sm font-medium rounded",onClick:()=>s("/imoveis/criar"),children:"Adicionar"})]}),h.jsxs("form",{className:"flex items-end gap-4 mb-6",children:[h.jsx("div",{className:"flex-grow",children:h.jsx("div",{className:"w-full",children:h.jsx(rx,{label:"Buscar imóvel pelo cep",onFilter:M=>{g(M)}})})}),h.jsxs("button",{type:"button",className:"flex items-center justify-center hover:bg-neutral-800 gap-2 px-6 h-10 bg-[#1F1E1C] text-neutral-50 text-sm font-medium rounded",onClick:S,children:["Filtrar",h.jsx("img",{src:wi,alt:"Filtrar",className:"w-5 h-5"})]})]}),h.jsx(kr,{isOpen:x,onClose:()=>y(!1),fields:b,data:i,onFilteredResult:C}),h.jsxs("section",{className:"flex flex-col gap-y-5",children:[h.jsx("h2",{className:"text-2xl font-semibold",children:"Resultados"}),h.jsx("div",{className:"h-[1px] bg-neutral-400 mb-4"}),e?h.jsx(Ke,{type:"skeleton"}):o.length===0?h.jsx("p",{className:"text-center text-lg text-neutral-500 mt-8 font-bold",children:"Nenhum imóvel encontrado."}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"flex flex-col gap-6",children:T().map(M=>h.jsx(PD,{id:M.id,address:M.address,neighborhood:M.neighborhood,postalCode:M.postalCode,propertyType:M.propertyType,landlord:M.landlord,tenant:M.tenant,imageSrc:M.imageSrc&&M.imageSrc.length>0?M.imageSrc[0]:"/ImovelSemFoto.png",price:`R$ ${M.price}`,condominio:`R$ ${M.condominio}`},M.id))}),h.jsxs("div",{className:"flex justify-between items-center mt-6",children:[h.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded ${j===1?"bg-neutral-300 cursor-not-allowed":"bg-[#1F1E1C] hover:bg-neutral-800 text-neutral-50"}`,onClick:()=>A(M=>Math.max(M-1,1)),disabled:j===1,children:"Anterior"}),h.jsxs("span",{className:"text-neutral-700",children:["Página ",j," de ",I]}),h.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded ${j===I?"bg-neutral-300 cursor-not-allowed":"bg-[#1F1E1C] hover:bg-neutral-800 text-neutral-50"}`,onClick:()=>A(M=>Math.min(M+1,I)),disabled:j===I,children:"Próxima"})]})]})]})]})}function Op(s){return jn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.7 9.4c3 3.1 5.3 6.6 6.9 10.3s2.4 7.8 2.4 12.2l0 .1v0 96c0 17.7-14.3 32-32 32s-32-14.3-32-32V109.3L310.6 214.6c-11.8 11.8-30.8 12.6-43.5 1.7L176 138.1 84.8 216.3c-13.4 11.5-33.6 9.9-45.1-3.5s-9.9-33.6 3.5-45.1l112-96c12-10.3 29.7-10.3 41.7 0l89.5 76.7L370.7 64H352c-17.7 0-32-14.3-32-32s14.3-32 32-32h96 0c8.8 0 16.8 3.6 22.6 9.3l.1 .1zM0 304c0-26.5 21.5-48 48-48H464c26.5 0 48 21.5 48 48V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V304zM48 416v48H96c0-26.5-21.5-48-48-48zM96 304H48v48c26.5 0 48-21.5 48-48zM464 416c-26.5 0-48 21.5-48 48h48V416zM416 304c0 26.5 21.5 48 48 48V304H416zm-96 80a64 64 0 1 0 -128 0 64 64 0 1 0 128 0z"},child:[]}]})(s)}function ID(){const s=Ye();return h.jsxs("div",{className:"bg-[#F0F0F0]",children:[h.jsx(Xe,{}),h.jsxs("div",{className:"flex justify-start gap-6 ms-2",children:[h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden",onClick:()=>s("/imoveis"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Ip,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Imóveis"})]}),h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden",onClick:()=>s("/usuarios"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Mp,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Clientes"})]}),h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden",onClick:()=>s("/contratos"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Lp,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Contratos"})]}),h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden",onClick:()=>s("/pagamentos"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Op,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Pagamentos"})]}),h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden",onClick:()=>s("/chamados"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Rp,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Chamados"})]})]}),h.jsx("div",{className:"h-[1px] bg-neutral-400 mb-4"}),h.jsx(LD,{}),h.jsx(ut,{})]})}const MD=({id:s,title:e,creator:t,contact:n,description:i,date:r,time:o,status:l})=>{const u=Ye(),d=()=>{u(`/chamado/${s}`)};return h.jsxs("div",{className:"w-full flex flex-col border border-neutral-300 rounded shadow-md p-4 bg-white cursor-pointer transition-transform hover:shadow-lg hover:scale-[1.005] duration-300 ease-in-out",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsx("h3",{className:"text-lg font-bold text-neutral-800",children:e}),h.jsx("span",{className:"text-sm text-neutral-600",children:`${r} · ${o}`})]}),h.jsxs("p",{className:"text-sm text-neutral-700 mb-4",children:[h.jsx("strong",{children:"Criado por:"})," ",t," · ",h.jsx("strong",{children:"Contato:"})," ",n]}),h.jsxs("p",{className:"text-sm text-neutral-700 mb-4",children:[h.jsx("strong",{children:"Status:"})," ",h.jsx("span",{className:l==="Aberto"?"text-green-500":"text-red-500",children:l})]}),h.jsx("p",{className:"text-sm text-neutral-700 mb-4 truncate",children:i}),h.jsx("div",{className:"flex justify-start",children:h.jsx("button",{onClick:d,className:"px-4 py-2 text-sm font-medium text-neutral-800 border border-neutral-800 rounded-md hover:bg-neutral-800 hover:text-white transition-colors",children:"Visualizar detalhes"})})]})};function DD(){const s=Ye(),[e,t]=N.useState([]),[n,i]=N.useState(!0),[r,o]=N.useState([]),[l,u]=N.useState([]),[d,f]=N.useState(""),[g,x]=N.useState(!1),y=[{name:"title",label:"Título",type:"text",property:"title"},{name:"solicitor",label:"Solicitante",type:"text",property:"solicitor"},{name:"address",label:"Endereço",type:"text",property:"address"},{name:"date",label:"Data",type:"dateRange",property:"date"},{name:"open",label:"Aberto",type:"checkbox",property:"open"},{name:"description",label:"Descrição",type:"text",property:"description"}],b=async()=>{i(!0);try{const[C,j,A]=await Promise.all([me.get("property/Chamados/PegarTodosOsChamados"),me.get("auth/User/PegarTodosUsuarios"),me.get("property/Imoveis/PegarTodosImoveis")]);if(!C.data||!j.data||!A.data){console.error("Dados de resposta inválidos"),le("Dados recebidos são inválidos. Tente novamente.");return}const k=C.data,T=j.data,I=A.data,M=k.map(F=>{const B=T.find(W=>W.usuarioId===F.solicitanteId)||{},O=I.find(W=>W.imovelId===F.idImovel)||{};return{chamadoId:F.idChamado,title:F.titulo||"Título não informado",solicitor:B.nome||"Usuário desconhecido",address:O.endereco||"Endereço desconhecido",date:F.dataSolicitacao||"Data não informada",open:F.status==="aberto",description:F.descricao||"Descrição não informada"}});t(M),u(M),o(M)}catch(C){if(console.error("Erro ao buscar dados:",C),vt.isAxiosError(C))if(C.response){const j=C.response.data||"Erro ao processar a requisição.";le(j)}else C.request?le("Erro de rede. Verifique sua conexão e tente novamente."):le("Ocorreu um erro inesperado. Tente novamente mais tarde.");else C instanceof Error?le(C.message):le("Erro ao se conectar com o servidor.")}finally{i(!1)}};N.useEffect(()=>{if(!d.trim()){t(l);return}const C=d.toLowerCase(),j=l.filter(A=>{var k;return(k=A.title)==null?void 0:k.toLowerCase().includes(C)});t(j)},[d,l]);const w=()=>{x(!0)},S=C=>{u(C)};return N.useEffect(()=>{b()},[]),h.jsxs("div",{className:"flex flex-col bg-[#F0F0F0] gap-y-5 p-6 min-h-screen",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-3xl font-bold text-neutral-800",children:"Chamados"}),h.jsx("button",{type:"button",className:"h-10 px-6 bg-[#1F1E1C] hover:bg-neutral-800 text-neutral-50 text-sm font-medium rounded",onClick:()=>s("/chamados/criar"),children:"Abrir Chamado"})]}),h.jsxs("form",{className:"flex items-end gap-4 mb-6",children:[h.jsx("div",{className:"flex-grow",children:h.jsx("div",{className:"w-full",children:h.jsx(rx,{label:"Buscar chamado pelo título",onFilter:C=>{f(C)}})})}),h.jsxs("button",{type:"button",className:"flex items-center justify-center hover:bg-neutral-800 gap-2 px-6 h-10 bg-[#1F1E1C] text-neutral-50 text-sm font-medium rounded",onClick:w,children:["Filtrar",h.jsx("img",{src:wi,alt:"Filtrar",className:"w-5 h-5"})]})]}),h.jsx(kr,{isOpen:g,onClose:()=>x(!1),fields:y,data:r,onFilteredResult:S}),h.jsxs("section",{className:"flex flex-col gap-y-5",children:[h.jsx("h2",{className:"text-2xl font-semibold",children:"Resultados"}),h.jsx("div",{className:"h-[1px] bg-neutral-400 mb-4"}),n?h.jsx(Ke,{type:"skeleton"}):h.jsx("div",{className:"flex flex-col gap-6",children:e.map(C=>h.jsx(MD,{id:C.chamadoId,title:C.title,creator:C.solicitor,contact:C.address,description:C.description,date:C.date.split("T")[0],time:C.date.split("T")[1].split(".")[0],status:C.open?"Aberto":"Fechado"},C.chamadoId))})]})]})}function FD(){const s=Ye();return h.jsxs("div",{className:"bg-[#F0F0F0]",children:[h.jsx(Xe,{}),h.jsxs("div",{className:"flex justify-start gap-6 ms-2",children:[h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden",onClick:()=>s("/imoveis"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Ip,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Imóveis"})]}),h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden",onClick:()=>s("/usuarios"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Mp,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Clientes"})]}),h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden",onClick:()=>s("/contratos"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Lp,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Contratos"})]}),h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden",onClick:()=>s("/pagamentos"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Op,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Pagamentos"})]}),h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden",onClick:()=>s("/chamados"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Rp,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Chamados"})]})]}),h.jsx("div",{className:"h-[1px] bg-neutral-400 mb-4"}),h.jsx(DD,{}),h.jsx(ut,{})]})}const OD=({id:s,name:e,role:t,cpf:n,rg:i,associatedProperties:r})=>{const o=Ye(),l=()=>{o(`/perfil/${s}`)};return h.jsxs("div",{className:"w-full flex justify-between items-center border border-neutral-300 rounded shadow-md p-4 bg-white cursor-pointer transition-transform hover:shadow-lg hover:scale-[1.005] duration-300 ease-in-out",onClick:l,children:[h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("h3",{className:"text-lg font-bold text-[#7C5A26]",children:[e," ",h.jsx("span",{className:"text-[#D1A254]",children:t})]}),h.jsxs("p",{className:"text-sm text-neutral-700",children:[h.jsx("strong",{children:"CPF:"})," ",n," · ",h.jsx("strong",{children:"RG:"})," ",i]}),h.jsx("button",{onClick:l,className:"mt-2 px-4 py-2 text-sm font-medium text-neutral-800 border border-neutral-800 rounded-md hover:bg-neutral-800 hover:text-white transition-colors",children:"Visualizar detalhes"})]}),h.jsxs("div",{className:"text-sm text-neutral-600",children:["Nº de imóveis associados: ",r]})]})};function zD(){const s=Ye(),[e,t]=N.useState(!0),[n,i]=N.useState([]),[r,o]=N.useState([]),[l,u]=N.useState([]),[d,f]=N.useState(""),[g,x]=N.useState(!1),y=[{name:"perfil",label:"Perfil",type:"select",options:["Admin","Locatario","Locador"],property:"role"},{name:"cnpj",label:"CNPJ",type:"text",property:"cnpj"},{name:"cpf",label:"CPF",type:"text",property:"cpf"},{name:"email",label:"Email",type:"text",property:"email"},{name:"rg",label:"RG",type:"text",property:"rg"},{name:"telefone",label:"Telefone",type:"text",property:"telefone"},{name:"dataCriacao",label:"Data de Criação",type:"dateRange",property:"dataCriacao"},{name:"numeroImoveis",label:"Número de Imóveis",type:"number",property:"nImoveis",placeholder:"Digite o número de imóveis"},{name:"numeroImoveisRange",label:"Número de Imóveis",type:"numberRange",property:"nImoveis",placeholder:"Digite a faixa de numeros de imoveis"},{name:"filtroImovel",label:"Filtrar por CEP",type:"text",property:"imoveis",placeholder:"Digite o CEP do imóvel",customFilter:(I,M)=>{var O;const F=String(M).toLowerCase();return(O=I.imoveis)==null?void 0:O.some(W=>{var J;return(J=W.cep)==null?void 0:J.toLowerCase().includes(F)})}}],b=async()=>{var I,M;try{const[F,B]=await Promise.all([me.get("auth/User/PegarTodosUsuarios"),me.get("property/Imoveis/PegarTodosImoveis")]);if(!F.data||!B.data){console.error("Dados de resposta inválidos");return}const O=F.data.map(W=>{const J=B.data.filter(ie=>{const se=Number(ie.locadorId)===Number(W.roleId),$=Number(ie.locatarioId)===Number(W.roleId);return se||$});return console.log(`Usuário: ${W.nome}, Imóveis encontrados:`,J),{...W,nImoveis:J.length,imoveis:J}});i(O),o(O),u(O),console.log("Dados combinados:",O)}catch(F){le(((M=(I=F==null?void 0:F.response)==null?void 0:I.data)==null?void 0:M.message)||"Erro ao se conectar com o servidor."),console.error("Erro ao obter informações:",F.message)}finally{t(!1)}};N.useEffect(()=>{b()},[]),N.useEffect(()=>{if(!d.trim()){u(r);return}const I=d.toLowerCase(),M=r.filter(F=>{var B;return(B=F.nome)==null?void 0:B.toLowerCase().includes(I)});u(M)},[d,r]);const w=()=>{x(!0)},S=I=>{o(I)},[C,j]=N.useState(1),A=10,k=()=>{const I=(C-1)*A;return l.slice(I,I+A)},T=Math.ceil(l.length/A);return h.jsxs("div",{className:"flex flex-col bg-[#F0F0F0] gap-y-5 p-6 min-h-screen",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-3xl font-bold text-neutral-800",children:"Usuários"}),h.jsx("button",{type:"button",className:"h-10 px-6 bg-[#1F1E1C] hover:bg-neutral-800 text-neutral-50 text-sm font-medium rounded",onClick:()=>s("/usuarios/criar"),children:"Adicionar Usuário"})]}),h.jsxs("div",{className:"flex items-end gap-4 mb-6",children:[h.jsx("div",{className:"flex-grow",children:h.jsx(rx,{label:"Buscar pelo nome",onFilter:I=>{f(I)}})}),h.jsxs("button",{type:"button",className:"flex items-center gap-2 px-6 h-10 bg-[#1F1E1C] text-neutral-50 text-sm font-medium rounded hover:bg-neutral-800",onClick:w,children:["Filtros Avançados",h.jsx("img",{src:wi,alt:"Filtrar",className:"w-5 h-5"})]})]}),h.jsx(kr,{isOpen:g,onClose:()=>x(!1),fields:y,data:n,onFilteredResult:S}),h.jsxs("section",{className:"flex flex-col gap-y-5",children:[h.jsx("h2",{className:"text-2xl font-semibold",children:"Resultados"}),h.jsx("div",{className:"h-[1px] bg-neutral-400 mb-4"}),e?h.jsx(Ke,{type:"skeleton"}):l.length===0?h.jsx("p",{className:"text-center text-lg text-neutral-500 mt-8 font-bold",children:"Nenhum usuário encontrado."}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"flex flex-col gap-6",children:k().map(I=>h.jsx(OD,{id:I.usuarioId,name:I.nome||"Nome não disponível",role:I.role||"Função não disponível",cpf:I.cpf||"não encontrado",rg:I.rg||"não encontrado",associatedProperties:I.nImoveis},I.usuarioId))}),h.jsxs("div",{className:"flex justify-between items-center mt-6",children:[h.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded ${C===1?"bg-neutral-300 cursor-not-allowed":"bg-[#1F1E1C] hover:bg-neutral-800 text-neutral-50"}`,onClick:()=>j(I=>Math.max(I-1,1)),disabled:C===1,children:"Anterior"}),h.jsxs("span",{className:"text-neutral-700",children:["Página ",C," de ",T]}),h.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded ${C===T?"bg-neutral-300 cursor-not-allowed":"bg-[#1F1E1C] hover:bg-neutral-800 text-neutral-50"}`,onClick:()=>j(I=>Math.min(I+1,T)),disabled:C===T,children:"Próxima"})]})]})]})]})}function BD(){const s=Ye();return h.jsxs("div",{className:"bg-[#F0F0F0]",children:[h.jsx(Xe,{}),h.jsxs("div",{className:"flex justify-start gap-6 ms-2",children:[h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden",onClick:()=>s("/imoveis"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Ip,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Imóveis"})]}),h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden",onClick:()=>s("/usuarios"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Mp,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Clientes"})]}),h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden",onClick:()=>s("/contratos"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Lp,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Contratos"})]}),h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden",onClick:()=>s("/pagamentos"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Op,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Pagamentos"})]}),h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden",onClick:()=>s("/chamados"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Rp,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Chamados"})]})]}),h.jsx("div",{className:"h-[1px] bg-neutral-400 mb-4"}),h.jsx(zD,{}),h.jsx(ut,{})]})}const rk=({title:s,locador:e,locatario:t,status:n,encerramento:i,reajuste:r,location:o,iptu:l,aluguel:u,id:d})=>{const f=Ye();return h.jsxs("div",{className:"relative p-4 border border-gray-300 rounded-lg shadow-md bg-white cursor-pointer hover:shadow-lg hover:border-gray-400 transition-all",onClick:()=>f(`/contratos/${d}`),children:[h.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Contrato ",s]}),h.jsx("span",{className:"absolute top-3 right-4 text-sm text-gray-700 mb-1",children:n}),h.jsxs("p",{className:"text-sm text-gray-700 mb-1",children:["Locador: ",e]}),h.jsxs("p",{className:"text-sm text-gray-700 mb-1",children:["Locatário: ",t]}),h.jsxs("p",{className:"text-sm text-gray-700 mb-1",children:["Encerramento: ",i]}),h.jsxs("p",{className:"text-sm text-gray-700 mb-1",children:["Localização: ",o]}),h.jsxs("p",{className:"text-sm text-gray-700 mb-1",children:["IPTU: R$ ",l]}),h.jsxs("p",{className:"text-sm text-gray-700",children:["Aluguel: R$ ",u]}),h.jsxs("p",{className:"text-sm text-gray-700 mb-1",children:["Data do Reajuste: ",r]})]})};function HD(){const s=Ye(),[e,t]=N.useState(!0),[n,i]=N.useState([]),[r,o]=N.useState([]),[l,u]=N.useState([]),[d,f]=N.useState([]),[g,x]=N.useState(""),[y,b]=N.useState(!1),w=[{name:"locadorId",label:"Locador",type:"text",property:"locadorId"},{name:"locatarioId",label:"Locatário",type:"text",property:"locatarioId"},{name:"status",label:"Status",type:"select",property:"status",options:["Ativo","Inativo"]},{name:"dataEncerramento",label:"Data de Encerramento",type:"dateRange",property:"dataEncerramento"},{name:"imovelId",label:"Imóvel",type:"text",property:"imovelId"},{name:"iptu",label:"IPTU",type:"numberRange",property:"iptu"},{name:"valorAluguel",label:"Valor do Aluguel",type:"numberRange",property:"valorAluguel"}],S=async()=>{var A;t(!0);try{const k=await me.get("property/Contratos/PegarTodosOsContratos");if(!k.data||!Array.isArray(k.data)){console.error("Dados de resposta inválidos ou ausentes"),le("Dados recebidos são inválidos. Tente novamente."),i([]);return}const T=k.data.map(I=>({...I,contratoId:Number(I.contratoId)}));i(T),o(T),u(T),f(T)}catch(k){if(console.error("Erro ao buscar contratos:",k),vt.isAxiosError(k))if(k.response){const T=((A=k.response.data)==null?void 0:A.message)||"Erro ao processar a requisição.";le(T)}else k.request?le("Erro de rede. Verifique sua conexão e tente novamente."):le("Ocorreu um erro inesperado. Tente novamente mais tarde.");else k instanceof Error?le(k.message):le("Erro ao se conectar com o servidor.")}finally{t(!1)}};N.useEffect(()=>{if(!g.trim()){o(d);return}const A=Number(g),k=d.filter(T=>T.contratoId===A);o(k)},[g,d]);const C=()=>{b(!0)},j=A=>{f(A)};return N.useEffect(()=>{S()},[]),h.jsxs("div",{className:"flex flex-col bg-[#F0F0F0] gap-y-5 p-6 min-h-screen",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-3xl font-bold text-neutral-800",children:"Contratos"}),h.jsx("button",{type:"button",className:"h-10 px-6 bg-[#1F1E1C] hover:bg-neutral-800 text-neutral-50 text-sm font-medium rounded",onClick:()=>s("/contratos/criar"),children:"Adicionar Contrato"})]}),h.jsxs("form",{className:"flex items-end gap-4 mb-6",children:[h.jsx("div",{className:"flex-grow",children:h.jsx(rx,{label:"Buscar chamado pelo título",onFilter:A=>{x(A)}})}),h.jsxs("button",{type:"button",className:"flex items-center justify-center hover:bg-neutral-800 gap-2 px-6 h-10 bg-[#1F1E1C] text-neutral-50 text-sm font-medium rounded",onClick:C,children:["Filtrar",h.jsx("img",{src:wi,alt:"Filtrar",className:"w-5 h-5"})]})]}),h.jsx(kr,{isOpen:y,onClose:()=>b(!1),fields:w,data:l,onFilteredResult:j}),h.jsxs("section",{className:"flex flex-col gap-y-5",children:[h.jsx("h2",{className:"text-2xl font-semibold",children:"Resultados"}),h.jsx("div",{className:"h-[1px] bg-neutral-400 mb-4"}),e?h.jsx(Ke,{type:"skeleton"}):n.length===0?h.jsx("p",{className:"text-center text-lg text-neutral-500 mt-8 font-bold",children:"Nenhum contrato encontrado."}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(A=>h.jsx(rk,{id:A.contratoId,title:A.contratoId,locador:A.locadorId,locatario:A.locatarioId,reajuste:A.DataReajuste??"data não disponível",status:A.status,encerramento:A.dataEncerramento,location:A.imovelId,iptu:A.iptu.toFixed(2),aluguel:A.valorAluguel.toFixed(2)},A.contratoId))})]})]})}function VD(){const s=Ye();return h.jsxs("div",{className:"bg-[#F0F0F0]",children:[h.jsx(Xe,{}),h.jsxs("div",{className:"flex justify-start gap-6 ms-2",children:[h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden",onClick:()=>s("/imoveis"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Ip,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Imóveis"})]}),h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden",onClick:()=>s("/usuarios"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Mp,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Clientes"})]}),h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden",onClick:()=>s("/contratos"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Lp,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Contratos"})]}),h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden",onClick:()=>s("/pagamentos"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Op,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Pagamentos"})]}),h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden",onClick:()=>s("/chamados"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Rp,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Chamados"})]})]}),h.jsx("div",{className:"h-[1px] bg-neutral-400 mb-4"}),h.jsx(HD,{}),h.jsx(ut,{})]})}const $D="/assets/logo-MFaqkhht.svg",UD="/assets/houseUp-BPFwyKF7.png",WD="/assets/houseDown-CYNl3dV4.png";function qD(){return h.jsxs("section",{className:"w-full flex flex-col gap-4",children:[h.jsxs("div",{className:"w-full relative h-40",children:[h.jsx("img",{src:$D,className:"w-36 absolute top-0 left-0 z-20",alt:"Logotipo da K.K. Administradora"}),h.jsx("img",{src:lu,className:"w-8 absolute -top-8 -right-1 z-0 -rotate-45 opacity-75",alt:"Logotipo simplificado da K.K. Administradora"}),h.jsx("img",{src:UD,className:"w-48 absolute bottom-0 right-0 z-10",alt:"Imagem estilizada de uma casa"})]}),h.jsxs("div",{className:"w-full relative h-40",children:[h.jsxs("p",{className:"absolute bottom-0 left-0 z-20 text-xl whitespace-nowrap font-semibold leading-tight",children:["Bem vindo à ",h.jsx("br",{})," ",h.jsx("span",{className:"font-extrabold",children:"K.K. Administradora"})]}),h.jsx("img",{src:lu,className:"w-10 absolute -top-6 -left-6 z-0 rotate-45 opacity-75",alt:"Logotipo simplificado da K.K. Administradora"}),h.jsx("img",{src:WD,className:"w-48 absolute bottom-0 right-0 z-10",alt:"Imagem de uma casa estilizada"})]})]})}function GD(){const s=Ye();return h.jsxs("main",{className:"main-custom",children:[h.jsx(Xe,{showLoginButton:!0}),h.jsxs("section",{className:"section-custom items-center",children:[h.jsxs("div",{className:"max-w-2xl",children:[h.jsx(qD,{}),h.jsx(g2,{}),h.jsxs("div",{className:"relative",children:[h.jsxs("div",{className:"relative z-10",children:[h.jsxs("p",{className:"text-right leading-tight my-4",children:["A plataforma que ",h.jsx("span",{className:"font-bold",children:"centraliza "}),"toda a relação entre locador e locatário, simplificando a gestão de imóveis, contratos e pagamentos em um só lugar"]}),h.jsx(Yi,{label:"Entrar",onClick:()=>{s("/login")}})]}),h.jsx("img",{src:lu,className:"w-16 absolute bottom-11 -left-4 z-0 -rotate-45 opacity-75",alt:"Logotipo simplificado da K.K. Administradora"})]})]}),h.jsx("div",{className:"fixed bottom-8 left-8 z-50",children:h.jsx(S2,{phoneNumber:"5511965922552",message:"Olá, gostaria de mais informações sobre a plataforma K.K. Administradora."})})]}),h.jsx(z1,{})]})}function XD(){const[s,e]=N.useState(""),[t,n]=N.useState(""),[i,r]=N.useState(!1),o=Ye(),l=async u=>{u.preventDefault(),r(!0);try{const f=(await me.post("auth/Account/Login",{Email:s,Senha:t})).data.token,y=Y2(f)["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"];localStorage.setItem("jwtToken",f),localStorage.setItem("userRole",y),o(y==="Locador"?"/home-locador":y==="Locatario"?"/home-locatario":y==="Admin"?"/imoveis":y==="Judiciario"?"/dashboard":"/")}catch(d){if(vt.isAxiosError(d))if(d.response){const f=d.response.data||"Usuário ou senha inválidos.";le(f)}else d.request?le("Erro de rede. Verifique sua conexão e tente novamente."):le("Ocorreu um erro inesperado. Tente novamente mais tarde.");else d instanceof Error?le(d.message):le("Erro ao se conectar com o servidor.")}finally{r(!1)}};return N.useEffect(()=>{sessionStorage.getItem("jwtToken")&&o("/landing")},[]),h.jsxs("div",{className:"bg-[#F0F0F0] flex flex-col min-h-screen",children:[h.jsx(Xe,{showMenu:!1}),h.jsx("div",{className:"flex-grow flex flex-col justify-center items-center px-4",children:h.jsxs("div",{className:"w-full max-w-sm",children:[h.jsx("h2",{className:"text-start text-title font-strong mb-10",children:"Login"}),h.jsxs("form",{onSubmit:l,children:[h.jsx("div",{className:"mb-6",children:h.jsx(lt,{placeholder:"Email",label:"Email:",value:s,onChange:u=>e(u),disabled:!1})}),h.jsx("div",{className:"mb-10",children:h.jsx(lt,{placeholder:"Senha",label:"Senha:",isPassword:!0,value:t,onChange:u=>n(u),disabled:!1})}),h.jsx("button",{type:"submit",className:"w-full h-10 bg-neutral-900 text-neutral-50 font-bold rounded hover:bg-blue-700 transition-colors",children:"Login"})]})]})}),i&&h.jsx(Ke,{type:"spinner"}),h.jsx(z1,{})]})}function KD(){const s=Ye(),[e,t]=N.useState(!0),[n,i]=N.useState({nome:null,telefone:null,nacionalidade:null,cpf:null,rg:null,passaporte:null,endereço:null,CNPJ:null,email:null,dataCriacao:null,role:null}),r=()=>{s("/perfil/editar")},o=()=>{s("/perfil/alterar-senha")},l=async()=>{var u,d,f,g;try{const x=await me.get("auth/Account/WhoAmI");console.log(x.data);const y=x.data;if(y.role=="Admin"||y.role=="Judiciario"){const b="Não aplicável";i({nome:y.nome,telefone:b,nacionalidade:b,cpf:b,rg:b,passaporte:b,endereço:b,CNPJ:b,email:y.email,dataCriacao:new Date(y.dataCriacao).toLocaleDateString("pt-BR"),role:y.role})}else i({nome:y.nome,telefone:y.telefone,nacionalidade:y.nacionalidade,cpf:y.cpf,rg:y.rg,passaporte:y.passaporte,endereço:y.endereco,CNPJ:y.cnpj,email:y.email,dataCriacao:new Date(y.dataCriacao).toLocaleDateString("pt-BR"),role:y.role});t(!1)}catch(x){console.error(((d=(u=x.response)==null?void 0:u.data)==null?void 0:d.message)||"Erro ao buscar o usuário"),le(((g=(f=x==null?void 0:x.response)==null?void 0:f.data)==null?void 0:g.message)||"Erro ao se conectar com o servidor.")}};return N.useEffect(()=>{l()},[]),h.jsxs("main",{className:"main-custom",children:[h.jsx(Xe,{}),h.jsxs("section",{className:"section-custom",children:[h.jsx(on,{}),e?h.jsx(Ke,{type:"skeleton"}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-title font-strong",children:n.nome||" "}),h.jsx("h2",{className:"text-sm text-gray-700",children:n.role||" "})]}),h.jsx(Yi,{label:"Editar Perfil",onClick:r}),h.jsxs("div",{className:"flex flex-col gap-4 border-2 border-neutral-900 p-4 rounded",children:[h.jsx("h1",{className:"mb-1 font-strong text-lg",children:"Informações Pessoais"}),h.jsx(Be,{label:"E-mail",informacao:n.email||" "}),h.jsx(Be,{label:"Telefone",informacao:n.telefone||" "}),h.jsx(Be,{label:"Data de Criação",informacao:n.dataCriacao||" "}),h.jsx(Be,{label:"Nacionalidade",informacao:n.nacionalidade||" "}),h.jsx(Be,{label:"CPF",informacao:n.cpf||" "}),h.jsx(Be,{label:"RG",informacao:n.rg||" "}),h.jsx(Be,{label:"Passaporte",informacao:n.passaporte||" "}),h.jsx(Be,{label:"Endereço",informacao:n.endereço||" "}),h.jsx(Be,{label:"CNPJ",informacao:n.CNPJ||" "})]}),h.jsx(sx,{label:"Alterar Senha",onClick:o})]})]}),h.jsx(ut,{})]})}function YD(){const[s,e]=N.useState(!0),[t,n]=N.useState(!0),[i,r]=N.useState(!1),o=Ye(),[l,u]=N.useState({nome:null,telefone:null,nacionalidade:null,cpf:null,rg:null,passaporte:null,endereço:null,CNPJ:null,email:null,dataCriacao:null,role:null}),d=()=>{o("/perfil/editar/:id")},f=()=>{e(!0)},g=async()=>{var b;e(!1),r(!0);try{const w=await me.post(`auth/User/RedefinirSenhaUsuario?email=${l.email}`);Rs(((b=w==null?void 0:w.data)==null?void 0:b.message)||"Senha resetada com sucesso.")}catch(w){console.error(w),le("Erro ao se conectar com o servidor.")}finally{r(!1)}},x=()=>{e(!1)},y=async()=>{var w,S,C,j;const b=window.location.pathname.split("/").pop();try{const A=await me.get(`auth/User/PegarUsuario?userId=${b}`);console.log(A.data);const k=A.data;if(n(!1),k.role=="Admin"||k.role=="Judiciario"){const T="Não aplicável";u({nome:k.nome,telefone:T,nacionalidade:k.national,cpf:T,rg:T,passaporte:T,endereço:T,CNPJ:T,email:k.email,dataCriacao:new Date(k.dataCriacao).toLocaleDateString("pt-BR"),role:k.role})}else u({nome:k.nome,telefone:k.telefone,nacionalidade:k.nacionalidade,cpf:k.cpf,rg:k.rg,passaporte:k.passaporte,endereço:k.endereco,CNPJ:k.cnpj,email:k.email,dataCriacao:new Date(k.dataCriacao).toLocaleDateString("pt-BR"),role:k.role})}catch(A){console.log(((S=(w=A.response)==null?void 0:w.data)==null?void 0:S.message)||"Erro ao buscar o usuário"),le(((j=(C=A.response)==null?void 0:C.data)==null?void 0:j.message)||"Erro ao buscar o usuário")}};return N.useEffect(()=>{y()},[]),h.jsxs("main",{className:"main-custom",children:[h.jsx(Xe,{}),h.jsxs("section",{className:"section-custom",children:[h.jsx(on,{}),h.jsx("h1",{className:"text-title font-strong mb-2",children:l.nome}),h.jsx(Yi,{label:"Editar Perfil",onClick:d}),h.jsxs("div",{className:"flex flex-col gap-4 border-2 border-neutral-900 p-4 rounded",children:[h.jsx("h1",{className:"mb-1 font-strong text-lg",children:"Informações Pessoais"}),t?h.jsx(Ke,{type:"skeleton"}):h.jsxs(h.Fragment,{children:[h.jsx(Be,{label:"Tipo do usuário",informacao:l.role||""}),h.jsx(Be,{label:"E-mail",informacao:l.email||""}),h.jsx(Be,{label:"Telefone",informacao:l.telefone||""}),h.jsx(Be,{label:"Nacionalidade",informacao:l.nacionalidade||""}),h.jsx(Be,{label:"CPF",informacao:l.cpf||""}),h.jsx(Be,{label:"RG",informacao:l.rg||""}),h.jsx(Be,{label:"Passaporte",informacao:l.passaporte||""}),h.jsx(Be,{label:"Endereço",informacao:l.endereço||""}),h.jsx(Be,{label:"CNPJ",informacao:l.CNPJ||""}),h.jsx(Be,{label:"Data de Criação",informacao:l.dataCriacao||""})]})]}),h.jsx(sx,{label:"Resetar Senha",onClick:f})]}),i&&h.jsx(Ke,{type:"spinner"}),h.jsx(ut,{}),s&&h.jsx(ix,{mensagem:"Tem certeza de que deseja resetar a senha deste usuário?",onConfirm:g,onCancel:x})]})}const pd=()=>{const s=localStorage.getItem("jwtToken");return s?JSON.parse(atob(s.split(".")[1])):null};function JD(){const[s,e]=N.useState(""),[t,n]=N.useState({nome:null,telefone:null,nacionalidade:null,cpf:null,rg:null,passaporte:null,endereço:null,CNPJ:null,email:null,dataCriacao:null}),i=Ye(),[r,o]=N.useState(!1),[l,u]=N.useState([]),[d,f]=N.useState(!1),g=(S,C)=>{n(j=>({...j,[S]:C}))},x=()=>o(!0),y=async()=>{var C,j,A;o(!1),f(!0);try{const k=pd();if(!k){console.log("Token não encontrado");return}console.log(k);const T=k["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"];var S;T=="Admin"||T=="Judiciario"?S=await me.put("auth/Colaborador/AtualizarColaborador",{nomeCompleto:t.nome,tipoColaborador:T}):T=="Locador"?S=await me.put("auth/Locador/AtualizarLocador",{email:t.email,cpf:t.cpf,nacionalidade:t.nacionalidade,numeroTelefone:t.telefone,nomeCompletoLocador:t.nome,cnpj:t.CNPJ,endereco:t.endereço,passaporte:t.passaporte,rg:t.rg}):T=="Locatario"&&(S=await me.put("auth/Locatario/AtualizarLocatario",{email:t.email,cpf:t.cpf,nacionalidade:t.nacionalidade,numeroTelefone:t.telefone,nomeCompletoLocatario:t.nome,cnpj:t.CNPJ,endereco:t.endereço,passaporte:t.passaporte,rg:t.rg})),S&&S.status===200?(e("Perfil atualizado com sucesso"),Rs(((C=S==null?void 0:S.data)==null?void 0:C.message)||"Perfil alterado com sucesso."),console.log("Perfil atualizado com sucesso"),i("/perfil")):(e("Erro ao atualizar o perfil"),console.log("Erro ao atualizar o perfil"))}catch(k){le(((A=(j=k==null?void 0:k.response)==null?void 0:j.data)==null?void 0:A.message)||"Erro ao se conectar com o servidor."),console.error(k)}finally{f(!1)}},b=()=>o(!1),w=async()=>{var S,C;try{const j=await me.get("auth/Account/WhoAmI");console.log(j.data);const A=j.data;A.role=="Admin"||A.role=="Judiciario"?(n({nome:A.nome,telefone:null,nacionalidade:A.national,cpf:null,rg:null,passaporte:null,endereço:null,CNPJ:null,email:A.email,dataCriacao:new Date(A.dataCriacao).toLocaleDateString("pt-BR")}),u(["telefone","cpf","rg","passaporte","endereço","CNPJ","nacionalidade"])):n({nome:A.nome,telefone:A.telefone,nacionalidade:A.nacionalidade,cpf:A.cpf,rg:A.rg,passaporte:A.passaporte,endereço:A.endereco,CNPJ:A.cnpj,email:A.email,dataCriacao:new Date(A.dataCriacao).toLocaleDateString("pt-BR")})}catch(j){console.log(((C=(S=j.response)==null?void 0:S.data)==null?void 0:C.message)||"Erro ao buscar o usuário")}};return N.useEffect(()=>{w()},[]),h.jsxs("main",{className:"main-custom",children:[h.jsx(Xe,{}),h.jsxs("section",{className:"section-custom",children:[h.jsx(on,{}),h.jsx("h1",{className:"font-bold text-lg",children:"Editar Perfil"}),h.jsxs("form",{className:"flex flex-col gap-4 mb-4",children:[h.jsx(lt,{label:"Nome",value:t.nome||"",onChange:S=>g("nome",S)}),h.jsx(lt,{label:"Telefone",value:t.telefone||"",onChange:S=>g("telefone",S),disabled:l.includes("telefone")}),h.jsx(lt,{label:"Nacionalidade",value:t.nacionalidade||"",onChange:S=>g("nacionalidade",S)}),h.jsx(lt,{label:"CPF",value:t.cpf||"",onChange:S=>g("cpf",S),disabled:l.includes("cpf")}),h.jsx(lt,{label:"RG",value:t.rg||"",onChange:S=>g("rg",S),disabled:l.includes("rg")}),h.jsx(lt,{label:"Passaporte",value:t.passaporte||"",onChange:S=>g("passaporte",S),disabled:l.includes("passaporte")}),h.jsx(lt,{label:"Endereço",value:t.endereço||"",onChange:S=>g("endereço",S),disabled:l.includes("endereço")}),h.jsx(lt,{label:"CNPJ",value:t.CNPJ||"",onChange:S=>g("CNPJ",S),disabled:l.includes("CNPJ")})]}),s&&h.jsx("p",{className:"text-black-500 mt-4",children:s}),h.jsx(Yi,{label:"Salvar",onClick:x})]}),d&&h.jsx(Ke,{type:"spinner"}),h.jsx(ut,{}),r&&h.jsx(ix,{mensagem:"Tem certeza de que deseja salvar as alterações no perfil?",onConfirm:y,onCancel:b})]})}function QD(){const[s,e]=N.useState(""),[t,n]=N.useState(""),[i,r]=N.useState(""),[o,l]=N.useState(!1),[u,d]=N.useState(!1),[f,g]=N.useState(""),x=()=>{l(!0)},y=async()=>{var w,S,C,j,A,k,T;l(!1),d(!0);try{if(s===""||t===""||i===""){console.log("Preencha todos os campos");return}if(t!==i){console.log("As senhas não coincidem");return}const I=await me.post(`auth/User/AlterarSenhaUsuario?oldPassword=${s}&newPassword=${i}`);console.log(I.data),g("Senha alterada com sucesso"),Rs(((w=I==null?void 0:I.data)==null?void 0:w.message)||"Senha alterada com sucesso.")}catch(I){le(((C=(S=I==null?void 0:I.response)==null?void 0:S.data)==null?void 0:C.message)||"Erro ao se conectar com o servidor."),console.error(((A=(j=I==null?void 0:I.response)==null?void 0:j.data)==null?void 0:A.message)||"Erro ao alterar a senha"),g(((T=(k=I==null?void 0:I.response)==null?void 0:k.data)==null?void 0:T.message)||"Erro ao alterar a senha")}finally{d(!1)}},b=()=>{l(!1)};return h.jsxs("main",{className:"main-custom",children:[h.jsx(Xe,{}),h.jsxs("section",{className:"section-custom",children:[h.jsx(on,{}),h.jsxs("form",{className:"flex flex-col gap-4 mb-4",children:[h.jsx(lt,{label:"Senha Antiga",value:s,onChange:e,isPassword:!0}),h.jsx(lt,{label:"Nova Senha",value:t,onChange:n,isPassword:!0}),h.jsx(lt,{label:"Confirmar Nova Senha",value:i,onChange:r,isPassword:!0})]}),f&&h.jsx("p",{children:f}),h.jsx(Yi,{label:"Confirmar",onClick:x})]}),u&&h.jsx(Ke,{type:"spinner"}),h.jsx(ut,{}),o&&h.jsx(ix,{mensagem:"Tem certeza de que deseja alterar a senha?",onConfirm:y,onCancel:b})]})}const U1=({id:s,address:e,neighborhood:t,postalCode:n,propertyType:i,landlord:r,tenant:o,imageSrc:l,price:u,condominio:d,onClick:f})=>h.jsx("div",{children:h.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-4 shadow-md rounded-md overflow-hidden cursor-pointer",onClick:f,role:"button",tabIndex:0,onKeyDown:g=>{g.key==="Enter"&&f&&f()},children:[h.jsx("div",{className:"w-full sm:w-1/4",children:h.jsx("img",{src:l,alt:`Imagem do imóvel ${s}`,className:"h-[200px] sm:h-full w-full object-cover"})}),h.jsxs("div",{className:"w-full sm:w-3/4 p-4 text-[#363430]",children:[h.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:e}),h.jsxs("p",{className:"text-sm sm:text-base text-[#76726A]",children:[h.jsx("span",{className:"font-semibold",children:"Locador:"})," ",r]}),h.jsxs("p",{className:"text-sm sm:text-base text-[#76726A]",children:[h.jsx("span",{className:"font-semibold",children:"Locatário:"})," ",o||"Não disponível"]}),h.jsxs("p",{className:"text-sm sm:text-base text-[#76726A]",children:[h.jsx("span",{className:"font-semibold",children:"Bairro:"})," ",t]}),h.jsxs("p",{className:"text-sm sm:text-base text-[#76726A]",children:[h.jsx("span",{className:"font-semibold",children:"CEP:"})," ",n]}),h.jsxs("p",{className:"text-sm sm:text-base text-[#76726A]",children:[h.jsx("span",{className:"font-semibold",children:"Tipo de imóvel:"})," ",i]}),h.jsxs("p",{className:"text-sm sm:text-base text-[#76726A]",children:[h.jsx("span",{className:"font-semibold",children:"Preço:"})," ",u]}),h.jsxs("p",{className:"text-sm sm:text-base text-[#76726A]",children:[h.jsx("span",{className:"font-semibold",children:"Condomínio:"})," ",d]})]})]})}),_c=({label:s,placeholder:e="Digite para filtrar...",initialValue:t="",onFilter:n})=>{const[i,r]=N.useState(t);N.useEffect(()=>{r(t)},[t]);const o=l=>{const u=l.target.value;r(u),n(u)};return h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{className:"font-sans font-normal text-form-label text-neutral-900 mb-1.5",children:s}),h.jsx("input",{type:"text",value:i,onChange:o,placeholder:e,className:`h-10 flex-grow tracking-wider ${i?"bg-gray-100 border border-black":"bg-[#D9D9D9]"} focus:outline-none px-2 text-form-label placeholder:text-form-label placeholder:text-black/60 rounded`})]})};function ZD(){const s=Ye(),e=()=>{s("/imoveis/criar")},[t,n]=N.useState(!0),[i,r]=N.useState([]),[o,l]=N.useState([]),[u,d]=N.useState([]),[f,g]=N.useState([]),[x,y]=N.useState(""),[b,w]=N.useState(!1),S=[{name:"tipoImovel",label:"Tipo de Imóvel",type:"select",options:["Casa","Apartamento","Sala Comercial","Loja"],property:"propertyType"},{name:"bairro",label:"Bairro",type:"text",property:"neighborhood"},{name:"endereco",label:"Endereço",type:"text",property:"address"},{name:"valorImovel",label:"Valor do Imóvel",type:"number",property:"price"},{name:"condominio",label:"Condomínio",type:"number",property:"condominio"},{name:"locador",label:"Locador",type:"text",property:"landlord"},{name:"locatario",label:"Locatário",type:"text",property:"tenant"}],C=async()=>{try{const O=await me.get("property/Imoveis/PegarTodosImoveis"),W=await me.get("auth/User/PegarTodosUsuarios");if(!O.data||!W.data){console.error("Dados de resposta inválidos");return}const J=O.data,ie=W.data;console.log(ie);const se=J.map(X=>{var Y,ce;const ne=((Y=ie.find(fe=>fe.roleId===X.locadorId))==null?void 0:Y.nome)||"Locador não encontrado",H=((ce=ie.find(fe=>fe.roleId===X.locatarioId))==null?void 0:ce.nome)||"Locatário não encontrado";return{id:X.imovelId,address:`${X.endereco} ${X.complemento||""}`.trim(),neighborhood:X.bairro,postalCode:X.cep,propertyType:X.tipoImovel,landlord:ne,tenant:H,imageSrc:X.fotos,price:X.valorImovel,condominio:X.condominio!=0?X.condominio:"Este imóvel não tem condominio"}});se.forEach(X=>{typeof X.imageSrc=="string"&&(X.imageSrc=X.imageSrc.split(";").map(ne=>ne.trim()))});const $=se.flatMap(X=>!X.imageSrc||X.imageSrc.length===0?[]:Array.isArray(X.imageSrc)?X.imageSrc.map(ne=>ne.replace("https://storage.googleapis.com/administradora-kk.appspot.com/","")):[]),ee=await me.post("property/Imoveis/AssinarFotos",$);if(!ee.data){console.error("Dados de resposta inválidos do endpoint de assinatura");return}const V=ee.data;let G=0;se.forEach(X=>{if(!X.imageSrc)return;const ne=X.imageSrc.length,H=V.slice(G,G+ne);X.imageSrc=H,G+=ne}),r(se),n(!1),d(se),l(se),console.log(se)}catch(O){console.error(O),le("Erro ao se conectar com o servidor.")}};N.useEffect(()=>{if(!x.trim()){d(f);return}const O=x.toLowerCase(),W=f.filter(J=>{var ie;return(ie=J.postalCode)==null?void 0:ie.toLowerCase().includes(O)});d(W)},[x,f]);const j=()=>{w(!0)},A=O=>{g(O)};N.useEffect(()=>{(async()=>{await C()})()},[]);const[k,T]=N.useState(1),I=10,M=()=>{const O=(k-1)*I;return u.slice(O,O+I)},F=Math.ceil(u.length/I),B=()=>{const O=document.querySelector("#Target");O&&O.scrollIntoView({behavior:"smooth",block:"start"})};return N.useEffect(()=>{B()},[k]),h.jsxs("main",{className:"main-custom",id:"Target",children:[h.jsx(Xe,{}),h.jsxs("section",{className:"section-custom",children:[h.jsx(on,{}),h.jsx("button",{type:"submit",className:"w-full h-10 bg-[#1F1E1C] text-neutral-50 text-form-label rounded",onClick:e,children:"Cadastrar Imóvel"}),h.jsx("h2",{className:"text-2xl font-semibold",children:"Imóveis"}),h.jsx("form",{className:"grid grid-cols-1 gap-4",children:h.jsxs("div",{className:"flex w-full gap-2 items-end",children:[h.jsx("div",{className:"w-full",children:h.jsx(_c,{label:"Buscar imóvel pelo cep",onFilter:O=>{y(O)}})}),h.jsxs("button",{type:"button",className:"flex items-center justify-center gap-2 w-1/4 h-10 px-4 bg-[#1F1E1C] text-neutral-50 text-form-label rounded",onClick:j,children:["Filtrar",h.jsx("img",{src:wi,alt:"Filtrar",className:"w-5 h-5"})]})]})}),h.jsx(kr,{isOpen:b,onClose:()=>w(!1),fields:S,data:o,onFilteredResult:A}),t?h.jsx(Ke,{type:"skeleton"}):h.jsxs("section",{className:"flex-grow flex flex-col gap-y-5",children:[h.jsx("h2",{className:"text-2xl font-semibold",children:"Resultados"}),h.jsx("div",{className:"h-[1px] bg-black"}),i.length===0?h.jsx("p",{className:"text-center text-lg text-neutral-500 mt-8 font-bold",children:"Nenhum imóvel encontrado."}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"flex flex-col gap-6",children:M().map(O=>h.jsx(U1,{id:O.id,address:O.address,neighborhood:O.neighborhood,postalCode:O.postalCode,propertyType:O.propertyType,landlord:O.landlord,tenant:O.tenant,price:`R$ ${O.price}`,condominio:`R$ ${O.condominio}`,imageSrc:O.imageSrc&&O.imageSrc.length>0?O.imageSrc[0]:"../../../ImovelSemFoto.png"},O.id))}),h.jsxs("div",{className:"flex justify-between items-center mt-6",children:[h.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded ${k===1?"bg-neutral-300 cursor-not-allowed":"bg-[#1F1E1C] hover:bg-neutral-800 text-neutral-50"}`,onClick:()=>{T(O=>Math.max(O-1,1))},disabled:k===1,children:"Anterior"}),h.jsxs("span",{className:"text-neutral-700",children:["Página ",k," de ",F]}),h.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded ${k===F?"bg-neutral-300 cursor-not-allowed":"bg-[#1F1E1C] hover:bg-neutral-800 text-neutral-50"}`,onClick:()=>{T(O=>Math.min(O+1,F))},disabled:k===F,children:"Próxima"})]})]})]})]}),h.jsx(ut,{})]})}const ls=({label:s,placeholder:e,type:t="text",value:n,onChange:i,defaultValue:r})=>h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{className:"block text-neutral-600",children:s}),h.jsx("input",{type:t,value:n,onChange:i,placeholder:e,defaultValue:r,className:"h-10 flex-grow mt-1 block w-full border border-neutral-200 rounded-md  px-2 text-form-label shadow-sm focus:border-neutral-300"})]});function eF(){const[s,e]=N.useState("Kitnet"),[t,n]=N.useState(""),[i,r]=N.useState(""),[o,l]=N.useState(""),[u,d]=N.useState(""),[f,g]=N.useState(""),[x,y]=N.useState(""),[b,w]=N.useState(""),[S,C]=N.useState([]),[j,A]=N.useState([]),[k,T]=N.useState(null),[I,M]=N.useState(null),[F,B]=N.useState(!1),[O,W]=N.useState([]);N.useEffect(()=>{(async()=>{try{const ee=await me.get("auth/Locador/PegarTodosLocadores"),V=await me.get("auth/Locatario/PegarTodosLocatarios");C(ee.data||[]),A(V.data||[])}catch{le("Erro ao carregar locadores e locatários.")}})()},[]);const J=$=>{if($.target.files){const ee=Array.from($.target.files);console.log("Arquivos selecionados:",ee),W(ee)}},ie=()=>{const $=[];if(s||$.push("Tipo de imóvel"),t||$.push("CEP"),i||$.push("Endereço"),u||$.push("Bairro"),$.length>0){const ee=`Por favor, preencha os seguintes campos obrigatórios: ${$.join(", ")}.`;return le(ee),!1}return!0},se=async $=>{var ee;$.preventDefault(),B(!0);try{if(!ie())return;const V=new FormData;V.append("TipoImovel",s),V.append("Cep",t),V.append("Condominio",x),V.append("ValorImovel",f),V.append("Bairro",u),V.append("Descricao",b),V.append("Endereco",i),V.append("Complemento",o),V.append("LocadorId",k||""),V.append("LocatarioId",I||""),O.forEach(X=>V.append("files",X)),console.log("Verificar FormData:"),V.forEach((X,ne)=>{console.log(ne,X)});const G=await me.post("property/Imoveis/CriarImovelComFoto",V,{headers:{"Content-Type":"multipart/form-data"}});Rs(((ee=G==null?void 0:G.data)==null?void 0:ee.message)||"Imóvel criado com sucesso!"),e("Kitnet"),n(""),r(""),l(""),d(""),g(""),y(""),w(""),T(null),M(null),W([])}catch(V){if(console.error("Erro ao criar imóvel:",V),vt.isAxiosError(V))if(V.response){const G=V.response.data;le(G),console.error("Payload de erro:",G)}else V.request?le("Erro de rede. Verifique sua conexão e tente novamente."):le("Ocorreu um erro inesperado. Tente novamente mais tarde.");else V instanceof Error?le(V.message):le("Erro ao se conectar com o servidor.")}finally{B(!1)}};return h.jsxs("div",{children:[h.jsx(Xe,{}),h.jsxs("div",{className:"mx-10 mt-10",children:[h.jsx("h1",{className:"text-3xl font-bold text-yellow-darker mb-6",children:"Adicionar Imóvel"}),h.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center",children:h.jsx("div",{className:"w-full max-w-xl py-6 bg-white rounded-lg",children:h.jsxs("form",{onSubmit:se,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-neutral-600",children:"Tipo do Imóvel"}),h.jsxs("select",{value:s,onChange:$=>e($.target.value),className:"h-10 w-full bg-transparent border border-neutral-200 px-2 rounded",children:[h.jsx("option",{children:"Kitnet"}),h.jsx("option",{children:"Apartamento"}),h.jsx("option",{children:"Casa"}),h.jsx("option",{children:"Comercial"})]})]}),h.jsx(ls,{label:"CEP",placeholder:"Digite o CEP",value:t,onChange:$=>n($.target.value)}),h.jsx(ls,{label:"Endereço",placeholder:"Digite o endereço",value:i,onChange:$=>r($.target.value)}),h.jsx(ls,{label:"Bairro",placeholder:"Bairro do imóvel",value:u,onChange:$=>d($.target.value)}),h.jsx(ls,{label:"Aluguel (R$)",value:f,onChange:$=>g($.target.value)}),h.jsx(ls,{label:h.jsx("div",{className:"flex justify-between items-center",children:h.jsxs("span",{children:["Complemento ",h.jsx("span",{className:"text-sm text-neutral-500",children:"(Opcional)"})]})}),placeholder:"Digite o complemento",value:o,onChange:$=>l($.target.value)}),h.jsx(ls,{label:h.jsx("div",{className:"flex justify-between items-center",children:h.jsxs("span",{children:["Condomínio (R$) ",h.jsx("span",{className:"text-sm text-neutral-500",children:"(Opcional)"})]})}),value:x,onChange:$=>y($.target.value)}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-neutral-600",children:"Locador"}),h.jsxs("select",{value:k||"",onChange:$=>T($.target.value),className:"h-10 w-full bg-transparent border border-neutral-200 px-2 rounded",children:[h.jsx("option",{value:"",children:"Selecione um locador"}),S.map($=>h.jsx("option",{value:$.locadorId,children:$.nomeCompletoLocador},$.locadorId))]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-neutral-600",children:["Locatário ",h.jsx("span",{className:"text-sm text-neutral-500",children:"(Opcional)"})]}),h.jsxs("select",{value:I||"",onChange:$=>M($.target.value),className:"h-10 w-full bg-transparent border border-neutral-200 px-2 rounded",children:[h.jsx("option",{value:"",children:"Selecione um locatário"}),j.map($=>h.jsx("option",{value:$.locatarioId,children:$.nomeCompletoLocatario},$.locatarioId))]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-neutral-600",children:["Fotos do Imóvel ",h.jsx("span",{className:"text-sm text-neutral-500",children:"(Opcional)"})]}),h.jsx("input",{type:"file",accept:"image/*",onChange:J,multiple:!0,className:"h-10 w-full bg-transparent border border-neutral-200 px-2 rounded"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-neutral-600 font-medium",children:["Descrição ",h.jsx("span",{className:"text-sm text-neutral-500",children:"(Opcional)"})]}),h.jsx("textarea",{value:b,onChange:$=>w($.target.value),className:"mt-1 block w-full border border-neutral-200 px-2 py-2 text-form-label rounded-md shadow-sm focus:border-brown-500 focus:ring-brown-500",rows:3})]}),h.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-yellow-darker text-white rounded-md hover:bg-yellow-dark transition duration-300 focus:outline-none focus:bg-yellow-dark mt-4",disabled:F,children:F?"Enviando...":"Adicionar Imóvel"})]})})})]}),F&&h.jsx(Ke,{type:"spinner"}),h.jsx(ut,{})]})}const tF=({id:s,title:e,line1:t,line2:n,line3:i,status:r})=>{const o=Ye(),l=()=>{o(`/chamado/${s}`)};return h.jsxs("div",{className:`flex border border-neutral-300 shadow-[2px_2px_4px_rgba(0,0,0,0.4)] 
                 rounded-[4px] overflow-hidden h-[120px] cursor-pointer
                 transition-transform hover:shadow-[2px_2px_4px_rgba(0,0,0,0.8)] 
                 hover:scale-[1.01] transition-all duration-300 ease-in-out`,onClick:l,children:[h.jsxs("div",{className:"w-3/4 p-4 text-[#363430]",children:[h.jsx("h3",{className:"text-form-label mb-2 text-[#363430]",children:e}),h.jsxs("p",{className:"text-normal-text mb-1",children:[h.jsx("span",{className:"text-[#76726A]",children:"Criado por:"})," ",t]}),h.jsxs("p",{className:"text-normal-text mb-1",children:[h.jsx("span",{className:"text-[#76726A]",children:"Endereço:"})," ",n]}),h.jsxs("p",{className:"text-normal-text",children:[h.jsx("span",{className:"text-[#76726A]",children:"Início:"})," ",i]})]}),h.jsx("div",{className:"w-1/4 flex items-start text-form-label p-4 text-[#76726A] italic justify-center",children:r})]})};function nF(){const[s,e]=N.useState([]),[t,n]=N.useState(!0),[i,r]=N.useState([]),[o,l]=N.useState([]),[u,d]=N.useState(""),[f,g]=N.useState(!1),x=[{name:"title",label:"Título",type:"text",property:"title"},{name:"solicitor",label:"Solicitante",type:"text",property:"solicitor"},{name:"address",label:"Endereço",type:"text",property:"address"},{name:"date",label:"Data",type:"dateRange",property:"date"},{name:"open",label:"Aberto",type:"checkbox",property:"open"}],y=async()=>{try{const S=await me.get("property/Chamados/PegarTodosOsChamados"),C=await me.get("auth/User/PegarTodosUsuarios"),j=await me.get("property/Imoveis/PegarTodosImoveis");if(!S.data||!C.data||!j.data){console.error("Dados de resposta inválidos");return}const A=S.data,k=C.data,T=j.data,I=A.map(M=>{const F=k.find(O=>O.usuarioId===M.solicitanteId)||{},B=T.find(O=>O.imovelId===M.idImovel)||{};return{chamadoId:M.idChamado,title:M.titulo||"Título não informado",solicitor:F.nome||"Usuário desconhecido",address:B.endereco||"Endereço desconhecido",date:M.dataSolicitacao||"Data não informada",open:M.status==="aberto"}});e(I),r(I),l(I)}catch(S){console.error(S),le("Erro ao se conectar com o servidor.")}finally{n(!1)}};N.useEffect(()=>{if(!u.trim()){e(o);return}const S=u.toLowerCase(),C=o.filter(j=>{var A;return(A=j.title)==null?void 0:A.toLowerCase().includes(S)});e(C)},[u,o]);const b=()=>{g(!0)},w=S=>{l(S)};return N.useEffect(()=>{y()},[]),h.jsxs("main",{className:"main-custom",children:[h.jsx(Xe,{}),h.jsxs("section",{className:"section-custom",children:[h.jsx(on,{}),h.jsx("button",{type:"submit",className:"w-full h-10 bg-[#1F1E1C] text-neutral-50 text-form-label rounded",children:"Abrir chamado"}),h.jsx("h2",{className:"text-2xl font-semibold",children:"Chamados"}),h.jsx("form",{className:"grid grid-cols-1 gap-4",children:h.jsxs("div",{className:"flex w-full gap-2 items-end",children:[h.jsx("div",{className:"w-full",children:h.jsx(_c,{label:"Buscar chamado pelo título",onFilter:S=>{d(S)}})}),h.jsxs("button",{type:"button",className:"flex items-center justify-center gap-2 w-1/4 h-10 px-4 bg-[#1F1E1C] text-neutral-50 text-form-label rounded",onClick:b,children:["Filtrar",h.jsx("img",{src:wi,alt:"Filtrar",className:"w-5 h-5"})]})]})}),h.jsx(kr,{isOpen:f,onClose:()=>g(!1),fields:x,data:i,onFilteredResult:w}),t?h.jsx(Ke,{type:"skeleton"}):h.jsxs("section",{className:"flex-grow flex flex-col gap-y-5",children:[h.jsx("h2",{className:"text-2xl font-semibold",children:"Resultados"}),h.jsx("div",{className:"h-[1px] bg-black"}),s.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(S=>h.jsx(tF,{id:S.chamadoId,title:S.title,line1:S.solicitor,line2:S.address,line3:new Date(S.date).toLocaleDateString("pt-BR"),status:S.open?"Aberto":"Fechado"},S.chamadoId))}):h.jsx("p",{className:"text-center text-lg text-neutral-500 mt-8 font-bold",children:"Nenhum chamado encontrado."})]})]}),h.jsx(ut,{})]})}function sF(){const[s,e]=N.useState(!0),[t,n]=N.useState(null),i=async()=>{try{const o=window.location.pathname.split("/").pop(),l=await me.get(`property/Chamados/PegarChamadosPorId/${o}`),u=await me.get(`auth/User/PegarUsuario?userId=${l.data.solicitanteId}`),d=await me.get(`property/Imoveis/PegarImovelPorId/${l.data.idImovel}`),f=await me.get(`auth/Locatario/PegarLocatarioPorLocatarioID?LocatarioID=${d.data.locatarioId}`);console.log("Locatario:",f.data);const g=await me.get(`auth/Locador/PegarLocadorPorLocadorID?locadorID=${d.data.locadorId}`);if(console.log("Locador:",g.data),!l.data||!u.data||!d.data){console.error("Dados de resposta inválidos"),le("Erro ao se conectar com o servidor.");return}console.log("Chamado:",l.data),console.log("Usuário:",u.data),console.log("Imóvel:",d.data);const x={ChamadoId:l.data.idChamado,Titulo:l.data.titulo||"Título não informado",Solicitor:u.data.nome||"Usuário desconhecido",LocadorName:g.data.nomeCompletoLocador||"Usuário desconhecido",LocadorContact:g.data.numeroTelefone||"Telefone não informado",LocatarioName:f.data.nomeCompletoLocatario||"Usuário desconhecido",LocatarioContact:f.data.numeroTelefone||"Telefone não informado",TypeTicket:l.data.tipoChamado||"Tipo não informado",Address:d.data.endereco||"Endereço desconhecido",DateSolicitation:l.data.dataSolicitacao||"Data não informada",DateStart:l.data.dataInicio||"Data não informada",DateEnd:l.data.dataFim||"Data não informada",Description:l.data.descricao||"Descrição não informada",Status:l.data.status||"Status não informado"},y=b=>{const w={day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(b).toLocaleDateString("pt-BR",w)};x.DateSolicitation=y(x.DateSolicitation),x.DateStart=y(x.DateStart),x.DateEnd=y(x.DateEnd),n(x),e(!1)}catch(o){console.error(o),le("Erro ao se conectar com o servidor.")}},r=async()=>{try{const o=window.location.pathname.split("/").pop();if(!(await me.put(`property/Chamados/AtualizarStatus/${o}?Status=fechado`)).data){console.error("Dados de resposta inválidos"),le("Erro ao se conectar com o servidor.");return}console.log("Chamado fechado com sucesso!"),window.location.href="/chamados"}catch(o){console.error(o),le("Erro ao se conectar com o servidor.")}};return N.useEffect(()=>{i()},[]),h.jsxs("main",{className:"main-custom",children:[h.jsx(Xe,{}),h.jsxs("section",{className:"section-custom",children:[h.jsx(on,{}),s?h.jsx(Ke,{type:"skeleton"}):h.jsxs(h.Fragment,{children:[h.jsxs("h1",{className:"text-title font-strong",children:["Chamado: ",t==null?void 0:t.Titulo]}),h.jsxs("div",{className:"relative flex flex-col gap-5 border-2 border-neutral-500 p-4 rounded",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-neutral-600",children:"Solicitante"}),h.jsxs("p",{className:"text-neutral-600",children:["Nome:"," ",h.jsx("span",{className:"text-neutral-900",children:t==null?void 0:t.Solicitor})]})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-neutral-600",children:"Locatário"}),h.jsxs("p",{className:"text-neutral-600",children:["Nome:"," ",h.jsx("span",{className:"text-neutral-900",children:t==null?void 0:t.LocatarioName})]}),h.jsxs("p",{className:"text-neutral-600",children:["Contato:"," ",h.jsx("span",{className:"text-neutral-900",children:t==null?void 0:t.LocatarioContact})]})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-neutral-600",children:"Locador"}),h.jsxs("p",{className:"text-neutral-600",children:["Nome:"," ",h.jsx("span",{className:"text-neutral-900",children:t==null?void 0:t.LocadorName})]}),h.jsxs("p",{className:"text-neutral-600",children:["Contato:"," ",h.jsx("span",{className:"text-neutral-900",children:t==null?void 0:t.LocadorContact})]})]}),h.jsx(Be,{label:"Tipo",informacao:(t==null?void 0:t.TypeTicket)??"Tipo não especificado"}),h.jsx(Be,{label:"Imóvel",informacao:(t==null?void 0:t.Address)??"Endereço não especificado"}),h.jsx(Be,{label:"Data da solicitação",informacao:(t==null?void 0:t.DateSolicitation)??"Data da solicitação não especificada"}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-neutral-600",children:"Descrição"}),h.jsx("p",{children:t==null?void 0:t.Description})]}),h.jsx("p",{className:"absolute top-1 right-2 text-neutral-600 italic",children:(t==null?void 0:t.Status)==="aberto"?"Aberto":"Fechado"})]}),(t==null?void 0:t.Status)==="aberto"&&h.jsx("button",{className:"h-10 px-6 bg-[#1F1E1C] hover:bg-neutral-800 text-neutral-50 text-sm font-medium rounded",onClick:r,children:"Fechar Chamado"})]})]}),h.jsx(ut,{})]})}const iF=({id:s,title:e,line1:t,line2:n,line3:i,status:r})=>{const o=Ye(),l=()=>{o(`/perfil/${s}`)};return h.jsxs("div",{className:`flex border border-neutral-300 shadow-[2px_2px_4px_rgba(0,0,0,0.4)] rounded-[4px] overflow-hidden h-[120px] 
      cursor-pointer transition-transform hover:shadow-[2px_2px_4px_rgba(0,0,0,0.8)] hover:scale-[1.01] transition-all duration-300 ease-in-out`,onClick:l,children:[h.jsxs("div",{className:"w-3/4 p-4 text-[#363430]",children:[h.jsx("h3",{className:"text-form-label mb-2 text-[#363430]",children:e}),h.jsxs("p",{className:"text-normal-text mb-1",children:[h.jsx("span",{className:"text-[#76726A]",children:"Numero de Imóveis:"})," ",t]}),h.jsxs("p",{className:"text-normal-text mb-1",children:[h.jsx("span",{className:"text-[#76726A]",children:"Região:"})," ",n]}),h.jsxs("p",{className:"text-normal-text",children:[h.jsx("span",{className:"text-[#76726A]",children:"Desde:"})," ",i]})]}),h.jsx("div",{className:"w-1/4 flex items-start text-form-label p-4 text-[#76726A] italic justify-center",children:r})]})};function rF(){const[s,e]=N.useState([]),[t,n]=N.useState([]),[i,r]=N.useState(!0),[o,l]=N.useState([]),[u,d]=N.useState(""),[f,g]=N.useState(!1),x=[{name:"perfil",label:"Perfil",type:"select",options:["Admin","Locatario","Locador"],property:"role"},{name:"cnpj",label:"CNPJ",type:"text",property:"cnpj"},{name:"cpf",label:"CPF",type:"text",property:"cpf"},{name:"email",label:"Email",type:"text",property:"email"},{name:"rg",label:"RG",type:"text",property:"rg"},{name:"telefone",label:"Telefone",type:"text",property:"telefone"},{name:"dataCriacao",label:"Data de Criação",type:"dateRange",property:"dataCriacao"},{name:"numeroImoveis",label:"Número de Imóveis",type:"number",property:"nImoveis",placeholder:"Digite o número de imóveis"},{name:"numeroImoveisRange",label:"Número de Imóveis",type:"numberRange",property:"nImoveis",placeholder:"Digite a faixa de numeros de imoveis"},{name:"filtroImovel",label:"Filtrar por CEP",type:"text",property:"imoveis",placeholder:"Digite o CEP do imóvel",customFilter:(T,I)=>{var B;const M=String(I).toLowerCase();return(B=T.imoveis)==null?void 0:B.some(O=>{var W;return(W=O.cep)==null?void 0:W.toLowerCase().includes(M)})}}],y=async()=>{var T,I;try{const M=await me.get("auth/User/PegarTodosUsuarios"),F=await me.get("property/Imoveis/PegarTodosImoveis");if(!M.data||!F.data){console.error("Dados de resposta inválidos");return}const O=M.data.map(W=>{const J=F.data.filter(ie=>{const se=Number(ie.locadorId)===Number(W.roleId),$=Number(ie.locatarioId)===Number(W.roleId);return se||$});return console.log(`Usuário: ${W.nome}, Imóveis encontrados:`,J),{...W,nImoveis:J.length,imoveis:J}});e(O),n(O),l(O),console.log("Dados combinados:",O)}catch(M){le(((I=(T=M==null?void 0:M.response)==null?void 0:T.data)==null?void 0:I.message)||"Erro ao se conectar com o servidor."),console.error("Erro ao obter informações de usuários ou imóveis:",M.message)}finally{r(!1)}};N.useEffect(()=>{y()},[]),N.useEffect(()=>{if(!u.trim())n(o);else{const T=u.toLowerCase(),I=o.filter(M=>{var F;return(F=M.nome)==null?void 0:F.toLowerCase().includes(T)});n(I)}C(1)},[u,o]);const b=()=>{g(!0)},w=T=>{l(T)},[S,C]=N.useState(1),j=10,A=()=>{const T=(S-1)*j;return t.slice(T,T+j)},k=Math.ceil(t.length/j);return h.jsxs("main",{className:"main-custom",children:[h.jsx(Xe,{}),h.jsxs("section",{className:"section-custom",children:[h.jsx(on,{}),h.jsx("button",{type:"submit",className:"w-full h-10 bg-[#1F1E1C] text-neutral-50 text-form-label rounded",children:"Adicionar usuário"}),h.jsx("h2",{className:"text-2xl font-semibold",children:"Usuários"}),h.jsxs("form",{className:"grid grid-cols-1 gap-4",children:[h.jsxs("div",{className:"flex w-full gap-2 items-end",children:[h.jsx("div",{className:"w-full",children:h.jsx(_c,{label:"Buscar pelo nome",onFilter:T=>{d(T)}})}),h.jsxs("button",{type:"button",className:"flex items-center justify-center gap-2 w-1/4 h-10 px-4 bg-[#1F1E1C] text-neutral-50 text-form-label rounded",onClick:b,children:["Filtrar",h.jsx("img",{src:wi,alt:"Filtrar",className:"w-5 h-5"})]})]}),h.jsx(kr,{isOpen:f,onClose:()=>g(!1),fields:x,data:s,onFilteredResult:w})]}),h.jsxs("section",{className:"flex-grow flex flex-col gap-y-5",children:[h.jsx("h2",{className:"text-2xl font-semibold",children:"Resultados"}),h.jsx("div",{className:"h-[1px] bg-black"}),i?h.jsx(Ke,{type:"skeleton"}):t.length===0?h.jsx("p",{className:"text-center text-lg text-neutral-500 mt-8 font-bold",children:"Nenhum usuário encontrado."}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A().map((T,I)=>{const M=T.role.toLowerCase(),F=M==="admin"?"Admin":M==="judiciario"?"Judiciário":M==="locador"?"Locador":M==="locatario"?"Locatário":"Desconhecido";return h.jsx(iF,{id:T.usuarioId,title:T.nome||"Nome não disponível",line1:T.nImoveis||"Número de imóveis não disponível",line2:T.endereco||"Endereço não disponível",line3:T.dataCriacao||"Data de criação não disponível",status:F},I)})}),h.jsxs("div",{className:"flex justify-between items-center mt-6",children:[h.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded ${S===1?"bg-neutral-300 cursor-not-allowed":"bg-[#1F1E1C] hover:bg-neutral-800 text-neutral-50"}`,onClick:()=>C(T=>Math.max(T-1,1)),disabled:S===1,children:"Anterior"}),h.jsxs("span",{className:"text-neutral-700",children:["Página ",S," de ",k]}),h.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded ${S===k?"bg-neutral-300 cursor-not-allowed":"bg-[#1F1E1C] hover:bg-neutral-800 text-neutral-50"}`,onClick:()=>C(T=>Math.min(T+1,k)),disabled:S===k,children:"Próxima"})]})]})]})]}),h.jsx(ut,{})]})}function oF(){const[s,e]=N.useState("Administrador"),[t,n]=N.useState(""),[i,r]=N.useState(""),[o,l]=N.useState(""),[u,d]=N.useState(""),[f,g]=N.useState(""),[x,y]=N.useState(""),[b,w]=N.useState(""),[S,C]=N.useState(""),[j,A]=N.useState(""),[k,T]=N.useState(""),[I,M]=N.useState(""),[F,B]=N.useState(""),[O,W]=N.useState(""),[J,ie]=N.useState(""),[se,$]=N.useState(!1),ee={Administrador:"/auth/User/CriarUsuarioAdmin",Locador:"/auth/User/CriarUsuarioLocador",Locatário:"/auth/User/CriarUsuarioLocatario",Judiciário:"/auth/User/CriarUsuarioJudiciario"};console.log(s);let V="";s==="Locatário"?V="NomeCompletoLocatario":s==="Locador"?V="NomeCompletoLocador":V="NomeCompleto";const G=async X=>{var Y,ce;if(X.preventDefault(),$(!0),!t.trim()){le("O campo 'Nome Completo' é obrigatório."),$(!1);return}let ne={[V]:t,email:i,cpf:f,nacionalidade:J,numeroTelefone:o,cnpj:null,endereco:`${b}, ${j}, ${F}, ${O}`,passaporte:x||null,rg:u};console.log(t);const H=ee[s];if(!H){le("Tipo de usuário inválido."),$(!1);return}try{await me.post(`${H}?email=${i}`,ne),Rs("Usuário criado com sucesso."),e("Administrador"),n(""),r(""),l(""),d(""),g(""),y(""),C(""),w(""),A(""),T(""),M(""),B(""),W(""),ie("")}catch(fe){console.error(fe),fe instanceof K2&&le(((ce=(Y=fe==null?void 0:fe.response)==null?void 0:Y.data)==null?void 0:ce.message)||"Erro ao se conectar com o servidor.")}finally{$(!1)}};return h.jsxs("div",{children:[h.jsx(Xe,{}),h.jsxs("div",{className:"mx-10 mt-10",children:[h.jsx("h1",{className:"text-3xl font-bold text-yellow-darker mb-6",children:"Adicionar Cliente"}),h.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center",children:h.jsx("div",{className:"w-full max-w-xl py-6 bg-white rounded-lg",children:h.jsxs("form",{onSubmit:G,className:"space-y-6",children:[h.jsx("h2",{className:"text-xl text-neutral-700",children:"Dados Pessoais"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-neutral-600",children:"Tipo de Usuário"}),h.jsxs("select",{value:s,onChange:X=>e(X.target.value),className:"h-10 w-full flex-grow bg-transparent border border-neutral-200 focus:outline-none px-2 text-form-label placeholder:text-form-label placeholder:text-black/60 rounded",children:[h.jsx("option",{children:"Administrador"}),h.jsx("option",{children:"Locador"}),h.jsx("option",{children:"Locatário"}),h.jsx("option",{children:"Judiciário"})]})]}),h.jsxs(h.Fragment,{children:[h.jsx(ls,{label:"Nome Completo",value:t,onChange:X=>n(X.target.value)}),h.jsx(ls,{label:"E-mail",value:i,onChange:X=>r(X.target.value)})]}),h.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-yellow-darker text-white rounded-md hover:bg-yellow-dark transition duration-300 focus:outline-none focus:bg-yellow-dark mt-4",children:"Confirmar"})]})})})]}),se&&h.jsx(Ke,{type:"spinner"}),h.jsx(ut,{})]})}function aF(){const[s,e]=N.useState(""),[t,n]=N.useState(""),[i,r]=N.useState(""),[o,l]=N.useState(""),[u,d]=N.useState(""),[f,g]=N.useState(!1),[x]=nx(ik),y=async w=>{if(w.preventDefault(),!s||!i||!o){le("Por favor, preencha todos os campos obrigatórios.");return}g(!0);try{const S=pd();console.log(S.UserID);const C={idImovel:parseInt(s),titulo:i,solicitanteId:parseInt(S.UserID),dataSolicitacao:new Date().toISOString(),descricao:o,tipoChamado:t},j=await me.post("property/Chamados/CriarUmNovoChamado",C);console.log(j.data),e(""),n(""),r(""),l(""),d(""),Rs("Chamado aberto com sucesso!")}catch(S){if(console.error("Error creating ticket:",S),vt.isAxiosError(S))if(S.response){const C=S.response.data,j=C.message||"Erro ao processar a requisição.";le(j),console.error("Payload de erro:",C)}else S.request?le("Erro de rede. Verifique sua conexão e tente novamente."):le("Ocorreu um erro inesperado. Tente novamente mais tarde.");else S instanceof Error?le(S.message):le("Erro ao se conectar com o servidor.")}finally{g(!1)}},b=async()=>{var w,S;try{let C;(x==null?void 0:x.role)==="Locatario"?C=await me.get(`property/Imoveis/PegarImovelPorIdDoLocatario/${x.roleId}`):C=await me.get("property/Imoveis/PegarTodosImoveis");const j=C.data;console.log("Imóveis encontrados:",j);const A=j.map(I=>I.endereco),k=A.join("; ");d(k),console.log("Endereços dos imóveis:",A);const T=j.reduce((I,M)=>(I[M.imovelId]=M.endereco,I),{});console.log("Dicionário de imóveis:",T),d(T)}catch(C){if(console.error("Erro ao buscar os imóveis:",C),vt.isAxiosError(C)){const j=((S=(w=C.response)==null?void 0:w.data)==null?void 0:S.message)||"Erro ao buscar os imóveis.";le(j)}else C instanceof Error?le(C.message):le("Ocorreu um erro inesperado. Tente novamente mais tarde.")}};return N.useEffect(()=>{b()},[]),h.jsxs("div",{children:[h.jsx(Xe,{}),h.jsxs("div",{className:"mx-10 mt-10",children:[h.jsx("h1",{className:"text-3xl font-bold text-yellow-darker mb-6",children:"Criar Chamado"}),h.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center",children:h.jsx("div",{className:"w-full max-w-xl py-6 bg-white rounded-lg",children:h.jsxs("form",{onSubmit:y,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-neutral-600",children:"Imóvel"}),h.jsxs("select",{value:s,onChange:w=>e(w.target.value),className:"h-10 w-full flex-grow bg-transparent border border-neutral-200 focus:outline-none px-2 text-form-label placeholder:text-form-label placeholder:text-black/60 rounded",children:[h.jsx("option",{value:"",disabled:!0,children:"Selecione um imóvel"}),Object.entries(u).map(([w,S])=>h.jsx("option",{value:w,children:S},w))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-neutral-600",children:"Tipo de Chamado"}),h.jsxs("select",{value:t,onChange:w=>n(w.target.value),className:"h-10 w-full flex-grow bg-transparent border border-neutral-200 focus:outline-none px-2 text-form-label placeholder:text-form-label placeholder:text-black/60 rounded",children:[h.jsx("option",{value:"",disabled:!0,children:"Selecione o tipo de chamado"}),h.jsx("option",{children:"Manutenção"}),h.jsx("option",{children:"Financeiro"}),h.jsx("option",{children:"Administrativo"}),h.jsx("option",{children:"Outros"})]})]}),h.jsx("div",{children:h.jsx(ls,{label:"Título",value:i,onChange:w=>r(w.target.value),placeholder:"Digite o título do chamado"})}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-neutral-600 font-medium",children:"Descrição"}),h.jsx("textarea",{value:o,onChange:w=>l(w.target.value),placeholder:"Descreva o problema ou solicitação",className:"mt-1 block w-full border border-neutral-200 px-2 py-2 text-form-label rounded-md shadow-sm focus:border-brown-500 focus:ring-brown-500",rows:7})]}),h.jsx("div",{className:"w-full max-w-xl py-6 bg-white rounded-lg space-y-6",children:h.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-yellow-darker text-white rounded-md hover:bg-yellow-dark transition duration-300 focus:outline-none focus:bg-yellow-dark mt-4",children:"Confirmar"})})]})})})]}),f&&h.jsx(Ke,{type:"spinner"}),h.jsx(ut,{})]})}const Yc=({label:s,placeholder:e="",value:t,onChange:n,isPassword:i=!1,disabled:r=!1})=>{const[o,l]=N.useState(!1),u=()=>{l(!o)};return h.jsxs("div",{className:"flex flex-col relative",children:[h.jsx("label",{className:"font-sans font-normal text-form-label text-neutral-900 mb-1.5",children:s}),h.jsx("input",{type:i&&!o?"password":"text",value:t,onChange:n,placeholder:e,disabled:r,className:`h-10 flex-grow pr-10 tracking-wider ${t?"bg-gray-100 border border-black":"bg-[#D9D9D9]"} focus:outline-none px-2 text-form-label placeholder:text-form-label placeholder:text-black/60 rounded`}),i&&h.jsx("div",{className:"flex items-center h-10 absolute right-4 bottom-0 cursor-pointer text-gray-600",onClick:u,children:o?h.jsx(b2,{size:"20"}):h.jsx(w2,{size:"20"})})]})};function lF(){const[s,e]=N.useState("Kitnet"),[t,n]=N.useState(""),[i,r]=N.useState(""),[o,l]=N.useState(""),[u,d]=N.useState(""),[f,g]=N.useState(""),[x,y]=N.useState(""),[b,w]=N.useState(""),[S,C]=N.useState([]),[j,A]=N.useState([]),[k,T]=N.useState(null),[I,M]=N.useState(null),[F,B]=N.useState(!1),[O,W]=N.useState([]);N.useEffect(()=>{(async()=>{try{const ee=await me.get("auth/Locador/PegarTodosLocadores"),V=await me.get("auth/Locatario/PegarTodosLocatarios");C(ee.data||[]),A(V.data||[])}catch{le("Erro ao carregar locadores e locatários.")}})()},[]);const J=$=>{if($.target.files){const ee=Array.from($.target.files);console.log("Arquivos selecionados:",ee),W(ee)}},ie=()=>{const $=[];if(s||$.push("Tipo de imóvel"),t||$.push("CEP"),i||$.push("Endereço"),u||$.push("Bairro"),$.length>0){const ee=`Por favor, preencha os seguintes campos obrigatórios: ${$.join(", ")}.`;return le(ee),!1}return!0},se=async $=>{var ee;$.preventDefault(),B(!0);try{if(!ie())return;const V=new FormData;V.append("TipoImovel",s),V.append("Cep",t),V.append("Condominio",x),V.append("ValorImovel",f),V.append("Bairro",u),V.append("Descricao",b),V.append("Endereco",i),V.append("Complemento",o),V.append("LocadorId",k||""),V.append("LocatarioId",I||""),O.forEach(X=>V.append("files",X)),console.log("Verificar FormData:"),V.forEach((X,ne)=>{console.log(ne,X)});const G=await me.post("property/Imoveis/CriarImovelComFoto",V,{headers:{"Content-Type":"multipart/form-data"}});Rs(((ee=G==null?void 0:G.data)==null?void 0:ee.message)||"Imóvel criado com sucesso!"),e("Kitnet"),n(""),r(""),l(""),d(""),g(""),y(""),w(""),T(null),M(null),W([])}catch(V){if(console.error("Erro ao criar imóvel:",V),vt.isAxiosError(V))if(V.response){const G=V.response.data;le(G),console.error("Payload de erro:",G)}else V.request?le("Erro de rede. Verifique sua conexão e tente novamente."):le("Ocorreu um erro inesperado. Tente novamente mais tarde.");else V instanceof Error?le(V.message):le("Erro ao se conectar com o servidor.")}finally{B(!1)}};return h.jsxs("div",{children:[h.jsx(Xe,{}),h.jsxs("div",{className:"mx-4 mt-10",children:[h.jsx("h1",{className:"text-2xl font-bold text-yellow-darker mb-6 text-center",children:"Adicionar Imóvel"}),h.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center",children:h.jsx("div",{className:"w-full max-w-sm py-6 bg-white rounded-lg shadow-lg",children:h.jsxs("form",{onSubmit:se,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-neutral-600",children:"Tipo do Imóvel"}),h.jsxs("select",{value:s,onChange:$=>e($.target.value),className:"h-10 w-full bg-transparent border border-neutral-200 px-2 rounded",children:[h.jsx("option",{children:"Kitnet"}),h.jsx("option",{children:"Apartamento"}),h.jsx("option",{children:"Casa"}),h.jsx("option",{children:"Comercial"})]})]}),h.jsx(Yc,{label:"CEP",placeholder:"Digite o CEP",value:t,onChange:$=>n($.target.value)}),h.jsx(Yc,{label:"Endereço",placeholder:"Digite o endereço",value:i,onChange:$=>r($.target.value)}),h.jsx(Yc,{label:"Complemento",placeholder:"Digite o complemento",value:o,onChange:$=>l($.target.value)}),h.jsx(Yc,{label:"Bairro",placeholder:"Bairro do imóvel",value:u,onChange:$=>d($.target.value)}),h.jsx(Yc,{label:"Aluguel (R$)",value:f,onChange:$=>g($.target.value)}),h.jsx(Yc,{label:"Condomínio (R$)",value:x,onChange:$=>y($.target.value)}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-neutral-600",children:"Locador"}),h.jsxs("select",{value:k||"",onChange:$=>T($.target.value),className:"h-10 w-full bg-transparent border border-neutral-200 px-2 rounded",children:[h.jsx("option",{value:"",children:"Selecione um locador"}),S.map($=>h.jsx("option",{value:$.locadorId,children:$.nomeCompletoLocador},$.locadorId))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-neutral-600",children:"Locatário"}),h.jsxs("select",{value:I||"",onChange:$=>M($.target.value),className:"h-10 w-full bg-transparent border border-neutral-200 px-2 rounded",children:[h.jsx("option",{value:"",children:"Selecione um locatário"}),j.map($=>h.jsx("option",{value:$.locatarioId,children:$.nomeCompletoLocatario},$.locatarioId))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-neutral-600",children:"Fotos do Imóvel"}),h.jsx("input",{type:"file",accept:"image/*",onChange:J,multiple:!0,className:"h-10 w-full bg-transparent border border-neutral-200 px-2 rounded"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-neutral-600 font-medium",children:"Descrição"}),h.jsx("textarea",{value:b,onChange:$=>w($.target.value),className:"mt-1 block w-full border border-neutral-200 px-2 py-2 text-form-label rounded-md shadow-sm focus:border-brown-500 focus:ring-brown-500",rows:3})]}),h.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-yellow-darker text-white rounded-md hover:bg-yellow-dark transition duration-300 focus:outline-none focus:bg-yellow-dark mt-4",disabled:F,children:F?"Enviando...":"Adicionar Imóvel"})]})})})]}),F&&h.jsx(Ke,{type:"spinner"}),h.jsx(ut,{})]})}function cF(){const[s,e]=N.useState("Administrador"),[t,n]=N.useState(""),[i,r]=N.useState(""),[o,l]=N.useState(""),[u,d]=N.useState(""),[f,g]=N.useState(""),[x,y]=N.useState(""),[b,w]=N.useState(""),[S,C]=N.useState(""),[j,A]=N.useState(""),[k,T]=N.useState(""),[I,M]=N.useState(""),[F,B]=N.useState(""),[O,W]=N.useState(""),[J,ie]=N.useState(""),[se,$]=N.useState(!1),ee=V=>{var G,X;$(!0),V.preventDefault();try{console.log({userType:s,fullName:t,email:i,phone:o,rg:u,cpf:f,passport:x,cep:b,address:S,number:j,complement:k,neighborhood:I,city:F,state:O,nationality:J}),e("Administrador"),n(""),r(""),l(""),d(""),g(""),y(""),w(""),C(""),A(""),T(""),M(""),B(""),W(""),ie(""),Rs("Usuário criado com sucesso.")}catch(ne){console.error(ne),le(((X=(G=ne==null?void 0:ne.response)==null?void 0:G.data)==null?void 0:X.message)||"Erro ao se conectar com o servidor.")}finally{$(!1)}};return h.jsxs("main",{className:"main-custom",children:[h.jsx(Xe,{}),h.jsxs("section",{className:"section-custom",children:[h.jsx(on,{}),h.jsxs("div",{className:"mx-10 mt-2",children:[h.jsx("h1",{className:"text-xl font-bold mb-4",children:"Adicionar Usuário"}),h.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center",children:h.jsx("div",{className:"w-full max-w-xl py-6 rounded-lg",children:h.jsxs("form",{onSubmit:ee,className:"space-y-6",children:[h.jsx("label",{className:"font-sans font-normal text-form-label text-neutral-900 mb-1.5",children:"Tipo de Usuário"}),h.jsxs("select",{value:s,onChange:V=>e(V.target.value),className:`h-10 flex-grow ${s?"bg-transparent border border-black":"bg-[#D9D9D9]"} w-full focus:outline-none px-2 text-form-label placeholder:text-form-label placeholder:text-black/60 rounded`,children:[h.jsx("option",{children:"Administrador"}),h.jsx("option",{children:"Locador"}),h.jsx("option",{children:"Locatário"})]}),h.jsx(lt,{label:"Nome Completo",value:t,onChange:n}),h.jsx(lt,{label:"E-mail",value:i,onChange:r}),h.jsx(lt,{label:"Telefone",value:o,onChange:l}),h.jsx(lt,{label:"RG",value:u,onChange:d}),h.jsx(lt,{label:"CPF",value:f,onChange:g}),h.jsx(lt,{label:"Passaporte",value:x,onChange:y}),h.jsx("hr",{}),h.jsx(lt,{label:"CEP",value:b,onChange:w}),h.jsx(lt,{label:"Logradouro",value:S,onChange:C}),h.jsx(lt,{label:"Número",value:j,onChange:A}),h.jsx(lt,{label:"Complemento",value:k,onChange:T}),h.jsx(lt,{label:"Bairro",value:I,onChange:M}),h.jsx(lt,{label:"Cidade",value:F,onChange:B}),h.jsx(lt,{label:"Estado",value:O,onChange:W}),h.jsx(lt,{label:"Nacionalidade",value:J,onChange:ie}),h.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-black text-white rounded-md hover:bg-gray-800 transition duration-300 focus:outline-none focus:bg-gray-800 mt-4",children:"Confirmar"})]})})})]})]}),se&&h.jsx(Ke,{type:"spinner"}),h.jsx(ut,{})]})}function uF(){const[s,e]=N.useState(""),[t,n]=N.useState(""),[i,r]=N.useState(""),[o,l]=N.useState(""),[u,d]=N.useState(""),[f,g]=N.useState(!1),x=async b=>{var w;if(b.preventDefault(),!s||!i||!o){le("Por favor, preencha todos os campos obrigatórios.");return}g(!0);try{const S=pd();console.log(S.UserID);const C={idImovel:parseInt(s),titulo:i,solicitanteId:parseInt(S.UserID),dataSolicitacao:new Date().toISOString(),descricao:o,tipoChamado:t},j=await me.post("property/Chamados/CriarUmNovoChamado",C);e(""),n(""),r(""),l(""),d(""),Rs(((w=j==null?void 0:j.data)==null?void 0:w.message)||"Imóvel criado com sucesso!")}catch(S){console.error("Error creating ticket:",S),le(S instanceof Error?S.message:"Erro ao se conectar com o servidor.")}finally{g(!1)}},y=async()=>{try{const w=(await me.get("property/Imoveis/PegarTodosImoveis")).data;console.log(w);const S=w.map(j=>j.endereco);d(S.join("; ")),console.log(S);const C=w.reduce((j,A)=>(j[A.imovelId]=A.endereco,j),{});console.log(C),d(C)}catch(b){console.error("Error getting the houses:",b)}};return N.useEffect(()=>{y()},[]),h.jsxs("main",{className:"main-custom",children:[h.jsx(Xe,{}),h.jsxs("section",{className:"section-custom",children:[h.jsx(on,{}),h.jsx("h1",{className:"text-xl font-bold",children:"Novo Chamado"}),h.jsx("div",{className:"flex flex-col items-center",children:h.jsx("div",{className:"w-full max-w-xl rounded-lg",children:h.jsxs("form",{onSubmit:x,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"font-sans font-normal text-form-label text-neutral-900 mb-1.5",children:"Imóvel"}),h.jsxs("select",{value:s,onChange:b=>e(b.target.value),className:`h-10 w-full ${s?"bg-transparent border border-black":"bg-[#D9D9D9]"} focus:outline-none px-2 text-form-label placeholder:text-form-label placeholder:text-black/60 rounded`,children:[h.jsx("option",{value:"",disabled:!0,children:"Selecione um imóvel"}),h.jsx("option",{value:"",children:"Selecione um imóvel"}),Object.entries(u).map(([b,w])=>h.jsx("option",{value:b,children:w},b))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"font-sans font-normal text-form-label text-neutral-900 mb-1.5",children:"Tipo"}),h.jsxs("select",{value:t,onChange:b=>n(b.target.value),className:`h-10 w-full ${t?"bg-transparent border border-black":"bg-[#D9D9D9]"} focus:outline-none px-2 text-form-label placeholder:text-form-label placeholder:text-black/60 rounded`,children:[h.jsx("option",{value:"",disabled:!0,children:"Selecione o tipo de chamado"}),h.jsx("option",{children:"Manutenção"}),h.jsx("option",{children:"Financeiro"}),h.jsx("option",{children:"Administrativo"}),h.jsx("option",{children:"Outros"})]})]}),h.jsx(lt,{label:"Título",value:i,onChange:r,placeholder:"Título do chamado"}),h.jsxs("div",{children:[h.jsx("label",{className:"font-sans font-normal text-form-label text-neutral-900 mb-1.5",children:"Descrição"}),h.jsx("textarea",{value:o,onChange:b=>l(b.target.value),className:`h-20 w-full ${o?"bg-transparent border border-black":"bg-[#D9D9D9]"} focus:outline-none px-2 text-form-label placeholder:text-form-label placeholder:text-black/60 rounded`,rows:10,placeholder:"Descreva o problema ou solicitação"})]}),h.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-black text-white rounded-md hover:bg-gray-800 transition duration-300 focus:outline-none mt-4",children:"Criar"})]})})})]}),f&&h.jsx(Ke,{type:"spinner"}),h.jsx(ut,{})]})}var yt=function(){return yt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},yt.apply(this,arguments)};function dF(s,e){var t={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&e.indexOf(n)<0&&(t[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(s);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(s,n[i])&&(t[n[i]]=s[n[i]]);return t}function Os(s,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,r;n<i;n++)(r||!(n in e))&&(r||(r=Array.prototype.slice.call(e,0,n)),r[n]=e[n]);return s.concat(r||Array.prototype.slice.call(e))}var Ar=function(s){return s.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},hF={k:1e3,m:1e6,b:1e9},fF=function(s,e){e===void 0&&(e=".");var t=new RegExp("(\\d+(".concat(Ar(e),"\\d*)?)([kmb])$"),"i"),n=s.match(t);if(n){var i=n[1],r=n[3],o=hF[r.toLowerCase()];return Number(i.replace(e,"."))*o}},pF=function(s,e){e===void 0&&(e=",");var t=new RegExp(Ar(e),"g");return s.replace(t,"")},mF=function(s,e){var t=Ar(e.join("")),n=new RegExp("[^\\d".concat(t,"]"),"gi");return s.replace(n,"")},_y=function(s){var e=s.value,t=s.groupSeparator,n=t===void 0?",":t,i=s.decimalSeparator,r=i===void 0?".":i,o=s.allowDecimals,l=o===void 0?!0:o,u=s.decimalsLimit,d=u===void 0?2:u,f=s.allowNegativeValue,g=f===void 0?!0:f,x=s.disableAbbreviations,y=x===void 0?!1:x,b=s.prefix,w=b===void 0?"":b,S=s.transformRawValue,C=S===void 0?function(ne){return ne}:S,j=C(e);if(j==="-")return j;var A=y?[]:["k","m","b"],k=new RegExp("((^|\\D)-\\d)|(-".concat(Ar(w),")")),T=k.test(j),I=RegExp("(\\d+)-?".concat(Ar(w))).exec(e)||[],M=I[0],F=I[1],B=w?M?j.replace(M,"").concat(F):j.replace(w,""):j,O=pF(B,n),W=mF(O,Os([n,r],A,!0)),J=W;if(!y){if(A.some(function(ne){return ne===W.toLowerCase().replace(r,"")}))return"";var ie=fF(W,r);ie&&(J=String(ie))}var se=T&&g?"-":"";if(r&&J.includes(r)){var $=W.split(r),ee=$[0],V=$[1],G=d&&V?V.slice(0,d):V,X=l?"".concat(r).concat(G):"";return"".concat(se).concat(ee).concat(X)}return"".concat(se).concat(J)},gF=function(s,e,t){if(t!==void 0&&s.length>1){if(t===0)return s.replace(e,"");if(s.includes(e)){var n=s.split(e),i=n[0],r=n[1];if(r.length===t)return s;if(r.length>t)return"".concat(i).concat(e).concat(r.slice(0,t))}var o=s.length>t?new RegExp("(\\d+)(\\d{".concat(t,"})")):new RegExp("(\\d)(\\d+)"),l=s.match(o);if(l){var i=l[1],r=l[2];return"".concat(i).concat(e).concat(r)}}return s},ok=function(s,e){var t=e.groupSeparator,n=t===void 0?",":t,i=e.decimalSeparator,r=i===void 0?".":i,o=new RegExp("\\d([^".concat(Ar(n)).concat(Ar(r),"0-9]+)")),l=s.match(o);return l?l[1]:void 0},hh=function(s){var e=s.value,t=s.decimalSeparator,n=s.intlConfig,i=s.decimalScale,r=s.prefix,o=r===void 0?"":r,l=s.suffix,u=l===void 0?"":l;if(e===""||e===void 0)return"";if(e==="-")return"-";var d=new RegExp("^\\d?-".concat(o?"".concat(Ar(o),"?"):"","\\d")).test(e),f=t!=="."?xF(e,t,d):e;t&&t!=="-"&&f.startsWith(t)&&(f="0"+f);var g={minimumFractionDigits:i||0,maximumFractionDigits:20},x=n?new Intl.NumberFormat(n.locale,n.currency?yt(yt({},g),{style:"currency",currency:n.currency}):g):new Intl.NumberFormat(void 0,g),y=x.formatToParts(Number(f)),b=vF(y,s),w=ok(b,yt({},s)),S=e.slice(-1)===t?t:"",C=f.match(RegExp("\\d+\\.(\\d+)"))||[],j=C[1];return i===void 0&&j&&t&&(b.includes(t)?b=b.replace(RegExp("(\\d+)(".concat(Ar(t),")(\\d+)"),"g"),"$1$2".concat(j)):w&&!u?b=b.replace(w,"".concat(t).concat(j).concat(w)):b="".concat(b).concat(t).concat(j)),u&&S?"".concat(b).concat(S).concat(u):w&&S?b.replace(w,"".concat(S).concat(w)):w&&u?b.replace(w,"".concat(S).concat(u)):[b,S,u].join("")},xF=function(s,e,t){var n=s;return e&&e!=="."&&(n=n.replace(RegExp(Ar(e),"g"),"."),t&&e==="-"&&(n="-".concat(n.slice(1)))),n},vF=function(s,e){var t=e.prefix,n=e.groupSeparator,i=e.decimalSeparator,r=e.decimalScale,o=e.disableGroupSeparators,l=o===void 0?!1:o;return s.reduce(function(u,d,f){var g=d.type,x=d.value;return f===0&&t?g==="minusSign"?[x,t]:g==="currency"?Os(Os([],u,!0),[t],!1):[t,x]:g==="currency"?t?u:Os(Os([],u,!0),[x],!1):g==="group"?l?u:Os(Os([],u,!0),[n!==void 0?n:x],!1):g==="decimal"?r!==void 0&&r===0?u:Os(Os([],u,!0),[i!==void 0?i:x],!1):g==="fraction"?Os(Os([],u,!0),[r!==void 0?x.slice(0,r):x],!1):Os(Os([],u,!0),[x],!1)},[""]).join("")},yF={currencySymbol:"",groupSeparator:"",decimalSeparator:"",prefix:"",suffix:""},bF=function(s){var e=s||{},t=e.locale,n=e.currency,i=t?new Intl.NumberFormat(t,n?{currency:n,style:"currency"}:void 0):new Intl.NumberFormat;return i.formatToParts(1000.1).reduce(function(r,o,l){return o.type==="currency"?l===0?yt(yt({},r),{currencySymbol:o.value,prefix:o.value}):yt(yt({},r),{currencySymbol:o.value,suffix:o.value}):o.type==="group"?yt(yt({},r),{groupSeparator:o.value}):o.type==="decimal"?yt(yt({},r),{decimalSeparator:o.value}):r},yF)},nE=function(s){return RegExp(/\d/,"gi").test(s)},wF=function(s,e,t){if(e===void 0&&(e="."),t===void 0||s===""||s===void 0)return s;if(!s.match(/\d/g))return"";var n=s.split(e),i=n[0],r=n[1];if(t===0)return i;var o=r||"";if(o.length<t)for(;o.length<t;)o+="0";else o=o.slice(0,t);return"".concat(i).concat(e).concat(o)},_F=function(s){var e=s.selectionStart,t=s.value,n=s.lastKeyStroke,i=s.stateValue,r=s.groupSeparator,o=e,l=t;if(i&&o){var u=t.split("");return n==="Backspace"&&i[o]===r&&(u.splice(o-1,1),o-=1),n==="Delete"&&i[o]===r&&(u.splice(o,1),o+=1),l=u.join(""),{modifiedValue:l,cursorPosition:o}}return{modifiedValue:l,cursorPosition:e}},Ys=N.forwardRef(function(s,e){var t=s.allowDecimals,n=t===void 0?!0:t,i=s.allowNegativeValue,r=i===void 0?!0:i,o=s.id,l=s.name,u=s.className,d=s.customInput,f=s.decimalsLimit,g=s.defaultValue,x=s.disabled,y=x===void 0?!1:x,b=s.maxLength,w=s.value,S=s.onValueChange,C=s.fixedDecimalLength,j=s.placeholder,A=s.decimalScale,k=s.prefix,T=s.suffix,I=s.intlConfig,M=s.step,F=s.min,B=s.max,O=s.disableGroupSeparators,W=O===void 0?!1:O,J=s.disableAbbreviations,ie=J===void 0?!1:J,se=s.decimalSeparator,$=s.groupSeparator,ee=s.onChange,V=s.onFocus,G=s.onBlur,X=s.onKeyDown,ne=s.onKeyUp,H=s.transformRawValue,Y=s.formatValueOnBlur,ce=Y===void 0?!0:Y,fe=dF(s,["allowDecimals","allowNegativeValue","id","name","className","customInput","decimalsLimit","defaultValue","disabled","maxLength","value","onValueChange","fixedDecimalLength","placeholder","decimalScale","prefix","suffix","intlConfig","step","min","max","disableGroupSeparators","disableAbbreviations","decimalSeparator","groupSeparator","onChange","onFocus","onBlur","onKeyDown","onKeyUp","transformRawValue","formatValueOnBlur"]);if(se&&nE(se))throw new Error("decimalSeparator cannot be a number");if($&&nE($))throw new Error("groupSeparator cannot be a number");var ye=N.useMemo(function(){return bF(I)},[I]),de=se||ye.decimalSeparator||"",xe=$||ye.groupSeparator||"";if(de&&xe&&de===xe&&W===!1)throw new Error("decimalSeparator cannot be the same as groupSeparator");var ke={decimalSeparator:de,groupSeparator:xe,disableGroupSeparators:W,intlConfig:I,prefix:k||ye.prefix,suffix:T},Me={decimalSeparator:de,groupSeparator:xe,allowDecimals:n,decimalsLimit:f||C||2,allowNegativeValue:r,disableAbbreviations:ie,prefix:k||ye.prefix,transformRawValue:H},Re=N.useState(function(){return g!=null?hh(yt(yt({},ke),{decimalScale:A,value:String(g)})):w!=null?hh(yt(yt({},ke),{decimalScale:A,value:String(w)})):""}),ht=Re[0],Zt=Re[1],We=N.useState(!1),nt=We[0],Ct=We[1],ot=N.useState(0),Ne=ot[0],$e=ot[1],et=N.useState(0),pe=et[0],Nt=et[1],ps=N.useState(null),st=ps[0],Ji=ps[1],ts=N.useRef(null);N.useImperativeHandle(e,function(){return ts.current});var Fa=function(Wt,xn){Ct(!0);var an=_F({selectionStart:xn,value:Wt,lastKeyStroke:st,stateValue:ht,groupSeparator:xe}),vn=an.modifiedValue,Nn=an.cursorPosition,zn=_y(yt({value:vn},Me));if(!(b&&zn.replace(/-/g,"").length>b)){if(zn===""||zn==="-"||zn===de){S&&S(void 0,l,{float:null,formatted:"",value:""}),Zt(zn),$e(1);return}var Ci=de?zn.replace(de,"."):zn,Eo=parseFloat(Ci),kc=hh(yt({value:zn},ke));if(Nn!=null){var za=Nn+(kc.length-Wt.length);za=za<=0?k?k.length:0:za,$e(za),Nt(pe+1)}if(Zt(kc),S){var qp={float:Eo,formatted:kc,value:zn};S(zn,l,qp)}}},Zs=function(Wt){var xn=Wt.target,an=xn.value,vn=xn.selectionStart;Fa(an,vn),ee&&ee(Wt)},_i=function(Wt){return V&&V(Wt),ht?ht.length:0},jr=function(Wt){var xn=Wt.target.value,an=_y(yt({value:xn},Me));if(an==="-"||an===de||!an){Zt(""),G&&G(Wt);return}var vn=gF(an,de,C),Nn=wF(vn,de,A!==void 0?A:C),zn=parseFloat(Nn.replace(de,".")),Ci=hh(yt(yt({},ke),{value:Nn}));S&&ce&&S(Nn,l,{float:zn,formatted:Ci,value:Nn}),Zt(Ci),G&&G(Wt)},Si=function(Wt){var xn=Wt.key;if(Ji(xn),M&&(xn==="ArrowUp"||xn==="ArrowDown")){Wt.preventDefault(),$e(ht.length);var an=parseFloat(w!=null?String(w).replace(de,"."):_y(yt({value:ht},Me)))||0,vn=xn==="ArrowUp"?an+M:an-M;if(F!==void 0&&vn<Number(F)||B!==void 0&&vn>Number(B))return;var Nn=String(M).includes(".")?Number(String(M).split(".")[1].length):void 0;Fa(String(Nn?vn.toFixed(Nn):vn).replace(".",de))}X&&X(Wt)},Oa=function(Wt){var xn=Wt.key,an=Wt.currentTarget.selectionStart;if(xn!=="ArrowUp"&&xn!=="ArrowDown"&&ht!=="-"){var vn=ok(ht,{groupSeparator:xe,decimalSeparator:de});if(vn&&an&&an>ht.length-vn.length&&ts.current){var Nn=ht.length-vn.length;ts.current.setSelectionRange(Nn,Nn)}}ne&&ne(Wt)};N.useEffect(function(){w==null&&g==null&&Zt("")},[g,w]),N.useEffect(function(){nt&&ht!=="-"&&ts.current&&document.activeElement===ts.current&&ts.current.setSelectionRange(Ne,Ne)},[ht,Ne,ts,nt,pe]);var yx=function(){return w!=null&&ht!=="-"&&(!de||ht!==de)?hh(yt(yt({},ke),{decimalScale:nt?void 0:A,value:String(w)})):ht},Ed=yt({type:"text",inputMode:"decimal",id:o,name:l,className:u,onChange:Zs,onBlur:jr,onFocus:_i,onKeyDown:Si,onKeyUp:Oa,placeholder:j,disabled:y,value:yx(),ref:ts},fe);if(d){var Wp=d;return He.createElement(Wp,yt({},Ed))}return He.createElement("input",yt({},Ed))});Ys.displayName="CurrencyInput";function SF(){const[s,e]=N.useState(""),[t,n]=N.useState(""),[i,r]=N.useState(""),[o,l]=N.useState(""),[u,d]=N.useState(""),[f,g]=N.useState("Ativo"),[x,y]=N.useState(""),[b,w]=N.useState(""),[S,C]=N.useState(""),[j,A]=N.useState(""),[k,T]=N.useState(!1),[I,M]=N.useState(""),[F,B]=N.useState(""),[O,W]=N.useState([]),[J,ie]=N.useState(""),[se,$]=N.useState(""),[ee,V]=N.useState(!1),[G,X]=N.useState(!1),[ne,H]=N.useState(!1),[Y,ce]=N.useState([]),[fe,ye]=N.useState([]),[de,xe]=N.useState([]),[ke,Me]=N.useState(""),[Re,ht]=N.useState(""),[Zt,We]=N.useState(""),[nt,Ct]=N.useState(!1),ot=pe=>pe?pe.replace(/R\$|\./g,"").replace(",","."):"0";N.useEffect(()=>{(async()=>{try{V(!0),X(!0),H(!0);const Nt=await me.get("auth/Locador/PegarTodosLocadores"),ps=await me.get("auth/Locatario/PegarTodosLocatarios"),st=await me.get("property/Imoveis/PegarTodosImoveis");ce(Nt.data||[]),ye(ps.data||[]),xe(st.data||[]),console.log(Nt.data,ps.data,st.data)}catch{le("Erro ao carregar locadores, locatários e imoveis.")}finally{V(!1),X(!1),H(!1)}})()},[]);const Ne=pe=>{if(pe.target.files){const Nt=Array.from(pe.target.files);console.log("Arquivos selecionados:",Nt),W(Nt)}},$e=()=>{const pe=[];if(Re||pe.push("Locatário"),ke||pe.push("Locador"),Zt||pe.push("Imóvel"),b||pe.push("Data de pagamento"),t||pe.push("Data de inicio"),s||pe.push("Taxa de administração"),o||pe.push("Tipo de garantia"),i||pe.push("Data de encerramento"),pe.length>0){const Nt=`Por favor, preencha os seguintes campos obrigatórios: ${pe.join(", ")}.`;return le(Nt),!1}return!0},et=async pe=>{var Nt,ps;pe.preventDefault(),Ct(!0);try{if(!$e())return;const st=new FormData;st.append("LocadorId",ke),st.append("LocatarioId",Re),st.append("ImovelId",Zt),st.append("ValorAluguel",ot(s)),st.append("Iptu",ot(x)),st.append("TaxaAdm",ot(S)),st.append("DataInicio",new Date(t).toISOString()),st.append("DataEncerramento",new Date(i).toISOString()),st.append("TipoGarantia",o),st.append("CondicoesEspeciais",u),st.append("Status",f),st.append("DataPagamento",new Date(b).toISOString()),st.append("DataRescisao",j?new Date(j).toISOString():""),st.append("Renovado",k?"true":"false"),st.append("DataEncerramentoRenovacao",I?new Date(I).toISOString():""),st.append("ValorReajuste",ot(F)),O==null||O.forEach(ts=>st.append("files",ts));const Ji=await me.post(`property/Contratos/CriarContratoComMultiplosArquivos?emailLocatario=${encodeURIComponent(J)}&emailLocador=${encodeURIComponent(se)}`,st,{headers:{"Content-Type":"multipart/form-data"}});Rs(((Nt=Ji==null?void 0:Ji.data)==null?void 0:Nt.message)||"Contrato criado com sucesso!"),e(""),n(""),r(""),l("Caução"),d(""),g("Ativo"),y(""),w(""),C(""),A(""),T(!1),M(""),B(""),W([]),$(""),ie("")}catch(st){console.error(st),st.response?((ps=st.response.data)==null?void 0:ps.title)=="One or more validation errors occurred."&&le("O backend espera mais campos na requisição."):le("Erro ao criar o contrato.")}finally{Ct(!1)}};return h.jsxs("main",{className:"main-custom",children:[h.jsx(Xe,{}),h.jsxs("section",{className:"section-custom",children:[h.jsx(on,{}),h.jsx("h1",{className:"text-xl font-bold mt-6",children:"Criar Contrato"}),h.jsx("div",{className:"flex flex-col items-center justify-center",children:h.jsx("div",{className:"w-full max-w-xl py-3 pb-5 rounded-lg",children:h.jsxs("form",{onSubmit:et,className:"space-y-4",children:[h.jsxs("div",{className:"flex flex-col w-full",children:[h.jsxs("label",{htmlFor:"locatarioEmail",className:"text-sm text-neutral-600 mb-1",children:["Email do Locatário ",h.jsx("span",{className:"text-sm text-neutral-500",children:"(Opcional)"})]}),h.jsx("input",{type:"email",id:"locatarioEmail",name:"locatarioEmail",placeholder:"Email do Locatário",value:J,onChange:pe=>ie(pe.target.value),className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm"})]}),h.jsxs("div",{className:"flex flex-col w-full",children:[h.jsxs("label",{htmlFor:"locadorEmail",className:"text-sm text-neutral-600 mb-1",children:["Email do Locador ",h.jsx("span",{className:"text-sm text-neutral-500",children:"(Opcional)"})]}),h.jsx("input",{type:"email",id:"locadorEmail",name:"locadorEmail",placeholder:"Email do Locador",value:se,onChange:pe=>$(pe.target.value),className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm"})]}),h.jsxs("div",{className:"flex flex-col w-full",children:[h.jsx("label",{htmlFor:"rentalValue",className:"text-sm text-neutral-600 mb-1",children:"Valor do Aluguel (R$)"}),h.jsx(Ys,{id:"rentalValue",name:"rentalValue",placeholder:"R$ 0,00",decimalSeparator:",",groupSeparator:".",prefix:"R$ ",decimalsLimit:2,maxLength:9,value:s,onValueChange:pe=>e(pe||""),className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm"})]}),h.jsx(ls,{label:"Data de Início",type:"date",value:t,onChange:pe=>n(pe.target.value)}),h.jsx(ls,{label:"Data de Encerramento",type:"date",value:i,onChange:pe=>r(pe.target.value)}),h.jsxs("div",{className:"flex flex-col w-full",children:[h.jsxs("label",{htmlFor:"iptu",className:"text-sm text-neutral-600 mb-1",children:["IPTU (R$) ",h.jsx("span",{className:"text-sm text-neutral-500",children:"(Opcional)"})]}),h.jsx(Ys,{id:"iptu",name:"iptu",placeholder:"R$ 0,00",decimalSeparator:",",groupSeparator:".",prefix:"R$ ",decimalsLimit:2,maxLength:9,value:x,onValueChange:pe=>y(pe||""),className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm"})]}),h.jsx(ls,{label:"Data de Pagamento",type:"date",value:b,onChange:pe=>w(pe.target.value)}),h.jsx(ls,{label:"Data de Reajuste",type:"date",value:I,onChange:pe=>M(pe.target.value)}),h.jsxs("div",{className:"flex flex-col w-full",children:[h.jsx("label",{htmlFor:"adminFee",className:"text-sm text-neutral-600 mb-1",children:"Taxa Administrativa (R$)"}),h.jsx(Ys,{id:"adminFee",name:"adminFee",placeholder:"R$ 0,00",decimalSeparator:",",groupSeparator:".",prefix:"R$ ",decimalsLimit:2,maxLength:9,value:S,onValueChange:pe=>C(pe||""),className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm"})]}),h.jsxs("div",{className:"flex flex-col w-full",children:[h.jsx("label",{htmlFor:"adjustmentValue",className:"text-sm text-neutral-600 mb-1",children:"Valor de Reajuste (R$)"}),h.jsx(Ys,{id:"adjustmentValue",name:"adjustmentValue",placeholder:"R$ 0,00",decimalSeparator:",",groupSeparator:".",prefix:"R$ ",decimalsLimit:2,maxLength:9,value:F,onValueChange:pe=>B(pe||""),className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm"})]}),h.jsx(ls,{label:h.jsx("div",{className:"flex justify-between items-center",children:h.jsxs("span",{children:["Condições especiais ",h.jsx("span",{className:"text-sm text-neutral-500",children:"(Opcional)"})]})}),value:u,onChange:pe=>d(pe.target.value)}),h.jsx(ls,{label:"Garantia",placeholder:"Caução, fiador, depósito?",value:o,onChange:pe=>l(pe.target.value)}),ne&&h.jsx("p",{className:"text-sm text-neutral-500 mt-1",children:"Carregando..."}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-neutral-600",children:"Imóvel"}),h.jsxs("select",{value:Zt||"",onChange:pe=>We(pe.target.value),className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm bg-white",children:[h.jsx("option",{value:"",children:"Selecione um imóvel"}),de.map(pe=>h.jsx("option",{value:pe.imovelId,children:pe.imovelId},pe.imovelId))]})]}),ee&&h.jsx("p",{className:"text-sm text-neutral-500 mt-1",children:"Carregando..."}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-neutral-600",children:"Locador"}),h.jsxs("select",{value:ke||"",onChange:pe=>Me(pe.target.value),className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm bg-white",children:[h.jsx("option",{value:"",children:"Selecione um locador"}),Y.map(pe=>h.jsx("option",{value:pe.locadorId,children:pe.nomeCompletoLocador},pe.locadorId))]})]}),G&&h.jsx("p",{className:"text-sm text-neutral-500 mt-1",children:"Carregando..."}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-neutral-600",children:"Locatário"}),h.jsxs("select",{value:Re||"",onChange:pe=>ht(pe.target.value),className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm bg-white",children:[h.jsx("option",{value:"",children:"Selecione um locatário"}),fe.map(pe=>h.jsx("option",{value:pe.locatarioId,children:pe.nomeCompletoLocatario},pe.locatarioId))]})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("label",{className:"block text-neutral-600",children:["Documentos ",h.jsx("span",{className:"text-sm text-neutral-500",children:"(Opcional)"})]}),h.jsx("input",{type:"file",onChange:Ne,className:"h-10 flex-grow mt-1 block w-full rounded-md px-2 text-neutral-700 shadow-sm focus:border-neutral-300 cursor-pointer",multiple:!0})]}),h.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-black text-white rounded-md hover:bg-gray-800 transition duration-300 focus:outline-none mt-4",children:"Confirmar"})]})})})]}),nt&&h.jsx(Ke,{type:"spinner"}),h.jsx(ut,{})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function zp(s){return s+.5|0}const Ea=(s,e,t)=>Math.max(Math.min(s,t),e);function _h(s){return Ea(zp(s*2.55),0,255)}function Na(s){return Ea(zp(s*255),0,255)}function Wr(s){return Ea(zp(s/2.55)/100,0,1)}function sE(s){return Ea(zp(s*100),0,100)}const oi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},sb=[..."0123456789ABCDEF"],CF=s=>sb[s&15],EF=s=>sb[(s&240)>>4]+sb[s&15],rg=s=>(s&240)>>4===(s&15),AF=s=>rg(s.r)&&rg(s.g)&&rg(s.b)&&rg(s.a);function kF(s){var e=s.length,t;return s[0]==="#"&&(e===4||e===5?t={r:255&oi[s[1]]*17,g:255&oi[s[2]]*17,b:255&oi[s[3]]*17,a:e===5?oi[s[4]]*17:255}:(e===7||e===9)&&(t={r:oi[s[1]]<<4|oi[s[2]],g:oi[s[3]]<<4|oi[s[4]],b:oi[s[5]]<<4|oi[s[6]],a:e===9?oi[s[7]]<<4|oi[s[8]]:255})),t}const jF=(s,e)=>s<255?e(s):"";function NF(s){var e=AF(s)?CF:EF;return s?"#"+e(s.r)+e(s.g)+e(s.b)+jF(s.a,e):void 0}const TF=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ak(s,e,t){const n=e*Math.min(t,1-t),i=(r,o=(r+s/30)%12)=>t-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function PF(s,e,t){const n=(i,r=(i+s/60)%6)=>t-t*e*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function RF(s,e,t){const n=ak(s,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)n[i]*=1-e-t,n[i]+=e;return n}function LF(s,e,t,n,i){return s===i?(e-t)/n+(e<t?6:0):e===i?(t-s)/n+2:(s-e)/n+4}function W1(s){const t=s.r/255,n=s.g/255,i=s.b/255,r=Math.max(t,n,i),o=Math.min(t,n,i),l=(r+o)/2;let u,d,f;return r!==o&&(f=r-o,d=l>.5?f/(2-r-o):f/(r+o),u=LF(t,n,i,f,r),u=u*60+.5),[u|0,d||0,l]}function q1(s,e,t,n){return(Array.isArray(e)?s(e[0],e[1],e[2]):s(e,t,n)).map(Na)}function G1(s,e,t){return q1(ak,s,e,t)}function IF(s,e,t){return q1(RF,s,e,t)}function MF(s,e,t){return q1(PF,s,e,t)}function lk(s){return(s%360+360)%360}function DF(s){const e=TF.exec(s);let t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?_h(+e[5]):Na(+e[5]));const i=lk(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=IF(i,r,o):e[1]==="hsv"?n=MF(i,r,o):n=G1(i,r,o),{r:n[0],g:n[1],b:n[2],a:t}}function FF(s,e){var t=W1(s);t[0]=lk(t[0]+e),t=G1(t),s.r=t[0],s.g=t[1],s.b=t[2]}function OF(s){if(!s)return;const e=W1(s),t=e[0],n=sE(e[1]),i=sE(e[2]);return s.a<255?`hsla(${t}, ${n}%, ${i}%, ${Wr(s.a)})`:`hsl(${t}, ${n}%, ${i}%)`}const iE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},rE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function zF(){const s={},e=Object.keys(rE),t=Object.keys(iE);let n,i,r,o,l;for(n=0;n<e.length;n++){for(o=l=e[n],i=0;i<t.length;i++)r=t[i],l=l.replace(r,iE[r]);r=parseInt(rE[o],16),s[l]=[r>>16&255,r>>8&255,r&255]}return s}let og;function BF(s){og||(og=zF(),og.transparent=[0,0,0,0]);const e=og[s.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const HF=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function VF(s){const e=HF.exec(s);let t=255,n,i,r;if(e){if(e[7]!==n){const o=+e[7];t=e[8]?_h(o):Ea(o*255,0,255)}return n=+e[1],i=+e[3],r=+e[5],n=255&(e[2]?_h(n):Ea(n,0,255)),i=255&(e[4]?_h(i):Ea(i,0,255)),r=255&(e[6]?_h(r):Ea(r,0,255)),{r:n,g:i,b:r,a:t}}}function $F(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${Wr(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const Sy=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,Jc=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function UF(s,e,t){const n=Jc(Wr(s.r)),i=Jc(Wr(s.g)),r=Jc(Wr(s.b));return{r:Na(Sy(n+t*(Jc(Wr(e.r))-n))),g:Na(Sy(i+t*(Jc(Wr(e.g))-i))),b:Na(Sy(r+t*(Jc(Wr(e.b))-r))),a:s.a+t*(e.a-s.a)}}function ag(s,e,t){if(s){let n=W1(s);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=G1(n),s.r=n[0],s.g=n[1],s.b=n[2]}}function ck(s,e){return s&&Object.assign(e||{},s)}function oE(s){var e={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(e={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(e.a=Na(s[3]))):(e=ck(s,{r:0,g:0,b:0,a:1}),e.a=Na(e.a)),e}function WF(s){return s.charAt(0)==="r"?VF(s):DF(s)}class rf{constructor(e){if(e instanceof rf)return e;const t=typeof e;let n;t==="object"?n=oE(e):t==="string"&&(n=kF(e)||BF(e)||WF(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=ck(this._rgb);return e&&(e.a=Wr(e.a)),e}set rgb(e){this._rgb=oE(e)}rgbString(){return this._valid?$F(this._rgb):void 0}hexString(){return this._valid?NF(this._rgb):void 0}hslString(){return this._valid?OF(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let r;const o=t===r?.5:t,l=2*o-1,u=n.a-i.a,d=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;r=1-d,n.r=255&d*n.r+r*i.r+.5,n.g=255&d*n.g+r*i.g+.5,n.b=255&d*n.b+r*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=UF(this._rgb,e._rgb,t)),this}clone(){return new rf(this.rgb)}alpha(e){return this._rgb.a=Na(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=zp(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ag(this._rgb,2,e),this}darken(e){return ag(this._rgb,2,-e),this}saturate(e){return ag(this._rgb,1,e),this}desaturate(e){return ag(this._rgb,1,-e),this}rotate(e){return FF(this._rgb,e),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Fr(){}const qF=(()=>{let s=0;return()=>s++})();function jt(s){return s==null}function pn(s){if(Array.isArray&&Array.isArray(s))return!0;const e=Object.prototype.toString.call(s);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function rt(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function vi(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function sr(s,e){return vi(s)?s:e}function Je(s,e){return typeof s>"u"?e:s}const GF=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*e:+s;function Rt(s,e,t){if(s&&typeof s.call=="function")return s.apply(t,e)}function gt(s,e,t,n){let i,r,o;if(pn(s))for(r=s.length,i=0;i<r;i++)e.call(t,s[i],i);else if(rt(s))for(o=Object.keys(s),r=o.length,i=0;i<r;i++)e.call(t,s[o[i]],o[i])}function v0(s,e){let t,n,i,r;if(!s||!e||s.length!==e.length)return!1;for(t=0,n=s.length;t<n;++t)if(i=s[t],r=e[t],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function y0(s){if(pn(s))return s.map(y0);if(rt(s)){const e=Object.create(null),t=Object.keys(s),n=t.length;let i=0;for(;i<n;++i)e[t[i]]=y0(s[t[i]]);return e}return s}function uk(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function XF(s,e,t,n){if(!uk(s))return;const i=e[s],r=t[s];rt(i)&&rt(r)?of(i,r,n):e[s]=y0(r)}function of(s,e,t){const n=pn(e)?e:[e],i=n.length;if(!rt(s))return s;t=t||{};const r=t.merger||XF;let o;for(let l=0;l<i;++l){if(o=n[l],!rt(o))continue;const u=Object.keys(o);for(let d=0,f=u.length;d<f;++d)r(u[d],s,o,t)}return s}function Wh(s,e){return of(s,e,{merger:KF})}function KF(s,e,t){if(!uk(s))return;const n=e[s],i=t[s];rt(n)&&rt(i)?Wh(n,i):Object.prototype.hasOwnProperty.call(e,s)||(e[s]=y0(i))}const aE={"":s=>s,x:s=>s.x,y:s=>s.y};function YF(s){const e=s.split("."),t=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function JF(s){const e=YF(s);return t=>{for(const n of e){if(n==="")break;t=t&&t[n]}return t}}function md(s,e){return(aE[e]||(aE[e]=JF(e)))(s)}function X1(s){return s.charAt(0).toUpperCase()+s.slice(1)}const af=s=>typeof s<"u",Ta=s=>typeof s=="function",lE=(s,e)=>{if(s.size!==e.size)return!1;for(const t of s)if(!e.has(t))return!1;return!0};function QF(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const sn=Math.PI,Fn=2*sn,ZF=Fn+sn,b0=Number.POSITIVE_INFINITY,eO=sn/180,Dn=sn/2,el=sn/4,cE=sn*2/3,ib=Math.log10,Er=Math.sign;function qh(s,e,t){return Math.abs(s-e)<t}function uE(s){const e=Math.round(s);s=qh(s,e,s/1e3)?e:s;const t=Math.pow(10,Math.floor(ib(s))),n=s/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function tO(s){const e=[],t=Math.sqrt(s);let n;for(n=1;n<t;n++)s%n===0&&(e.push(n),e.push(s/n));return t===(t|0)&&e.push(t),e.sort((i,r)=>i-r).pop(),e}function lf(s){return!isNaN(parseFloat(s))&&isFinite(s)}function nO(s,e){const t=Math.round(s);return t-e<=s&&t+e>=s}function sO(s,e,t){let n,i,r;for(n=0,i=s.length;n<i;n++)r=s[n][t],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function fl(s){return s*(sn/180)}function iO(s){return s*(180/sn)}function dE(s){if(!vi(s))return;let e=1,t=0;for(;Math.round(s*e)/e!==s;)e*=10,t++;return t}function dk(s,e){const t=e.x-s.x,n=e.y-s.y,i=Math.sqrt(t*t+n*n);let r=Math.atan2(n,t);return r<-.5*sn&&(r+=Fn),{angle:r,distance:i}}function rb(s,e){return Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))}function rO(s,e){return(s-e+ZF)%Fn-sn}function Go(s){return(s%Fn+Fn)%Fn}function K1(s,e,t,n){const i=Go(s),r=Go(e),o=Go(t),l=Go(r-i),u=Go(o-i),d=Go(i-r),f=Go(i-o);return i===r||i===o||n&&r===o||l>u&&d<f}function Qn(s,e,t){return Math.max(e,Math.min(t,s))}function oO(s){return Qn(s,-32768,32767)}function Aa(s,e,t,n=1e-6){return s>=Math.min(e,t)-n&&s<=Math.max(e,t)+n}function Y1(s,e,t){t=t||(o=>s[o]<e);let n=s.length-1,i=0,r;for(;n-i>1;)r=i+n>>1,t(r)?i=r:n=r;return{lo:i,hi:n}}const pl=(s,e,t,n)=>Y1(s,t,n?i=>{const r=s[i][e];return r<t||r===t&&s[i+1][e]===t}:i=>s[i][e]<t),aO=(s,e,t)=>Y1(s,t,n=>s[n][e]>=t);function lO(s,e,t){let n=0,i=s.length;for(;n<i&&s[n]<e;)n++;for(;i>n&&s[i-1]>t;)i--;return n>0||i<s.length?s.slice(n,i):s}const hk=["push","pop","shift","splice","unshift"];function cO(s,e){if(s._chartjs){s._chartjs.listeners.push(e);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),hk.forEach(t=>{const n="_onData"+X1(t),i=s[t];Object.defineProperty(s,t,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return s._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...r)}),o}})})}function hE(s,e){const t=s._chartjs;if(!t)return;const n=t.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(hk.forEach(r=>{delete s[r]}),delete s._chartjs)}function fk(s){const e=new Set(s);return e.size===s.length?s:Array.from(e)}const pk=function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame}();function mk(s,e){let t=[],n=!1;return function(...i){t=i,n||(n=!0,pk.call(window,()=>{n=!1,s.apply(e,t)}))}}function uO(s,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(s,e,n)):s.apply(this,n),e}}const J1=s=>s==="start"?"left":s==="end"?"right":"center",Yn=(s,e,t)=>s==="start"?e:s==="end"?t:(e+t)/2,dO=(s,e,t,n)=>s===(n?"left":"right")?t:s==="center"?(e+t)/2:e;function hO(s,e,t){const n=e.length;let i=0,r=n;if(s._sorted){const{iScale:o,_parsed:l}=s,u=o.axis,{min:d,max:f,minDefined:g,maxDefined:x}=o.getUserBounds();g&&(i=Qn(Math.min(pl(l,u,d).lo,t?n:pl(e,u,o.getPixelForValue(d)).lo),0,n-1)),x?r=Qn(Math.max(pl(l,o.axis,f,!0).hi+1,t?0:pl(e,u,o.getPixelForValue(f),!0).hi+1),i,n)-i:r=n-i}return{start:i,count:r}}function fO(s){const{xScale:e,yScale:t,_scaleRanges:n}=s,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return s._scaleRanges=i,!0;const r=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,i),r}const lg=s=>s===0||s===1,fE=(s,e,t)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-e)*Fn/t)),pE=(s,e,t)=>Math.pow(2,-10*s)*Math.sin((s-e)*Fn/t)+1,Gh={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*Dn)+1,easeOutSine:s=>Math.sin(s*Dn),easeInOutSine:s=>-.5*(Math.cos(sn*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>lg(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>lg(s)?s:fE(s,.075,.3),easeOutElastic:s=>lg(s)?s:pE(s,.075,.3),easeInOutElastic(s){return lg(s)?s:s<.5?.5*fE(s*2,.1125,.45):.5+.5*pE(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let e=1.70158;return(s/=.5)<1?.5*(s*s*(((e*=1.525)+1)*s-e)):.5*((s-=2)*s*(((e*=1.525)+1)*s+e)+2)},easeInBounce:s=>1-Gh.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?Gh.easeInBounce(s*2)*.5:Gh.easeOutBounce(s*2-1)*.5+.5};function Q1(s){if(s&&typeof s=="object"){const e=s.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function mE(s){return Q1(s)?s:new rf(s)}function Cy(s){return Q1(s)?s:new rf(s).saturate(.5).darken(.1).hexString()}const pO=["x","y","borderWidth","radius","tension"],mO=["color","borderColor","backgroundColor"];function gO(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),s.set("animations",{colors:{type:"color",properties:mO},numbers:{type:"number",properties:pO}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function xO(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const gE=new Map;function vO(s,e){e=e||{};const t=s+JSON.stringify(e);let n=gE.get(t);return n||(n=new Intl.NumberFormat(s,e),gE.set(t,n)),n}function gk(s,e,t){return vO(e,t).format(s)}const xk={values(s){return pn(s)?s:""+s},numeric(s,e,t){if(s===0)return"0";const n=this.chart.options.locale;let i,r=s;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),r=yO(s,t)}const o=ib(Math.abs(r)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),gk(s,n,u)},logarithmic(s,e,t){if(s===0)return"0";const n=t[e].significand||s/Math.pow(10,Math.floor(ib(s)));return[1,2,3,5,10,15].includes(n)||e>.8*t.length?xk.numeric.call(this,s,e,t):""}};function yO(s,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&s!==Math.floor(s)&&(t=s-Math.floor(s)),t}var vk={formatters:xk};function bO(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:vk.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const mc=Object.create(null),ob=Object.create(null);function Xh(s,e){if(!e)return s;const t=e.split(".");for(let n=0,i=t.length;n<i;++n){const r=t[n];s=s[r]||(s[r]=Object.create(null))}return s}function Ey(s,e,t){return typeof e=="string"?of(Xh(s,e),t):of(Xh(s,""),e)}class wO{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Cy(i.backgroundColor),this.hoverBorderColor=(n,i)=>Cy(i.borderColor),this.hoverColor=(n,i)=>Cy(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Ey(this,e,t)}get(e){return Xh(this,e)}describe(e,t){return Ey(ob,e,t)}override(e,t){return Ey(mc,e,t)}route(e,t,n,i){const r=Xh(this,e),o=Xh(this,n),l="_"+t;Object.defineProperties(r,{[l]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const u=this[l],d=o[i];return rt(u)?Object.assign({},d,u):Je(u,d)},set(u){this[l]=u}}})}apply(e){e.forEach(t=>t(this))}}var Yt=new wO({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[gO,xO,bO]);function _O(s){return!s||jt(s.size)||jt(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function xE(s,e,t,n,i){let r=e[i];return r||(r=e[i]=s.measureText(i).width,t.push(i)),r>n&&(n=r),n}function tl(s,e,t){const n=s.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*n)/n+i}function vE(s,e){!e&&!s||(e=e||s.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,s.width,s.height),e.restore())}function ab(s,e,t,n){yk(s,e,t,n,null)}function yk(s,e,t,n,i){let r,o,l,u,d,f,g,x;const y=e.pointStyle,b=e.rotation,w=e.radius;let S=(b||0)*eO;if(y&&typeof y=="object"&&(r=y.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){s.save(),s.translate(t,n),s.rotate(S),s.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),s.restore();return}if(!(isNaN(w)||w<=0)){switch(s.beginPath(),y){default:i?s.ellipse(t,n,i/2,w,0,0,Fn):s.arc(t,n,w,0,Fn),s.closePath();break;case"triangle":f=i?i/2:w,s.moveTo(t+Math.sin(S)*f,n-Math.cos(S)*w),S+=cE,s.lineTo(t+Math.sin(S)*f,n-Math.cos(S)*w),S+=cE,s.lineTo(t+Math.sin(S)*f,n-Math.cos(S)*w),s.closePath();break;case"rectRounded":d=w*.516,u=w-d,o=Math.cos(S+el)*u,g=Math.cos(S+el)*(i?i/2-d:u),l=Math.sin(S+el)*u,x=Math.sin(S+el)*(i?i/2-d:u),s.arc(t-g,n-l,d,S-sn,S-Dn),s.arc(t+x,n-o,d,S-Dn,S),s.arc(t+g,n+l,d,S,S+Dn),s.arc(t-x,n+o,d,S+Dn,S+sn),s.closePath();break;case"rect":if(!b){u=Math.SQRT1_2*w,f=i?i/2:u,s.rect(t-f,n-u,2*f,2*u);break}S+=el;case"rectRot":g=Math.cos(S)*(i?i/2:w),o=Math.cos(S)*w,l=Math.sin(S)*w,x=Math.sin(S)*(i?i/2:w),s.moveTo(t-g,n-l),s.lineTo(t+x,n-o),s.lineTo(t+g,n+l),s.lineTo(t-x,n+o),s.closePath();break;case"crossRot":S+=el;case"cross":g=Math.cos(S)*(i?i/2:w),o=Math.cos(S)*w,l=Math.sin(S)*w,x=Math.sin(S)*(i?i/2:w),s.moveTo(t-g,n-l),s.lineTo(t+g,n+l),s.moveTo(t+x,n-o),s.lineTo(t-x,n+o);break;case"star":g=Math.cos(S)*(i?i/2:w),o=Math.cos(S)*w,l=Math.sin(S)*w,x=Math.sin(S)*(i?i/2:w),s.moveTo(t-g,n-l),s.lineTo(t+g,n+l),s.moveTo(t+x,n-o),s.lineTo(t-x,n+o),S+=el,g=Math.cos(S)*(i?i/2:w),o=Math.cos(S)*w,l=Math.sin(S)*w,x=Math.sin(S)*(i?i/2:w),s.moveTo(t-g,n-l),s.lineTo(t+g,n+l),s.moveTo(t+x,n-o),s.lineTo(t-x,n+o);break;case"line":o=i?i/2:Math.cos(S)*w,l=Math.sin(S)*w,s.moveTo(t-o,n-l),s.lineTo(t+o,n+l);break;case"dash":s.moveTo(t,n),s.lineTo(t+Math.cos(S)*(i?i/2:w),n+Math.sin(S)*w);break;case!1:s.closePath();break}s.fill(),e.borderWidth>0&&s.stroke()}}function cf(s,e,t){return t=t||.5,!e||s&&s.x>e.left-t&&s.x<e.right+t&&s.y>e.top-t&&s.y<e.bottom+t}function Z1(s,e){s.save(),s.beginPath(),s.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),s.clip()}function ew(s){s.restore()}function SO(s,e,t,n,i){if(!e)return s.lineTo(t.x,t.y);if(i==="middle"){const r=(e.x+t.x)/2;s.lineTo(r,e.y),s.lineTo(r,t.y)}else i==="after"!=!!n?s.lineTo(e.x,t.y):s.lineTo(t.x,e.y);s.lineTo(t.x,t.y)}function CO(s,e,t,n){if(!e)return s.lineTo(t.x,t.y);s.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function EO(s,e){e.translation&&s.translate(e.translation[0],e.translation[1]),jt(e.rotation)||s.rotate(e.rotation),e.color&&(s.fillStyle=e.color),e.textAlign&&(s.textAlign=e.textAlign),e.textBaseline&&(s.textBaseline=e.textBaseline)}function AO(s,e,t,n,i){if(i.strikethrough||i.underline){const r=s.measureText(n),o=e-r.actualBoundingBoxLeft,l=e+r.actualBoundingBoxRight,u=t-r.actualBoundingBoxAscent,d=t+r.actualBoundingBoxDescent,f=i.strikethrough?(u+d)/2:d;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=i.decorationWidth||2,s.moveTo(o,f),s.lineTo(l,f),s.stroke()}}function kO(s,e){const t=s.fillStyle;s.fillStyle=e.color,s.fillRect(e.left,e.top,e.width,e.height),s.fillStyle=t}function uf(s,e,t,n,i,r={}){const o=pn(e)?e:[e],l=r.strokeWidth>0&&r.strokeColor!=="";let u,d;for(s.save(),s.font=i.string,EO(s,r),u=0;u<o.length;++u)d=o[u],r.backdrop&&kO(s,r.backdrop),l&&(r.strokeColor&&(s.strokeStyle=r.strokeColor),jt(r.strokeWidth)||(s.lineWidth=r.strokeWidth),s.strokeText(d,t,n,r.maxWidth)),s.fillText(d,t,n,r.maxWidth),AO(s,t,n,d,r),n+=Number(i.lineHeight);s.restore()}function w0(s,e){const{x:t,y:n,w:i,h:r,radius:o}=e;s.arc(t+o.topLeft,n+o.topLeft,o.topLeft,1.5*sn,sn,!0),s.lineTo(t,n+r-o.bottomLeft),s.arc(t+o.bottomLeft,n+r-o.bottomLeft,o.bottomLeft,sn,Dn,!0),s.lineTo(t+i-o.bottomRight,n+r),s.arc(t+i-o.bottomRight,n+r-o.bottomRight,o.bottomRight,Dn,0,!0),s.lineTo(t+i,n+o.topRight),s.arc(t+i-o.topRight,n+o.topRight,o.topRight,0,-Dn,!0),s.lineTo(t+o.topLeft,n)}const jO=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,NO=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function TO(s,e){const t=(""+s).match(jO);if(!t||t[1]==="normal")return e*1.2;switch(s=+t[2],t[3]){case"px":return s;case"%":s/=100;break}return e*s}const PO=s=>+s||0;function tw(s,e){const t={},n=rt(e),i=n?Object.keys(e):e,r=rt(s)?n?o=>Je(s[o],s[e[o]]):o=>s[o]:()=>s;for(const o of i)t[o]=PO(r(o));return t}function bk(s){return tw(s,{top:"y",right:"x",bottom:"y",left:"x"})}function cu(s){return tw(s,["topLeft","topRight","bottomLeft","bottomRight"])}function yi(s){const e=bk(s);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Zn(s,e){s=s||{},e=e||Yt.font;let t=Je(s.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=Je(s.style,e.style);n&&!(""+n).match(NO)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:Je(s.family,e.family),lineHeight:TO(Je(s.lineHeight,e.lineHeight),t),size:t,style:n,weight:Je(s.weight,e.weight),string:""};return i.string=_O(i),i}function cg(s,e,t,n){let i,r,o;for(i=0,r=s.length;i<r;++i)if(o=s[i],o!==void 0&&o!==void 0)return o}function RO(s,e,t){const{min:n,max:i}=s,r=GF(e,(i-n)/2),o=(l,u)=>t&&l===0?0:l+u;return{min:o(n,-Math.abs(r)),max:o(i,r)}}function Sc(s,e){return Object.assign(Object.create(s),e)}function nw(s,e=[""],t,n,i=()=>s[0]){const r=t||s;typeof n>"u"&&(n=Ck("_fallback",s));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:r,_fallback:n,_getTarget:i,override:l=>nw([l,...s],e,r,n)};return new Proxy(o,{deleteProperty(l,u){return delete l[u],delete l._keys,delete s[0][u],!0},get(l,u){return _k(l,u,()=>BO(u,e,s,l))},getOwnPropertyDescriptor(l,u){return Reflect.getOwnPropertyDescriptor(l._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(l,u){return bE(l).includes(u)},ownKeys(l){return bE(l)},set(l,u,d){const f=l._storage||(l._storage=i());return l[u]=f[u]=d,delete l._keys,!0}})}function gd(s,e,t,n){const i={_cacheable:!1,_proxy:s,_context:e,_subProxy:t,_stack:new Set,_descriptors:wk(s,n),setContext:r=>gd(s,r,t,n),override:r=>gd(s.override(r),e,t,n)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete s[o],!0},get(r,o,l){return _k(r,o,()=>IO(r,o,l))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(s,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,o)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(r,o){return Reflect.has(s,o)},ownKeys(){return Reflect.ownKeys(s)},set(r,o,l){return s[o]=l,delete r[o],!0}})}function wk(s,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=s;return{allKeys:i,scriptable:t,indexable:n,isScriptable:Ta(t)?t:()=>t,isIndexable:Ta(n)?n:()=>n}}const LO=(s,e)=>s?s+X1(e):e,sw=(s,e)=>rt(e)&&s!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function _k(s,e,t){if(Object.prototype.hasOwnProperty.call(s,e)||e==="constructor")return s[e];const n=t();return s[e]=n,n}function IO(s,e,t){const{_proxy:n,_context:i,_subProxy:r,_descriptors:o}=s;let l=n[e];return Ta(l)&&o.isScriptable(e)&&(l=MO(e,l,s,t)),pn(l)&&l.length&&(l=DO(e,l,s,o.isIndexable)),sw(e,l)&&(l=gd(l,i,r&&r[e],o)),l}function MO(s,e,t,n){const{_proxy:i,_context:r,_subProxy:o,_stack:l}=t;if(l.has(s))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+s);l.add(s);let u=e(r,o||n);return l.delete(s),sw(s,u)&&(u=iw(i._scopes,i,s,u)),u}function DO(s,e,t,n){const{_proxy:i,_context:r,_subProxy:o,_descriptors:l}=t;if(typeof r.index<"u"&&n(s))return e[r.index%e.length];if(rt(e[0])){const u=e,d=i._scopes.filter(f=>f!==u);e=[];for(const f of u){const g=iw(d,i,s,f);e.push(gd(g,r,o&&o[s],l))}}return e}function Sk(s,e,t){return Ta(s)?s(e,t):s}const FO=(s,e)=>s===!0?e:typeof s=="string"?md(e,s):void 0;function OO(s,e,t,n,i){for(const r of e){const o=FO(t,r);if(o){s.add(o);const l=Sk(o._fallback,t,i);if(typeof l<"u"&&l!==t&&l!==n)return l}else if(o===!1&&typeof n<"u"&&t!==n)return null}return!1}function iw(s,e,t,n){const i=e._rootScopes,r=Sk(e._fallback,t,n),o=[...s,...i],l=new Set;l.add(n);let u=yE(l,o,t,r||t,n);return u===null||typeof r<"u"&&r!==t&&(u=yE(l,o,r,u,n),u===null)?!1:nw(Array.from(l),[""],i,r,()=>zO(e,t,n))}function yE(s,e,t,n,i){for(;t;)t=OO(s,e,t,n,i);return t}function zO(s,e,t){const n=s._getTarget();e in n||(n[e]={});const i=n[e];return pn(i)&&rt(t)?t:i||{}}function BO(s,e,t,n){let i;for(const r of e)if(i=Ck(LO(r,s),t),typeof i<"u")return sw(s,i)?iw(t,n,s,i):i}function Ck(s,e){for(const t of e){if(!t)continue;const n=t[s];if(typeof n<"u")return n}}function bE(s){let e=s._keys;return e||(e=s._keys=HO(s._scopes)),e}function HO(s){const e=new Set;for(const t of s)for(const n of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}const VO=Number.EPSILON||1e-14,xd=(s,e)=>e<s.length&&!s[e].skip&&s[e],Ek=s=>s==="x"?"y":"x";function $O(s,e,t,n){const i=s.skip?e:s,r=e,o=t.skip?e:t,l=rb(r,i),u=rb(o,r);let d=l/(l+u),f=u/(l+u);d=isNaN(d)?0:d,f=isNaN(f)?0:f;const g=n*d,x=n*f;return{previous:{x:r.x-g*(o.x-i.x),y:r.y-g*(o.y-i.y)},next:{x:r.x+x*(o.x-i.x),y:r.y+x*(o.y-i.y)}}}function UO(s,e,t){const n=s.length;let i,r,o,l,u,d=xd(s,0);for(let f=0;f<n-1;++f)if(u=d,d=xd(s,f+1),!(!u||!d)){if(qh(e[f],0,VO)){t[f]=t[f+1]=0;continue}i=t[f]/e[f],r=t[f+1]/e[f],l=Math.pow(i,2)+Math.pow(r,2),!(l<=9)&&(o=3/Math.sqrt(l),t[f]=i*o*e[f],t[f+1]=r*o*e[f])}}function WO(s,e,t="x"){const n=Ek(t),i=s.length;let r,o,l,u=xd(s,0);for(let d=0;d<i;++d){if(o=l,l=u,u=xd(s,d+1),!l)continue;const f=l[t],g=l[n];o&&(r=(f-o[t])/3,l[`cp1${t}`]=f-r,l[`cp1${n}`]=g-r*e[d]),u&&(r=(u[t]-f)/3,l[`cp2${t}`]=f+r,l[`cp2${n}`]=g+r*e[d])}}function qO(s,e="x"){const t=Ek(e),n=s.length,i=Array(n).fill(0),r=Array(n);let o,l,u,d=xd(s,0);for(o=0;o<n;++o)if(l=u,u=d,d=xd(s,o+1),!!u){if(d){const f=d[e]-u[e];i[o]=f!==0?(d[t]-u[t])/f:0}r[o]=l?d?Er(i[o-1])!==Er(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}UO(s,i,r),WO(s,r,e)}function ug(s,e,t){return Math.max(Math.min(s,t),e)}function GO(s,e){let t,n,i,r,o,l=cf(s[0],e);for(t=0,n=s.length;t<n;++t)o=r,r=l,l=t<n-1&&cf(s[t+1],e),r&&(i=s[t],o&&(i.cp1x=ug(i.cp1x,e.left,e.right),i.cp1y=ug(i.cp1y,e.top,e.bottom)),l&&(i.cp2x=ug(i.cp2x,e.left,e.right),i.cp2y=ug(i.cp2y,e.top,e.bottom)))}function XO(s,e,t,n,i){let r,o,l,u;if(e.spanGaps&&(s=s.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")qO(s,i);else{let d=n?s[s.length-1]:s[0];for(r=0,o=s.length;r<o;++r)l=s[r],u=$O(d,l,s[Math.min(r+1,o-(n?0:1))%o],e.tension),l.cp1x=u.previous.x,l.cp1y=u.previous.y,l.cp2x=u.next.x,l.cp2y=u.next.y,d=l}e.capBezierPoints&&GO(s,t)}function rw(){return typeof window<"u"&&typeof document<"u"}function ow(s){let e=s.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function _0(s,e,t){let n;return typeof s=="string"?(n=parseInt(s,10),s.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=s,n}const ox=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function KO(s,e){return ox(s).getPropertyValue(e)}const YO=["top","right","bottom","left"];function fc(s,e,t){const n={};t=t?"-"+t:"";for(let i=0;i<4;i++){const r=YO[i];n[r]=parseFloat(s[e+"-"+r+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const JO=(s,e,t)=>(s>0||e>0)&&(!t||!t.shadowRoot);function QO(s,e){const t=s.touches,n=t&&t.length?t[0]:s,{offsetX:i,offsetY:r}=n;let o=!1,l,u;if(JO(i,r,s.target))l=i,u=r;else{const d=e.getBoundingClientRect();l=n.clientX-d.left,u=n.clientY-d.top,o=!0}return{x:l,y:u,box:o}}function il(s,e){if("native"in s)return s;const{canvas:t,currentDevicePixelRatio:n}=e,i=ox(t),r=i.boxSizing==="border-box",o=fc(i,"padding"),l=fc(i,"border","width"),{x:u,y:d,box:f}=QO(s,t),g=o.left+(f&&l.left),x=o.top+(f&&l.top);let{width:y,height:b}=e;return r&&(y-=o.width+l.width,b-=o.height+l.height),{x:Math.round((u-g)/y*t.width/n),y:Math.round((d-x)/b*t.height/n)}}function ZO(s,e,t){let n,i;if(e===void 0||t===void 0){const r=s&&ow(s);if(!r)e=s.clientWidth,t=s.clientHeight;else{const o=r.getBoundingClientRect(),l=ox(r),u=fc(l,"border","width"),d=fc(l,"padding");e=o.width-d.width-u.width,t=o.height-d.height-u.height,n=_0(l.maxWidth,r,"clientWidth"),i=_0(l.maxHeight,r,"clientHeight")}}return{width:e,height:t,maxWidth:n||b0,maxHeight:i||b0}}const dg=s=>Math.round(s*10)/10;function e4(s,e,t,n){const i=ox(s),r=fc(i,"margin"),o=_0(i.maxWidth,s,"clientWidth")||b0,l=_0(i.maxHeight,s,"clientHeight")||b0,u=ZO(s,e,t);let{width:d,height:f}=u;if(i.boxSizing==="content-box"){const x=fc(i,"border","width"),y=fc(i,"padding");d-=y.width+x.width,f-=y.height+x.height}return d=Math.max(0,d-r.width),f=Math.max(0,n?d/n:f-r.height),d=dg(Math.min(d,o,u.maxWidth)),f=dg(Math.min(f,l,u.maxHeight)),d&&!f&&(f=dg(d/2)),(e!==void 0||t!==void 0)&&n&&u.height&&f>u.height&&(f=u.height,d=dg(Math.floor(f*n))),{width:d,height:f}}function wE(s,e,t){const n=e||1,i=Math.floor(s.height*n),r=Math.floor(s.width*n);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const o=s.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${s.height}px`,o.style.width=`${s.width}px`),s.currentDevicePixelRatio!==n||o.height!==i||o.width!==r?(s.currentDevicePixelRatio=n,o.height=i,o.width=r,s.ctx.setTransform(n,0,0,n,0,0),!0):!1}const t4=function(){let s=!1;try{const e={get passive(){return s=!0,!1}};rw()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return s}();function _E(s,e){const t=KO(s,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function rl(s,e,t,n){return{x:s.x+t*(e.x-s.x),y:s.y+t*(e.y-s.y)}}function n4(s,e,t,n){return{x:s.x+t*(e.x-s.x),y:n==="middle"?t<.5?s.y:e.y:n==="after"?t<1?s.y:e.y:t>0?e.y:s.y}}function s4(s,e,t,n){const i={x:s.cp2x,y:s.cp2y},r={x:e.cp1x,y:e.cp1y},o=rl(s,i,t),l=rl(i,r,t),u=rl(r,e,t),d=rl(o,l,t),f=rl(l,u,t);return rl(d,f,t)}const i4=function(s,e){return{x(t){return s+s+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},r4=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,e){return s+e},leftForLtr(s,e){return s}}};function uu(s,e,t){return s?i4(e,t):r4()}function Ak(s,e){let t,n;(e==="ltr"||e==="rtl")&&(t=s.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),s.prevTextDirection=n)}function kk(s,e){e!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",e[0],e[1]))}function jk(s){return s==="angle"?{between:K1,compare:rO,normalize:Go}:{between:Aa,compare:(e,t)=>e-t,normalize:e=>e}}function SE({start:s,end:e,count:t,loop:n,style:i}){return{start:s%t,end:e%t,loop:n&&(e-s+1)%t===0,style:i}}function o4(s,e,t){const{property:n,start:i,end:r}=t,{between:o,normalize:l}=jk(n),u=e.length;let{start:d,end:f,loop:g}=s,x,y;if(g){for(d+=u,f+=u,x=0,y=u;x<y&&o(l(e[d%u][n]),i,r);++x)d--,f--;d%=u,f%=u}return f<d&&(f+=u),{start:d,end:f,loop:g,style:s.style}}function a4(s,e,t){if(!t)return[s];const{property:n,start:i,end:r}=t,o=e.length,{compare:l,between:u,normalize:d}=jk(n),{start:f,end:g,loop:x,style:y}=o4(s,e,t),b=[];let w=!1,S=null,C,j,A;const k=()=>u(i,A,C)&&l(i,A)!==0,T=()=>l(r,C)===0||u(r,A,C),I=()=>w||k(),M=()=>!w||T();for(let F=f,B=f;F<=g;++F)j=e[F%o],!j.skip&&(C=d(j[n]),C!==A&&(w=u(C,i,r),S===null&&I()&&(S=l(C,i)===0?F:B),S!==null&&M()&&(b.push(SE({start:S,end:F,loop:x,count:o,style:y})),S=null),B=F,A=C));return S!==null&&b.push(SE({start:S,end:g,loop:x,count:o,style:y})),b}function l4(s,e){const t=[],n=s.segments;for(let i=0;i<n.length;i++){const r=a4(n[i],s.points,e);r.length&&t.push(...r)}return t}function c4(s,e,t,n){let i=0,r=e-1;if(t&&!n)for(;i<e&&!s[i].skip;)i++;for(;i<e&&s[i].skip;)i++;for(i%=e,t&&(r+=i);r>i&&s[r%e].skip;)r--;return r%=e,{start:i,end:r}}function u4(s,e,t,n){const i=s.length,r=[];let o=e,l=s[e],u;for(u=e+1;u<=t;++u){const d=s[u%i];d.skip||d.stop?l.skip||(n=!1,r.push({start:e%i,end:(u-1)%i,loop:n}),e=o=d.stop?u:null):(o=u,l.skip&&(e=u)),l=d}return o!==null&&r.push({start:e%i,end:o%i,loop:n}),r}function d4(s,e){const t=s.points,n=s.options.spanGaps,i=t.length;if(!i)return[];const r=!!s._loop,{start:o,end:l}=c4(t,i,r,n);if(n===!0)return CE(s,[{start:o,end:l,loop:r}],t,e);const u=l<o?l+i:l,d=!!s._fullLoop&&o===0&&l===i-1;return CE(s,u4(t,o,u,d),t,e)}function CE(s,e,t,n){return!n||!n.setContext||!t?e:h4(s,e,t,n)}function h4(s,e,t,n){const i=s._chart.getContext(),r=EE(s.options),{_datasetIndex:o,options:{spanGaps:l}}=s,u=t.length,d=[];let f=r,g=e[0].start,x=g;function y(b,w,S,C){const j=l?-1:1;if(b!==w){for(b+=u;t[b%u].skip;)b-=j;for(;t[w%u].skip;)w+=j;b%u!==w%u&&(d.push({start:b%u,end:w%u,loop:S,style:C}),f=C,g=w%u)}}for(const b of e){g=l?g:b.start;let w=t[g%u],S;for(x=g+1;x<=b.end;x++){const C=t[x%u];S=EE(n.setContext(Sc(i,{type:"segment",p0:w,p1:C,p0DataIndex:(x-1)%u,p1DataIndex:x%u,datasetIndex:o}))),f4(S,f)&&y(g,x-1,b.loop,f),w=C,f=S}g<x-1&&y(g,x-1,b.loop,f)}return d}function EE(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function f4(s,e){if(!e)return!1;const t=[],n=function(i,r){return Q1(r)?(t.includes(r)||t.push(r),t.indexOf(r)):r};return JSON.stringify(s,n)!==JSON.stringify(e,n)}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class p4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const r=t.listeners[i],o=t.duration;r.forEach(l=>l({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=pk.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let o=r.length-1,l=!1,u;for(;o>=0;--o)u=r[o],u._active?(u._total>n.duration&&(n.duration=u._total),u.tick(e),l=!0):(r[o]=r[r.length-1],r.pop());l&&(i.draw(),this._notify(i,n,e,"progress")),r.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=r.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Br=new p4;const AE="transparent",m4={boolean(s,e,t){return t>.5?e:s},color(s,e,t){const n=mE(s||AE),i=n.valid&&mE(e||AE);return i&&i.valid?i.mix(n,t).hexString():e},number(s,e,t){return s+(e-s)*t}};class g4{constructor(e,t,n,i){const r=t[n];i=cg([e.to,i,r,e.from]);const o=cg([e.from,r,i]);this._active=!0,this._fn=e.fn||m4[e.type||typeof o],this._easing=Gh[e.easing]||Gh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,o=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=cg([e.to,t,i,e.from]),this._from=cg([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,r=this._from,o=this._loop,l=this._to;let u;if(this._active=r!==l&&(o||t<n),!this._active){this._target[i]=l,this._notify(!0);return}if(t<0){this._target[i]=r;return}u=t/n%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[i]=this._fn(r,l,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}}class Nk{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!rt(e))return;const t=Object.keys(Yt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!rt(r))return;const o={};for(const l of t)o[l]=r[l];(pn(r.properties)&&r.properties||[i]).forEach(l=>{(l===i||!n.has(l))&&n.set(l,o)})})}_animateOptions(e,t){const n=t.options,i=v4(e,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&x4(e.options.$animations,n).then(()=>{e.options=n},()=>{}),r}_createAnimations(e,t){const n=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(t),l=Date.now();let u;for(u=o.length-1;u>=0;--u){const d=o[u];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(e,t));continue}const f=t[d];let g=r[d];const x=n.get(d);if(g)if(x&&g.active()){g.update(x,f,l);continue}else g.cancel();if(!x||!x.duration){e[d]=f;continue}r[d]=g=new g4(x,e,d,f),i.push(g)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const n=this._createAnimations(e,t);if(n.length)return Br.add(this._chart,n),!0}}function x4(s,e){const t=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const r=s[n[i]];r&&r.active()&&t.push(r.wait())}return Promise.all(t)}function v4(s,e){if(!e)return;let t=s.options;if(!t){s.options=e;return}return t.$shared&&(s.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function kE(s,e){const t=s&&s.options||{},n=t.reverse,i=t.min===void 0?e:0,r=t.max===void 0?e:0;return{start:n?r:i,end:n?i:r}}function y4(s,e,t){if(t===!1)return!1;const n=kE(s,t),i=kE(e,t);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function b4(s){let e,t,n,i;return rt(s)?(e=s.top,t=s.right,n=s.bottom,i=s.left):e=t=n=i=s,{top:e,right:t,bottom:n,left:i,disabled:s===!1}}function Tk(s,e){const t=[],n=s._getSortedDatasetMetas(e);let i,r;for(i=0,r=n.length;i<r;++i)t.push(n[i].index);return t}function jE(s,e,t,n={}){const i=s.keys,r=n.mode==="single";let o,l,u,d;if(e===null)return;let f=!1;for(o=0,l=i.length;o<l;++o){if(u=+i[o],u===t){if(f=!0,n.all)continue;break}d=s.values[u],vi(d)&&(r||e===0||Er(e)===Er(d))&&(e+=d)}return!f&&!n.all?0:e}function w4(s,e){const{iScale:t,vScale:n}=e,i=t.axis==="x"?"x":"y",r=n.axis==="x"?"x":"y",o=Object.keys(s),l=new Array(o.length);let u,d,f;for(u=0,d=o.length;u<d;++u)f=o[u],l[u]={[i]:f,[r]:s[f]};return l}function Ay(s,e){const t=s&&s.options.stacked;return t||t===void 0&&e.stack!==void 0}function _4(s,e,t){return`${s.id}.${e.id}.${t.stack||t.type}`}function S4(s){const{min:e,max:t,minDefined:n,maxDefined:i}=s.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function C4(s,e,t){const n=s[e]||(s[e]={});return n[t]||(n[t]={})}function NE(s,e,t,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const r=s[i.index];if(t&&r>0||!t&&r<0)return i.index}return null}function TE(s,e){const{chart:t,_cachedMeta:n}=s,i=t._stacks||(t._stacks={}),{iScale:r,vScale:o,index:l}=n,u=r.axis,d=o.axis,f=_4(r,o,n),g=e.length;let x;for(let y=0;y<g;++y){const b=e[y],{[u]:w,[d]:S}=b,C=b._stacks||(b._stacks={});x=C[d]=C4(i,f,w),x[l]=S,x._top=NE(x,o,!0,n.type),x._bottom=NE(x,o,!1,n.type);const j=x._visualValues||(x._visualValues={});j[l]=S}}function ky(s,e){const t=s.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function E4(s,e){return Sc(s,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function A4(s,e,t){return Sc(s,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function fh(s,e){const t=s.controller.index,n=s.vScale&&s.vScale.axis;if(n){e=e||s._parsed;for(const i of e){const r=i._stacks;if(!r||r[n]===void 0||r[n][t]===void 0)return;delete r[n][t],r[n]._visualValues!==void 0&&r[n]._visualValues[t]!==void 0&&delete r[n]._visualValues[t]}}}const jy=s=>s==="reset"||s==="none",PE=(s,e)=>e?s:Object.assign({},s),k4=(s,e,t)=>s&&!e.hidden&&e._stacked&&{keys:Tk(t,!0),values:null};class du{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ay(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&fh(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(g,x,y,b)=>g==="x"?x:g==="r"?b:y,r=t.xAxisID=Je(n.xAxisID,ky(e,"x")),o=t.yAxisID=Je(n.yAxisID,ky(e,"y")),l=t.rAxisID=Je(n.rAxisID,ky(e,"r")),u=t.indexAxis,d=t.iAxisID=i(u,r,o,l),f=t.vAxisID=i(u,o,r,l);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&hE(this._data,this),e._stacked&&fh(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(rt(t)){const i=this._cachedMeta;this._data=w4(t,i)}else if(n!==t){if(n){hE(n,this);const i=this._cachedMeta;fh(i),i._parsed=[]}t&&Object.isExtensible(t)&&cO(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=t._stacked;t._stacked=Ay(t.vScale,t),t.stack!==n.stack&&(i=!0,fh(t),t.stack=n.stack),this._resyncElements(e),(i||r!==t._stacked)&&(TE(this,t._parsed),t._stacked=Ay(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:o}=n,l=r.axis;let u=e===0&&t===i.length?!0:n._sorted,d=e>0&&n._parsed[e-1],f,g,x;if(this._parsing===!1)n._parsed=i,n._sorted=!0,x=i;else{pn(i[e])?x=this.parseArrayData(n,i,e,t):rt(i[e])?x=this.parseObjectData(n,i,e,t):x=this.parsePrimitiveData(n,i,e,t);const y=()=>g[l]===null||d&&g[l]<d[l];for(f=0;f<t;++f)n._parsed[f+e]=g=x[f],u&&(y()&&(u=!1),d=g);n._sorted=u}o&&TE(this,x)}parsePrimitiveData(e,t,n,i){const{iScale:r,vScale:o}=e,l=r.axis,u=o.axis,d=r.getLabels(),f=r===o,g=new Array(i);let x,y,b;for(x=0,y=i;x<y;++x)b=x+n,g[x]={[l]:f||r.parse(d[b],b),[u]:o.parse(t[b],b)};return g}parseArrayData(e,t,n,i){const{xScale:r,yScale:o}=e,l=new Array(i);let u,d,f,g;for(u=0,d=i;u<d;++u)f=u+n,g=t[f],l[u]={x:r.parse(g[0],f),y:o.parse(g[1],f)};return l}parseObjectData(e,t,n,i){const{xScale:r,yScale:o}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=new Array(i);let f,g,x,y;for(f=0,g=i;f<g;++f)x=f+n,y=t[x],d[f]={x:r.parse(md(y,l),x),y:o.parse(md(y,u),x)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,r=this._cachedMeta,o=t[e.axis],l={keys:Tk(i,!0),values:t._stacks[e.axis]._visualValues};return jE(l,o,r.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const r=n[t.axis];let o=r===null?NaN:r;const l=i&&n._stacks[t.axis];i&&l&&(i.values=l,o=jE(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&e===n.iScale,o=i.length,l=this._getOtherScale(e),u=k4(t,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:g}=S4(l);let x,y;function b(){y=i[x];const w=y[l.axis];return!vi(y[e.axis])||f>w||g<w}for(x=0;x<o&&!(!b()&&(this.updateRangeFromParsed(d,e,y,u),r));++x);if(r){for(x=o-1;x>=0;--x)if(!b()){this.updateRangeFromParsed(d,e,y,u);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,r,o;for(i=0,r=t.length;i<r;++i)o=t[i][e.axis],vi(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=b4(Je(this.options.clip,y4(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],r=t.chartArea,o=[],l=this._drawStart||0,u=this._drawCount||i.length-l,d=this.options.drawActiveElementsOnTop;let f;for(n.dataset&&n.dataset.draw(e,r,l,u),f=l;f<l+u;++f){const g=i[f];g.hidden||(g.active&&d?o.push(g):g.draw(e,r))}for(f=0;f<o.length;++f)o[f].draw(e,r)}getStyle(e,t){const n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=A4(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=E4(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const i=t==="active",r=this._cachedDataOpts,o=e+"-"+t,l=r[o],u=this.enableOptionSharing&&af(n);if(l)return PE(l,u);const d=this.chart.config,f=d.datasetElementScopeKeys(this._type,e),g=i?[`${e}Hover`,"hover",e,""]:[e,""],x=d.getOptionScopes(this.getDataset(),f),y=Object.keys(Yt.elements[e]),b=()=>this.getContext(n,i,t),w=d.resolveNamedOptions(x,y,b,g);return w.$shared&&(w.$shared=u,r[o]=Object.freeze(PE(w,u))),w}_resolveAnimations(e,t,n){const i=this.chart,r=this._cachedDataOpts,o=`animation-${t}`,l=r[o];if(l)return l;let u;if(i.options.animation!==!1){const f=this.chart.config,g=f.datasetAnimationScopeKeys(this._type,t),x=f.getOptionScopes(this.getDataset(),g);u=f.createResolver(x,this.getContext(e,n,t))}const d=new Nk(i,u&&u.animations);return u&&u._cacheable&&(r[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||jy(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,r=this.getSharedOptions(n),o=this.includeOptions(t,r)||r!==i;return this.updateSharedOptions(r,t,n),{sharedOptions:r,includeOptions:o}}updateElement(e,t,n,i){jy(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!jy(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const r=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[l,u,d]of this._syncList)this[l](u,d);this._syncList=[];const i=n.length,r=t.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,t,n=!0){const i=this._cachedMeta,r=i.data,o=e+t;let l;const u=d=>{for(d.length+=t,l=d.length-1;l>=o;l--)d[l]=d[l-t]};for(u(r),l=e;l<o;++l)r[l]=new this.dataElementType;this._parsing&&u(i._parsed),this.parse(e,t),n&&this.updateElements(r,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&fh(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ae(du,"defaults",{}),ae(du,"datasetElementType",null),ae(du,"dataElementType",null);function j4(s,e){if(!s._cache.$bar){const t=s.getMatchingVisibleMetas(e);let n=[];for(let i=0,r=t.length;i<r;i++)n=n.concat(t[i].controller.getAllParsedValues(s));s._cache.$bar=fk(n.sort((i,r)=>i-r))}return s._cache.$bar}function N4(s){const e=s.iScale,t=j4(e,s.type);let n=e._length,i,r,o,l;const u=()=>{o===32767||o===-32768||(af(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(i=0,r=t.length;i<r;++i)o=e.getPixelForValue(t[i]),u();for(l=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),u();return n}function T4(s,e,t,n){const i=t.barThickness;let r,o;return jt(i)?(r=e.min*t.categoryPercentage,o=t.barPercentage):(r=i*n,o=1),{chunk:r/n,ratio:o,start:e.pixels[s]-r/2}}function P4(s,e,t,n){const i=e.pixels,r=i[s];let o=s>0?i[s-1]:null,l=s<i.length-1?i[s+1]:null;const u=t.categoryPercentage;o===null&&(o=r-(l===null?e.end-e.start:l-r)),l===null&&(l=r+r-o);const d=r-(r-Math.min(o,l))/2*u;return{chunk:Math.abs(l-o)/2*u/n,ratio:t.barPercentage,start:d}}function R4(s,e,t,n){const i=t.parse(s[0],n),r=t.parse(s[1],n),o=Math.min(i,r),l=Math.max(i,r);let u=o,d=l;Math.abs(o)>Math.abs(l)&&(u=l,d=o),e[t.axis]=d,e._custom={barStart:u,barEnd:d,start:i,end:r,min:o,max:l}}function Pk(s,e,t,n){return pn(s)?R4(s,e,t,n):e[t.axis]=t.parse(s,n),e}function RE(s,e,t,n){const i=s.iScale,r=s.vScale,o=i.getLabels(),l=i===r,u=[];let d,f,g,x;for(d=t,f=t+n;d<f;++d)x=e[d],g={},g[i.axis]=l||i.parse(o[d],d),u.push(Pk(x,g,r,d));return u}function Ny(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function L4(s,e,t){return s!==0?Er(s):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function I4(s){let e,t,n,i,r;return s.horizontal?(e=s.base>s.x,t="left",n="right"):(e=s.base<s.y,t="bottom",n="top"),e?(i="end",r="start"):(i="start",r="end"),{start:t,end:n,reverse:e,top:i,bottom:r}}function M4(s,e,t,n){let i=e.borderSkipped;const r={};if(!i){s.borderSkipped=r;return}if(i===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:u,top:d,bottom:f}=I4(s);i==="middle"&&t&&(s.enableBorderRadius=!0,(t._top||0)===n?i=d:(t._bottom||0)===n?i=f:(r[LE(f,o,l,u)]=!0,i=d)),r[LE(i,o,l,u)]=!0,s.borderSkipped=r}function LE(s,e,t,n){return n?(s=D4(s,e,t),s=IE(s,t,e)):s=IE(s,e,t),s}function D4(s,e,t){return s===e?t:s===t?e:s}function IE(s,e,t){return s==="start"?e:s==="end"?t:s}function F4(s,{inflateAmount:e},t){s.inflateAmount=e==="auto"?t===1?.33:0:e}class jg extends du{parsePrimitiveData(e,t,n,i){return RE(e,t,n,i)}parseArrayData(e,t,n,i){return RE(e,t,n,i)}parseObjectData(e,t,n,i){const{iScale:r,vScale:o}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=r.axis==="x"?l:u,f=o.axis==="x"?l:u,g=[];let x,y,b,w;for(x=n,y=n+i;x<y;++x)w=t[x],b={},b[r.axis]=r.parse(md(w,d),x),g.push(Pk(md(w,f),b,o,x));return g}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);const r=n._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:i}=t,r=this.getParsed(e),o=r._custom,l=Ny(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:l}}=this,u=l.getBasePixel(),d=l.isHorizontal(),f=this._getRuler(),{sharedOptions:g,includeOptions:x}=this._getSharedOptions(t,i);for(let y=t;y<t+n;y++){const b=this.getParsed(y),w=r||jt(b[l.axis])?{base:u,head:u}:this._calculateBarValuePixels(y),S=this._calculateBarIndexPixels(y,f),C=(b._stacks||{})[l.axis],j={horizontal:d,base:w.base,enableBorderRadius:!C||Ny(b._custom)||o===C._top||o===C._bottom,x:d?w.head:S.center,y:d?S.center:w.head,height:d?S.size:Math.abs(w.size),width:d?Math.abs(w.size):S.size};x&&(j.options=g||this.resolveDataElementOptions(y,e[y].active?"active":i));const A=j.options||e[y].options;M4(j,A,C,o),F4(j,A,f.ratio),this.updateElement(e[y],y,j,i)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),r=n.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(t),u=l&&l[n.axis],d=f=>{const g=f._parsed.find(y=>y[n.axis]===u),x=g&&g[f.vScale.axis];if(jt(x)||isNaN(x))return!0};for(const f of i)if(!(t!==void 0&&d(f))&&((r===!1||o.indexOf(f.stack)===-1||r===void 0&&f.stack===void 0)&&o.push(f.stack),f.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const i=this._getStacks(e,n),r=t!==void 0?i.indexOf(t):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,i=[];let r,o;for(r=0,o=t.data.length;r<o;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const l=e.barThickness;return{min:l||N4(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:i},options:{base:r,minBarLength:o}}=this,l=r||0,u=this.getParsed(e),d=u._custom,f=Ny(d);let g=u[t.axis],x=0,y=n?this.applyStack(t,u,n):g,b,w;y!==g&&(x=y-g,y=g),f&&(g=d.barStart,y=d.barEnd-d.barStart,g!==0&&Er(g)!==Er(d.barEnd)&&(x=0),x+=g);const S=!jt(r)&&!f?r:x;let C=t.getPixelForValue(S);if(this.chart.getDataVisibility(e)?b=t.getPixelForValue(x+y):b=C,w=b-C,Math.abs(w)<o){w=L4(w,t,l)*o,g===l&&(C-=w/2);const j=t.getPixelForDecimal(0),A=t.getPixelForDecimal(1),k=Math.min(j,A),T=Math.max(j,A);C=Math.max(Math.min(C,T),k),b=C+w,n&&!f&&(u._stacks[t.axis]._visualValues[i]=t.getValueForPixel(b)-t.getValueForPixel(C))}if(C===t.getPixelForValue(l)){const j=Er(w)*t.getLineWidthForValue(l)/2;C+=j,w-=j}return{size:w,base:C,head:b,center:b+w/2}}_calculateBarIndexPixels(e,t){const n=t.scale,i=this.options,r=i.skipNull,o=Je(i.maxBarThickness,1/0);let l,u;if(t.grouped){const d=r?this._getStackCount(e):t.stackCount,f=i.barThickness==="flex"?P4(e,t,i,d):T4(e,t,i,d),g=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);l=f.start+f.chunk*g+f.chunk/2,u=Math.min(o,f.chunk*f.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),u=Math.min(o,t.min*t.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length;let r=0;for(;r<i;++r)this.getParsed(r)[t.axis]!==null&&!n[r].hidden&&n[r].draw(this._ctx)}}ae(jg,"id","bar"),ae(jg,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ae(jg,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Ng extends du{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=t,o=this.chart._animationsDisabled;let{start:l,count:u}=hO(t,i,o);this._drawStart=l,this._drawCount=u,fO(t)&&(l=0,u=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:d},e),this.updateElements(i,l,u,e)}updateElements(e,t,n,i){const r=i==="reset",{iScale:o,vScale:l,_stacked:u,_dataset:d}=this._cachedMeta,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(t,i),x=o.axis,y=l.axis,{spanGaps:b,segment:w}=this.options,S=lf(b)?b:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||r||i==="none",j=t+n,A=e.length;let k=t>0&&this.getParsed(t-1);for(let T=0;T<A;++T){const I=e[T],M=C?I:{};if(T<t||T>=j){M.skip=!0;continue}const F=this.getParsed(T),B=jt(F[y]),O=M[x]=o.getPixelForValue(F[x],T),W=M[y]=r||B?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,F,u):F[y],T);M.skip=isNaN(O)||isNaN(W)||B,M.stop=T>0&&Math.abs(F[x]-k[x])>S,w&&(M.parsed=F,M.raw=d.data[T]),g&&(M.options=f||this.resolveDataElementOptions(T,I.active?"active":i)),C||this.updateElement(I,T,M,i),k=F}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ae(Ng,"id","line"),ae(Ng,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ae(Ng,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function nl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class aw{constructor(e){ae(this,"options");this.options=e||{}}static override(e){Object.assign(aw.prototype,e)}init(){}formats(){return nl()}parse(){return nl()}format(){return nl()}add(){return nl()}diff(){return nl()}startOf(){return nl()}endOf(){return nl()}}var O4={_date:aw};function z4(s,e,t,n){const{controller:i,data:r,_sorted:o}=s,l=i._cachedMeta.iScale;if(l&&e===l.axis&&e!=="r"&&o&&r.length){const u=l._reversePixels?aO:pl;if(n){if(i._sharedOptions){const d=r[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const g=u(r,e,t-f),x=u(r,e,t+f);return{lo:g.lo,hi:x.hi}}}}else return u(r,e,t)}return{lo:0,hi:r.length-1}}function Bp(s,e,t,n,i){const r=s.getSortedVisibleDatasetMetas(),o=t[e];for(let l=0,u=r.length;l<u;++l){const{index:d,data:f}=r[l],{lo:g,hi:x}=z4(r[l],e,o,i);for(let y=g;y<=x;++y){const b=f[y];b.skip||n(b,d,y)}}}function B4(s){const e=s.indexOf("x")!==-1,t=s.indexOf("y")!==-1;return function(n,i){const r=e?Math.abs(n.x-i.x):0,o=t?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Ty(s,e,t,n,i){const r=[];return!i&&!s.isPointInArea(e)||Bp(s,t,e,function(l,u,d){!i&&!cf(l,s.chartArea,0)||l.inRange(e.x,e.y,n)&&r.push({element:l,datasetIndex:u,index:d})},!0),r}function H4(s,e,t,n){let i=[];function r(o,l,u){const{startAngle:d,endAngle:f}=o.getProps(["startAngle","endAngle"],n),{angle:g}=dk(o,{x:e.x,y:e.y});K1(g,d,f)&&i.push({element:o,datasetIndex:l,index:u})}return Bp(s,t,e,r),i}function V4(s,e,t,n,i,r){let o=[];const l=B4(t);let u=Number.POSITIVE_INFINITY;function d(f,g,x){const y=f.inRange(e.x,e.y,i);if(n&&!y)return;const b=f.getCenterPoint(i);if(!(!!r||s.isPointInArea(b))&&!y)return;const S=l(e,b);S<u?(o=[{element:f,datasetIndex:g,index:x}],u=S):S===u&&o.push({element:f,datasetIndex:g,index:x})}return Bp(s,t,e,d),o}function Py(s,e,t,n,i,r){return!r&&!s.isPointInArea(e)?[]:t==="r"&&!n?H4(s,e,t,i):V4(s,e,t,n,i,r)}function ME(s,e,t,n,i){const r=[],o=t==="x"?"inXRange":"inYRange";let l=!1;return Bp(s,t,e,(u,d,f)=>{u[o]&&u[o](e[t],i)&&(r.push({element:u,datasetIndex:d,index:f}),l=l||u.inRange(e.x,e.y,i))}),n&&!l?[]:r}var $4={evaluateInteractionItems:Bp,modes:{index(s,e,t,n){const i=il(e,s),r=t.axis||"x",o=t.includeInvisible||!1,l=t.intersect?Ty(s,i,r,n,o):Py(s,i,r,!1,n,o),u=[];return l.length?(s.getSortedVisibleDatasetMetas().forEach(d=>{const f=l[0].index,g=d.data[f];g&&!g.skip&&u.push({element:g,datasetIndex:d.index,index:f})}),u):[]},dataset(s,e,t,n){const i=il(e,s),r=t.axis||"xy",o=t.includeInvisible||!1;let l=t.intersect?Ty(s,i,r,n,o):Py(s,i,r,!1,n,o);if(l.length>0){const u=l[0].datasetIndex,d=s.getDatasetMeta(u).data;l=[];for(let f=0;f<d.length;++f)l.push({element:d[f],datasetIndex:u,index:f})}return l},point(s,e,t,n){const i=il(e,s),r=t.axis||"xy",o=t.includeInvisible||!1;return Ty(s,i,r,n,o)},nearest(s,e,t,n){const i=il(e,s),r=t.axis||"xy",o=t.includeInvisible||!1;return Py(s,i,r,t.intersect,n,o)},x(s,e,t,n){const i=il(e,s);return ME(s,i,"x",t.intersect,n)},y(s,e,t,n){const i=il(e,s);return ME(s,i,"y",t.intersect,n)}}};const Rk=["left","top","right","bottom"];function ph(s,e){return s.filter(t=>t.pos===e)}function DE(s,e){return s.filter(t=>Rk.indexOf(t.pos)===-1&&t.box.axis===e)}function mh(s,e){return s.sort((t,n)=>{const i=e?n:t,r=e?t:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function U4(s){const e=[];let t,n,i,r,o,l;for(t=0,n=(s||[]).length;t<n;++t)i=s[t],{position:r,options:{stack:o,stackWeight:l=1}}=i,e.push({index:t,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:l});return e}function W4(s){const e={};for(const t of s){const{stack:n,pos:i,stackWeight:r}=t;if(!n||!Rk.includes(i))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function q4(s,e){const t=W4(s),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let r,o,l;for(r=0,o=s.length;r<o;++r){l=s[r];const{fullSize:u}=l.box,d=t[l.stack],f=d&&l.stackWeight/d.weight;l.horizontal?(l.width=f?f*n:u&&e.availableWidth,l.height=i):(l.width=n,l.height=f?f*i:u&&e.availableHeight)}return t}function G4(s){const e=U4(s),t=mh(e.filter(d=>d.box.fullSize),!0),n=mh(ph(e,"left"),!0),i=mh(ph(e,"right")),r=mh(ph(e,"top"),!0),o=mh(ph(e,"bottom")),l=DE(e,"x"),u=DE(e,"y");return{fullSize:t,leftAndTop:n.concat(r),rightAndBottom:i.concat(u).concat(o).concat(l),chartArea:ph(e,"chartArea"),vertical:n.concat(i).concat(u),horizontal:r.concat(o).concat(l)}}function FE(s,e,t,n){return Math.max(s[t],e[t])+Math.max(s[n],e[n])}function Lk(s,e){s.top=Math.max(s.top,e.top),s.left=Math.max(s.left,e.left),s.bottom=Math.max(s.bottom,e.bottom),s.right=Math.max(s.right,e.right)}function X4(s,e,t,n){const{pos:i,box:r}=t,o=s.maxPadding;if(!rt(i)){t.size&&(s[i]-=t.size);const g=n[t.stack]||{size:0,count:1};g.size=Math.max(g.size,t.horizontal?r.height:r.width),t.size=g.size/g.count,s[i]+=t.size}r.getPadding&&Lk(o,r.getPadding());const l=Math.max(0,e.outerWidth-FE(o,s,"left","right")),u=Math.max(0,e.outerHeight-FE(o,s,"top","bottom")),d=l!==s.w,f=u!==s.h;return s.w=l,s.h=u,t.horizontal?{same:d,other:f}:{same:f,other:d}}function K4(s){const e=s.maxPadding;function t(n){const i=Math.max(e[n]-s[n],0);return s[n]+=i,i}s.y+=t("top"),s.x+=t("left"),t("right"),t("bottom")}function Y4(s,e){const t=e.maxPadding;function n(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],t[o])}),r}return n(s?["left","right"]:["top","bottom"])}function Sh(s,e,t,n){const i=[];let r,o,l,u,d,f;for(r=0,o=s.length,d=0;r<o;++r){l=s[r],u=l.box,u.update(l.width||e.w,l.height||e.h,Y4(l.horizontal,e));const{same:g,other:x}=X4(e,t,l,n);d|=g&&i.length,f=f||x,u.fullSize||i.push(l)}return d&&Sh(i,e,t,n)||f}function hg(s,e,t,n,i){s.top=t,s.left=e,s.right=e+n,s.bottom=t+i,s.width=n,s.height=i}function OE(s,e,t,n){const i=t.padding;let{x:r,y:o}=e;for(const l of s){const u=l.box,d=n[l.stack]||{count:1,placed:0,weight:1},f=l.stackWeight/d.weight||1;if(l.horizontal){const g=e.w*f,x=d.size||u.height;af(d.start)&&(o=d.start),u.fullSize?hg(u,i.left,o,t.outerWidth-i.right-i.left,x):hg(u,e.left+d.placed,o,g,x),d.start=o,d.placed+=g,o=u.bottom}else{const g=e.h*f,x=d.size||u.width;af(d.start)&&(r=d.start),u.fullSize?hg(u,r,i.top,x,t.outerHeight-i.bottom-i.top):hg(u,r,e.top+d.placed,x,g),d.start=r,d.placed+=g,r=u.right}}e.x=r,e.y=o}var gi={addBox(s,e){s.boxes||(s.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},s.boxes.push(e)},removeBox(s,e){const t=s.boxes?s.boxes.indexOf(e):-1;t!==-1&&s.boxes.splice(t,1)},configure(s,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(s,e,t,n){if(!s)return;const i=yi(s.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(t-i.height,0),l=G4(s.boxes),u=l.vertical,d=l.horizontal;gt(s.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const f=u.reduce((w,S)=>S.box.options&&S.box.options.display===!1?w:w+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/f,hBoxMaxHeight:o/2}),x=Object.assign({},i);Lk(x,yi(n));const y=Object.assign({maxPadding:x,w:r,h:o,x:i.left,y:i.top},i),b=q4(u.concat(d),g);Sh(l.fullSize,y,g,b),Sh(u,y,g,b),Sh(d,y,g,b)&&Sh(u,y,g,b),K4(y),OE(l.leftAndTop,y,g,b),y.x+=y.w,y.y+=y.h,OE(l.rightAndBottom,y,g,b),s.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},gt(l.chartArea,w=>{const S=w.box;Object.assign(S,s.chartArea),S.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class Ik{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class J4 extends Ik{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Tg="$chartjs",Q4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},zE=s=>s===null||s==="";function Z4(s,e){const t=s.style,n=s.getAttribute("height"),i=s.getAttribute("width");if(s[Tg]={initial:{height:n,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",zE(i)){const r=_E(s,"width");r!==void 0&&(s.width=r)}if(zE(n))if(s.style.height==="")s.height=s.width/(e||2);else{const r=_E(s,"height");r!==void 0&&(s.height=r)}return s}const Mk=t4?{passive:!0}:!1;function e5(s,e,t){s&&s.addEventListener(e,t,Mk)}function t5(s,e,t){s&&s.canvas&&s.canvas.removeEventListener(e,t,Mk)}function n5(s,e){const t=Q4[s.type]||s.type,{x:n,y:i}=il(s,e);return{type:t,chart:e,native:s,x:n!==void 0?n:null,y:i!==void 0?i:null}}function S0(s,e){for(const t of s)if(t===e||t.contains(e))return!0}function s5(s,e,t){const n=s.canvas,i=new MutationObserver(r=>{let o=!1;for(const l of r)o=o||S0(l.addedNodes,n),o=o&&!S0(l.removedNodes,n);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function i5(s,e,t){const n=s.canvas,i=new MutationObserver(r=>{let o=!1;for(const l of r)o=o||S0(l.removedNodes,n),o=o&&!S0(l.addedNodes,n);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const df=new Map;let BE=0;function Dk(){const s=window.devicePixelRatio;s!==BE&&(BE=s,df.forEach((e,t)=>{t.currentDevicePixelRatio!==s&&e()}))}function r5(s,e){df.size||window.addEventListener("resize",Dk),df.set(s,e)}function o5(s){df.delete(s),df.size||window.removeEventListener("resize",Dk)}function a5(s,e,t){const n=s.canvas,i=n&&ow(n);if(!i)return;const r=mk((l,u)=>{const d=i.clientWidth;t(l,u),d<i.clientWidth&&t()},window),o=new ResizeObserver(l=>{const u=l[0],d=u.contentRect.width,f=u.contentRect.height;d===0&&f===0||r(d,f)});return o.observe(i),r5(s,r),o}function Ry(s,e,t){t&&t.disconnect(),e==="resize"&&o5(s)}function l5(s,e,t){const n=s.canvas,i=mk(r=>{s.ctx!==null&&t(n5(r,s))},s);return e5(n,e,i),i}class c5 extends Ik{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(Z4(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Tg])return!1;const n=t[Tg].initial;["height","width"].forEach(r=>{const o=n[r];jt(o)?t.removeAttribute(r):t.setAttribute(r,o)});const i=n.style||{};return Object.keys(i).forEach(r=>{t.style[r]=i[r]}),t.width=t.width,delete t[Tg],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),o={attach:s5,detach:i5,resize:a5}[t]||l5;i[t]=o(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:Ry,detach:Ry,resize:Ry}[t]||t5)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return e4(e,t,n,i)}isAttached(e){const t=e&&ow(e);return!!(t&&t.isConnected)}}function u5(s){return!rw()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?J4:c5}class Xi{constructor(){ae(this,"x");ae(this,"y");ae(this,"active",!1);ae(this,"options");ae(this,"$animations")}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return lf(this.x)&&lf(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach(r=>{i[r]=n[r]&&n[r].active()?n[r]._to:this[r]}),i}}ae(Xi,"defaults",{}),ae(Xi,"defaultRoutes");function d5(s,e){const t=s.options.ticks,n=h5(s),i=Math.min(t.maxTicksLimit||n,n),r=t.major.enabled?p5(e):[],o=r.length,l=r[0],u=r[o-1],d=[];if(o>i)return m5(e,d,r,o/i),d;const f=f5(r,e,i);if(o>0){let g,x;const y=o>1?Math.round((u-l)/(o-1)):null;for(fg(e,d,f,jt(y)?0:l-y,l),g=0,x=o-1;g<x;g++)fg(e,d,f,r[g],r[g+1]);return fg(e,d,f,u,jt(y)?e.length:u+y),d}return fg(e,d,f),d}function h5(s){const e=s.options.offset,t=s._tickSize(),n=s._length/t+(e?0:1),i=s._maxLength/t;return Math.floor(Math.min(n,i))}function f5(s,e,t){const n=g5(s),i=e.length/t;if(!n)return Math.max(i,1);const r=tO(n);for(let o=0,l=r.length-1;o<l;o++){const u=r[o];if(u>i)return u}return Math.max(i,1)}function p5(s){const e=[];let t,n;for(t=0,n=s.length;t<n;t++)s[t].major&&e.push(t);return e}function m5(s,e,t,n){let i=0,r=t[0],o;for(n=Math.ceil(n),o=0;o<s.length;o++)o===r&&(e.push(s[o]),i++,r=t[i*n])}function fg(s,e,t,n,i){const r=Je(n,0),o=Math.min(Je(i,s.length),s.length);let l=0,u,d,f;for(t=Math.ceil(t),i&&(u=i-n,t=u/Math.floor(u/t)),f=r;f<0;)l++,f=Math.round(r+l*t);for(d=Math.max(r,0);d<o;d++)d===f&&(e.push(s[d]),l++,f=Math.round(r+l*t))}function g5(s){const e=s.length;let t,n;if(e<2)return!1;for(n=s[0],t=1;t<e;++t)if(s[t]-s[t-1]!==n)return!1;return n}const x5=s=>s==="left"?"right":s==="right"?"left":s,HE=(s,e,t)=>e==="top"||e==="left"?s[e]+t:s[e]-t,VE=(s,e)=>Math.min(e||s,s);function $E(s,e){const t=[],n=s.length/e,i=s.length;let r=0;for(;r<i;r+=n)t.push(s[Math.floor(r)]);return t}function v5(s,e,t){const n=s.ticks.length,i=Math.min(e,n-1),r=s._startPixel,o=s._endPixel,l=1e-6;let u=s.getPixelForTick(i),d;if(!(t&&(n===1?d=Math.max(u-r,o-u):e===0?d=(s.getPixelForTick(1)-u)/2:d=(u-s.getPixelForTick(i-1))/2,u+=i<e?d:-d,u<r-l||u>o+l)))return u}function y5(s,e){gt(s,t=>{const n=t.gc,i=n.length/2;let r;if(i>e){for(r=0;r<i;++r)delete t.data[n[r]];n.splice(0,i)}})}function gh(s){return s.drawTicks?s.tickLength:0}function UE(s,e){if(!s.display)return 0;const t=Zn(s.font,e),n=yi(s.padding);return(pn(s.text)?s.text.length:1)*t.lineHeight+n.height}function b5(s,e){return Sc(s,{scale:e,type:"scale"})}function w5(s,e,t){return Sc(s,{tick:t,index:e,type:"tick"})}function _5(s,e,t){let n=J1(s);return(t&&e!=="right"||!t&&e==="right")&&(n=x5(n)),n}function S5(s,e,t,n){const{top:i,left:r,bottom:o,right:l,chart:u}=s,{chartArea:d,scales:f}=u;let g=0,x,y,b;const w=o-i,S=l-r;if(s.isHorizontal()){if(y=Yn(n,r,l),rt(t)){const C=Object.keys(t)[0],j=t[C];b=f[C].getPixelForValue(j)+w-e}else t==="center"?b=(d.bottom+d.top)/2+w-e:b=HE(s,t,e);x=l-r}else{if(rt(t)){const C=Object.keys(t)[0],j=t[C];y=f[C].getPixelForValue(j)-S+e}else t==="center"?y=(d.left+d.right)/2-S+e:y=HE(s,t,e);b=Yn(n,o,i),g=t==="left"?-Dn:Dn}return{titleX:y,titleY:b,maxWidth:x,rotation:g}}class Sd extends Xi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=sr(e,Number.POSITIVE_INFINITY),t=sr(t,Number.NEGATIVE_INFINITY),n=sr(n,Number.POSITIVE_INFINITY),i=sr(i,Number.NEGATIVE_INFINITY),{min:sr(e,n),max:sr(t,i),minDefined:vi(e),maxDefined:vi(t)}}getMinMax(e){let{min:t,max:n,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:t,max:n};const l=this.getMatchingVisibleMetas();for(let u=0,d=l.length;u<d;++u)o=l[u].controller.getMinMax(this,e),i||(t=Math.min(t,o.min)),r||(n=Math.max(n,o.max));return t=r&&t>n?n:t,n=i&&t>n?t:n,{min:sr(t,sr(n,t)),max:sr(n,sr(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Rt(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:r,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=RO(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?$E(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=d5(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Rt(this.options.afterUpdate,[this])}beforeSetDimensions(){Rt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Rt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Rt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Rt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,r;for(n=0,i=e.length;n<i;n++)r=e[n],r.label=Rt(t.callback,[r.value,n,e],this)}afterTickToLabelConversion(){Rt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Rt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=VE(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,r=t.maxRotation;let o=i,l,u,d;if(!this._isVisible()||!t.display||i>=r||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const f=this._getLabelSizes(),g=f.widest.width,x=f.highest.height,y=Qn(this.chart.width-g,0,this.maxWidth);l=e.offset?this.maxWidth/n:y/(n-1),g+6>l&&(l=y/(n-(e.offset?.5:1)),u=this.maxHeight-gh(e.grid)-t.padding-UE(e.title,this.chart.options.font),d=Math.sqrt(g*g+x*x),o=iO(Math.min(Math.asin(Qn((f.highest.height+6)/l,-1,1)),Math.asin(Qn(u/d,-1,1))-Math.asin(Qn(x/d,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Rt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Rt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:r}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const u=UE(i,t.options.font);if(l?(e.width=this.maxWidth,e.height=gh(r)+u):(e.height=this.maxHeight,e.width=gh(r)+u),n.display&&this.ticks.length){const{first:d,last:f,widest:g,highest:x}=this._getLabelSizes(),y=n.padding*2,b=fl(this.labelRotation),w=Math.cos(b),S=Math.sin(b);if(l){const C=n.mirror?0:S*g.width+w*x.height;e.height=Math.min(this.maxHeight,e.height+C+y)}else{const C=n.mirror?0:w*g.width+S*x.height;e.width=Math.min(this.maxWidth,e.width+C+y)}this._calculatePadding(d,f,S,w)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:r,padding:o},position:l}=this.options,u=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,y=0;u?d?(x=i*e.width,y=n*t.height):(x=n*e.height,y=i*t.width):r==="start"?y=t.width:r==="end"?x=e.width:r!=="inner"&&(x=e.width/2,y=t.width/2),this.paddingLeft=Math.max((x-f+o)*this.width/(this.width-f),0),this.paddingRight=Math.max((y-g+o)*this.width/(this.width-g),0)}else{let f=t.height/2,g=e.height/2;r==="start"?(f=0,g=e.height):r==="end"&&(f=t.height,g=0),this.paddingTop=f+o,this.paddingBottom=g+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Rt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)jt(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=$E(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:i,_longestTextCache:r}=this,o=[],l=[],u=Math.floor(t/VE(t,n));let d=0,f=0,g,x,y,b,w,S,C,j,A,k,T;for(g=0;g<t;g+=u){if(b=e[g].label,w=this._resolveTickFontOptions(g),i.font=S=w.string,C=r[S]=r[S]||{data:{},gc:[]},j=w.lineHeight,A=k=0,!jt(b)&&!pn(b))A=xE(i,C.data,C.gc,A,b),k=j;else if(pn(b))for(x=0,y=b.length;x<y;++x)T=b[x],!jt(T)&&!pn(T)&&(A=xE(i,C.data,C.gc,A,T),k+=j);o.push(A),l.push(k),d=Math.max(A,d),f=Math.max(k,f)}y5(r,t);const I=o.indexOf(d),M=l.indexOf(f),F=B=>({width:o[B]||0,height:l[B]||0});return{first:F(0),last:F(t-1),widest:F(I),highest:F(M),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return oO(this._alignToPixels?tl(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=w5(this.getContext(),e,n))}return this.$context||(this.$context=b5(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=fl(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,l=r?r.widest.width+o:0,u=r?r.highest.height+o:0;return this.isHorizontal()?u*n>l*i?l/n:u/i:u*i<l*n?u/n:l/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:r,position:o,border:l}=i,u=r.offset,d=this.isHorizontal(),g=this.ticks.length+(u?1:0),x=gh(r),y=[],b=l.setContext(this.getContext()),w=b.display?b.width:0,S=w/2,C=function(ee){return tl(n,ee,w)};let j,A,k,T,I,M,F,B,O,W,J,ie;if(o==="top")j=C(this.bottom),M=this.bottom-x,B=j-S,W=C(e.top)+S,ie=e.bottom;else if(o==="bottom")j=C(this.top),W=e.top,ie=C(e.bottom)-S,M=j+S,B=this.top+x;else if(o==="left")j=C(this.right),I=this.right-x,F=j-S,O=C(e.left)+S,J=e.right;else if(o==="right")j=C(this.left),O=e.left,J=C(e.right)-S,I=j+S,F=this.left+x;else if(t==="x"){if(o==="center")j=C((e.top+e.bottom)/2+.5);else if(rt(o)){const ee=Object.keys(o)[0],V=o[ee];j=C(this.chart.scales[ee].getPixelForValue(V))}W=e.top,ie=e.bottom,M=j+S,B=M+x}else if(t==="y"){if(o==="center")j=C((e.left+e.right)/2);else if(rt(o)){const ee=Object.keys(o)[0],V=o[ee];j=C(this.chart.scales[ee].getPixelForValue(V))}I=j-S,F=I-x,O=e.left,J=e.right}const se=Je(i.ticks.maxTicksLimit,g),$=Math.max(1,Math.ceil(g/se));for(A=0;A<g;A+=$){const ee=this.getContext(A),V=r.setContext(ee),G=l.setContext(ee),X=V.lineWidth,ne=V.color,H=G.dash||[],Y=G.dashOffset,ce=V.tickWidth,fe=V.tickColor,ye=V.tickBorderDash||[],de=V.tickBorderDashOffset;k=v5(this,A,u),k!==void 0&&(T=tl(n,k,X),d?I=F=O=J=T:M=B=W=ie=T,y.push({tx1:I,ty1:M,tx2:F,ty2:B,x1:O,y1:W,x2:J,y2:ie,width:X,color:ne,borderDash:H,borderDashOffset:Y,tickWidth:ce,tickColor:fe,tickBorderDash:ye,tickBorderDashOffset:de}))}return this._ticksLength=g,this._borderValue=j,y}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:r}=n,o=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:d,padding:f,mirror:g}=r,x=gh(n.grid),y=x+f,b=g?-f:y,w=-fl(this.labelRotation),S=[];let C,j,A,k,T,I,M,F,B,O,W,J,ie="middle";if(i==="top")I=this.bottom-b,M=this._getXAxisLabelAlignment();else if(i==="bottom")I=this.top+b,M=this._getXAxisLabelAlignment();else if(i==="left"){const $=this._getYAxisLabelAlignment(x);M=$.textAlign,T=$.x}else if(i==="right"){const $=this._getYAxisLabelAlignment(x);M=$.textAlign,T=$.x}else if(t==="x"){if(i==="center")I=(e.top+e.bottom)/2+y;else if(rt(i)){const $=Object.keys(i)[0],ee=i[$];I=this.chart.scales[$].getPixelForValue(ee)+y}M=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")T=(e.left+e.right)/2-y;else if(rt(i)){const $=Object.keys(i)[0],ee=i[$];T=this.chart.scales[$].getPixelForValue(ee)}M=this._getYAxisLabelAlignment(x).textAlign}t==="y"&&(u==="start"?ie="top":u==="end"&&(ie="bottom"));const se=this._getLabelSizes();for(C=0,j=l.length;C<j;++C){A=l[C],k=A.label;const $=r.setContext(this.getContext(C));F=this.getPixelForTick(C)+r.labelOffset,B=this._resolveTickFontOptions(C),O=B.lineHeight,W=pn(k)?k.length:1;const ee=W/2,V=$.color,G=$.textStrokeColor,X=$.textStrokeWidth;let ne=M;o?(T=F,M==="inner"&&(C===j-1?ne=this.options.reverse?"left":"right":C===0?ne=this.options.reverse?"right":"left":ne="center"),i==="top"?d==="near"||w!==0?J=-W*O+O/2:d==="center"?J=-se.highest.height/2-ee*O+O:J=-se.highest.height+O/2:d==="near"||w!==0?J=O/2:d==="center"?J=se.highest.height/2-ee*O:J=se.highest.height-W*O,g&&(J*=-1),w!==0&&!$.showLabelBackdrop&&(T+=O/2*Math.sin(w))):(I=F,J=(1-W)*O/2);let H;if($.showLabelBackdrop){const Y=yi($.backdropPadding),ce=se.heights[C],fe=se.widths[C];let ye=J-Y.top,de=0-Y.left;switch(ie){case"middle":ye-=ce/2;break;case"bottom":ye-=ce;break}switch(M){case"center":de-=fe/2;break;case"right":de-=fe;break;case"inner":C===j-1?de-=fe:C>0&&(de-=fe/2);break}H={left:de,top:ye,width:fe+Y.width,height:ce+Y.height,color:$.backdropColor}}S.push({label:k,font:B,textOffset:J,options:{rotation:w,color:V,strokeColor:G,strokeWidth:X,textAlign:ne,textBaseline:ie,translation:[T,I],backdrop:H}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-fl(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),l=e+r,u=o.widest.width;let d,f;return t==="left"?i?(f=this.right+r,n==="near"?d="left":n==="center"?(d="center",f+=u/2):(d="right",f+=u)):(f=this.right-l,n==="near"?d="right":n==="center"?(d="center",f-=u/2):(d="left",f=this.left)):t==="right"?i?(f=this.left+r,n==="near"?d="right":n==="center"?(d="center",f-=u/2):(d="left",f-=u)):(f=this.left+l,n==="near"?d="left":n==="center"?(d="center",f+=u/2):(d="right",f=this.right)):d="right",{textAlign:d,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:r,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,r,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const l=(u,d,f)=>{!f.width||!f.color||(n.save(),n.lineWidth=f.width,n.strokeStyle=f.color,n.setLineDash(f.borderDash||[]),n.lineDashOffset=f.borderDashOffset,n.beginPath(),n.moveTo(u.x,u.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(t.display)for(r=0,o=i.length;r<o;++r){const u=i[r];t.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),t.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),o=n.display?r.width:0;if(!o)return;const l=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,f,g,x;this.isHorizontal()?(d=tl(e,this.left,o)-o/2,f=tl(e,this.right,l)+l/2,g=x=u):(g=tl(e,this.top,o)-o/2,x=tl(e,this.bottom,l)+l/2,d=f=u),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(d,g),t.lineTo(f,x),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&Z1(n,i);const r=this.getLabelItems(e);for(const o of r){const l=o.options,u=o.font,d=o.label,f=o.textOffset;uf(n,d,0,f,u,l)}i&&ew(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const r=Zn(n.font),o=yi(n.padding),l=n.align;let u=r.lineHeight/2;t==="bottom"||t==="center"||rt(t)?(u+=o.bottom,pn(n.text)&&(u+=r.lineHeight*(n.text.length-1))):u+=o.top;const{titleX:d,titleY:f,maxWidth:g,rotation:x}=S5(this,u,t,l);uf(e,n.text,0,0,r,{color:n.color,maxWidth:g,rotation:x,textAlign:_5(l,t,i),textBaseline:"middle",translation:[d,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=Je(e.grid&&e.grid.z,-1),i=Je(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Sd.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,o;for(r=0,o=t.length;r<o;++r){const l=t[r];l[n]===this.id&&(!e||l.type===e)&&i.push(l)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Zn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class pg{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;A5(t)&&(n=this.register(t));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,C5(e,o,n),this.override&&Yt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in Yt[i]&&(delete Yt[i][n],this.override&&delete mc[n])}}function C5(s,e,t){const n=of(Object.create(null),[t?Yt.get(t):{},Yt.get(e),s.defaults]);Yt.set(e,n),s.defaultRoutes&&E5(e,s.defaultRoutes),s.descriptors&&Yt.describe(e,s.descriptors)}function E5(s,e){Object.keys(e).forEach(t=>{const n=t.split("."),i=n.pop(),r=[s].concat(n).join("."),o=e[t].split("."),l=o.pop(),u=o.join(".");Yt.route(r,i,u,l)})}function A5(s){return"id"in s&&"defaults"in s}class k5{constructor(){this.controllers=new pg(du,"datasets",!0),this.elements=new pg(Xi,"elements"),this.plugins=new pg(Object,"plugins"),this.scales=new pg(Sd,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(i=>{const r=n||this._getRegistryForType(i);n||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):gt(i,o=>{const l=n||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,t,n){const i=X1(e);Rt(n["before"+i],[],n),t[e](n),Rt(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var or=new k5;class j5{constructor(){this._init=[]}notify(e,t,n,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,t,n);return t==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,n,i){i=i||{};for(const r of e){const o=r.plugin,l=o[n],u=[t,i,r.options];if(Rt(l,u,o)===!1&&i.cancelable)return!1}return!0}invalidate(){jt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=Je(n.options&&n.options.plugins,{}),r=N5(n);return i===!1&&!t?[]:P5(e,r,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(r,o)=>r.filter(l=>!o.some(u=>l.plugin.id===u.plugin.id));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function N5(s){const e={},t=[],n=Object.keys(or.plugins.items);for(let r=0;r<n.length;r++)t.push(or.getPlugin(n[r]));const i=s.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function T5(s,e){return!e&&s===!1?null:s===!0?{}:s}function P5(s,{plugins:e,localIds:t},n,i){const r=[],o=s.getContext();for(const l of e){const u=l.id,d=T5(n[u],i);d!==null&&r.push({plugin:l,options:R5(s.config,{plugin:l,local:t[u]},d,o)})}return r}function R5(s,{plugin:e,local:t},n,i){const r=s.pluginScopeKeys(e),o=s.getOptionScopes(n,r);return t&&e.defaults&&o.push(e.defaults),s.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function lb(s,e){const t=Yt.datasets[s]||{};return((e.datasets||{})[s]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function L5(s,e){let t=s;return s==="_index_"?t=e:s==="_value_"&&(t=e==="x"?"y":"x"),t}function I5(s,e){return s===e?"_index_":"_value_"}function WE(s){if(s==="x"||s==="y"||s==="r")return s}function M5(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function cb(s,...e){if(WE(s))return s;for(const t of e){const n=t.axis||M5(t.position)||s.length>1&&WE(s[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function qE(s,e,t){if(t[e+"AxisID"]===s)return{axis:e}}function D5(s,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(n=>n.xAxisID===s||n.yAxisID===s);if(t.length)return qE(s,"x",t[0])||qE(s,"y",t[0])}return{}}function F5(s,e){const t=mc[s.type]||{scales:{}},n=e.scales||{},i=lb(s.type,e),r=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!rt(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=cb(o,l,D5(o,s),Yt.scales[l.type]),d=I5(u,i),f=t.scales||{};r[o]=Wh(Object.create(null),[{axis:u},l,f[u],f[d]])}),s.data.datasets.forEach(o=>{const l=o.type||s.type,u=o.indexAxis||lb(l,e),f=(mc[l]||{}).scales||{};Object.keys(f).forEach(g=>{const x=L5(g,u),y=o[x+"AxisID"]||x;r[y]=r[y]||Object.create(null),Wh(r[y],[{axis:x},n[y],f[g]])})}),Object.keys(r).forEach(o=>{const l=r[o];Wh(l,[Yt.scales[l.type],Yt.scale])}),r}function Fk(s){const e=s.options||(s.options={});e.plugins=Je(e.plugins,{}),e.scales=F5(s,e)}function Ok(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function O5(s){return s=s||{},s.data=Ok(s.data),Fk(s),s}const GE=new Map,zk=new Set;function mg(s,e){let t=GE.get(s);return t||(t=e(),GE.set(s,t),zk.add(t)),t}const xh=(s,e,t)=>{const n=md(e,t);n!==void 0&&s.add(n)};class z5{constructor(e){this._config=O5(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Ok(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Fk(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return mg(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return mg(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return mg(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return mg(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return(!i||t)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:r}=this,o=this._cachedScopes(e,n),l=o.get(t);if(l)return l;const u=new Set;t.forEach(f=>{e&&(u.add(e),f.forEach(g=>xh(u,e,g))),f.forEach(g=>xh(u,i,g)),f.forEach(g=>xh(u,mc[r]||{},g)),f.forEach(g=>xh(u,Yt,g)),f.forEach(g=>xh(u,ob,g))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),zk.has(t)&&o.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,mc[t]||{},Yt.datasets[t]||{},{type:t},Yt,ob]}resolveNamedOptions(e,t,n,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:l}=XE(this._resolverCache,e,i);let u=o;if(H5(o,t)){r.$shared=!1,n=Ta(n)?n():n;const d=this.createResolver(e,n,l);u=gd(o,n,d)}for(const d of t)r[d]=u[d];return r}createResolver(e,t,n=[""],i){const{resolver:r}=XE(this._resolverCache,e,n);return rt(t)?gd(r,t,void 0,i):r}}function XE(s,e,t){let n=s.get(e);n||(n=new Map,s.set(e,n));const i=t.join();let r=n.get(i);return r||(r={resolver:nw(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},n.set(i,r)),r}const B5=s=>rt(s)&&Object.getOwnPropertyNames(s).some(e=>Ta(s[e]));function H5(s,e){const{isScriptable:t,isIndexable:n}=wk(s);for(const i of e){const r=t(i),o=n(i),l=(o||r)&&s[i];if(r&&(Ta(l)||B5(l))||o&&pn(l))return!0}return!1}var V5="4.4.7";const $5=["top","bottom","left","right","chartArea"];function KE(s,e){return s==="top"||s==="bottom"||$5.indexOf(s)===-1&&e==="x"}function YE(s,e){return function(t,n){return t[s]===n[s]?t[e]-n[e]:t[s]-n[s]}}function JE(s){const e=s.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Rt(t&&t.onComplete,[s],e)}function U5(s){const e=s.chart,t=e.options.animation;Rt(t&&t.onProgress,[s],e)}function Bk(s){return rw()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const Pg={},QE=s=>{const e=Bk(s);return Object.values(Pg).filter(t=>t.canvas===e).pop()};function W5(s,e,t){const n=Object.keys(s);for(const i of n){const r=+i;if(r>=e){const o=s[i];delete s[i],(t>0||r>e)&&(s[r+t]=o)}}}function q5(s,e,t,n){return!t||s.type==="mouseout"?null:n?e:s}function gg(s,e,t){return s.options.clip?s[t]:e[t]}function G5(s,e){const{xScale:t,yScale:n}=s;return t&&n?{left:gg(t,e,"left"),right:gg(t,e,"right"),top:gg(n,e,"top"),bottom:gg(n,e,"bottom")}:e}var qo;let Cd=(qo=class{static register(...e){or.add(...e),ZE()}static unregister(...e){or.remove(...e),ZE()}constructor(e,t){const n=this.config=new z5(t),i=Bk(e),r=QE(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||u5(i)),this.platform.updateConfig(n);const l=this.platform.acquireContext(i,o.aspectRatio),u=l&&l.canvas,d=u&&u.height,f=u&&u.width;if(this.id=qF(),this.ctx=l,this.canvas=u,this.width=f,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new j5,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=uO(g=>this.update(g),o.resizeDelay||0),this._dataChanges=[],Pg[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Br.listen(this,"complete",JE),Br.listen(this,"progress",U5),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:r}=this;return jt(e)?t&&r?r:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return or}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():wE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return vE(this.canvas,this.ctx),this}stop(){return Br.stop(this),this}resize(e,t){Br.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,t,r),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,wE(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),Rt(n.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};gt(t,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let r=[];t&&(r=r.concat(Object.keys(t).map(o=>{const l=t[o],u=cb(o,l),d=u==="r",f=u==="x";return{options:l,dposition:d?"chartArea":f?"bottom":"left",dtype:d?"radialLinear":f?"category":"linear"}}))),gt(r,o=>{const l=o.options,u=l.id,d=cb(u,l),f=Je(l.type,o.dtype);(l.position===void 0||KE(l.position,d)!==KE(o.dposition))&&(l.position=o.dposition),i[u]=!0;let g=null;if(u in n&&n[u].type===f)g=n[u];else{const x=or.getScale(f);g=new x({id:u,type:f,ctx:this.ctx,chart:this}),n[g.id]=g}g.init(l,e)}),gt(i,(o,l)=>{o||delete n[l]}),gt(n,o=>{gi.configure(this,o,o.options),gi.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((i,r)=>i.index-r.index),n>t){for(let i=t;i<n;++i)this._destroyDatasetMeta(i);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(YE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,i)=>{t.filter(r=>r===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const r=t[n];let o=this.getDatasetMeta(n);const l=r.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=r.indexAxis||lb(l,this.options),o.order=r.order||0,o.index=n,o.label=""+r.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const u=or.getController(l),{datasetElementType:d,dataElementType:f}=Yt.datasets[l];Object.assign(u,{dataElementType:or.getElement(f),datasetElementType:d&&or.getElement(d)}),o.controller=new u(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){gt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,f=this.data.datasets.length;d<f;d++){const{controller:g}=this.getDatasetMeta(d),x=!i&&r.indexOf(g)===-1;g.buildOrUpdateElements(x),o=Math.max(+g.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||gt(r,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(YE("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){gt(this.scales,e=>{gi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!lE(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of t){const o=n==="_removeElements"?-r:r;W5(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=r=>new Set(e.filter(o=>o[0]===r).map((o,l)=>l+","+o.splice(1).join(","))),i=n(0);for(let r=1;r<t;r++)if(!lE(i,n(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gi.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],gt(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,Ta(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Br.has(this)?this.attached&&!Br.running(this)&&Br.start(this):(this.draw(),JE({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,r;for(i=0,r=t.length;i<r;++i){const o=t[i];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,i=!n.disabled,r=G5(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&Z1(t,{left:n.left===!1?0:r.left-n.left,right:n.right===!1?this.width:r.right+n.right,top:n.top===!1?0:r.top-n.top,bottom:n.bottom===!1?this.height:r.bottom+n.bottom}),e.controller.draw(),i&&ew(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return cf(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const r=$4.modes[t];return typeof r=="function"?r(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter(r=>r&&r._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Sc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);af(t)?(r.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(r,{visible:n}),this.update(l=>l.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Br.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),vE(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Pg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(r,o)=>{t.addEventListener(this,r,o),e[r]=o},i=(r,o,l)=>{r.offsetX=o,r.offsetY=l,this._eventHandler(r)};gt(this.options.events,r=>n(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(u,d)=>{t.addEventListener(this,u,d),e[u]=d},i=(u,d)=>{e[u]&&(t.removeEventListener(this,u,d),delete e[u])},r=(u,d)=>{this.canvas&&this.resize(u,d)};let o;const l=()=>{i("attach",l),this.attached=!0,this.resize(),n("resize",r),n("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",l)},t.isAttached(this.canvas)?l():o()}unbindEvents(){gt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},gt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let r,o,l,u;for(t==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),l=0,u=e.length;l<u;++l){o=e[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:r,index:o})=>{const l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[o],index:o}});!v0(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,n){const i=this.options.hover,r=(u,d)=>u.filter(f=>!d.some(g=>f.datasetIndex===g.datasetIndex&&f.index===g.index)),o=r(t,e),l=n?e:r(e,t);o.length&&this.updateHoverStyle(o,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const r=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:r}=this,o=t,l=this._getActiveElements(e,i,n,o),u=QF(e),d=q5(e,this._lastEvent,n,u);n&&(this._lastEvent=null,Rt(r.onHover,[e,l,this],this),u&&Rt(r.onClick,[e,l,this],this));const f=!v0(l,i);return(f||t)&&(this._active=l,this._updateHoverStyles(l,i,t)),this._lastEvent=d,f}_getActiveElements(e,t,n,i){if(e.type==="mouseout")return[];if(!n)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}},ae(qo,"defaults",Yt),ae(qo,"instances",Pg),ae(qo,"overrides",mc),ae(qo,"registry",or),ae(qo,"version",V5),ae(qo,"getChart",QE),qo);function ZE(){return gt(Cd.instances,s=>s._plugins.invalidate())}function X5(s,e,t){const{startAngle:n,pixelMargin:i,x:r,y:o,outerRadius:l,innerRadius:u}=e;let d=i/l;s.beginPath(),s.arc(r,o,l,n-d,t+d),u>i?(d=i/u,s.arc(r,o,u,t+d,n-d,!0)):s.arc(r,o,i,t+Dn,n-Dn),s.closePath(),s.clip()}function K5(s){return tw(s,["outerStart","outerEnd","innerStart","innerEnd"])}function Y5(s,e,t,n){const i=K5(s.options.borderRadius),r=(t-e)/2,o=Math.min(r,n*e/2),l=u=>{const d=(t-Math.min(r,u))*n/2;return Qn(u,0,Math.min(r,d))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:Qn(i.innerStart,0,o),innerEnd:Qn(i.innerEnd,0,o)}}function Qc(s,e,t,n){return{x:t+s*Math.cos(e),y:n+s*Math.sin(e)}}function C0(s,e,t,n,i,r){const{x:o,y:l,startAngle:u,pixelMargin:d,innerRadius:f}=e,g=Math.max(e.outerRadius+n+t-d,0),x=f>0?f+n+t+d:0;let y=0;const b=i-u;if(n){const $=f>0?f-n:0,ee=g>0?g-n:0,V=($+ee)/2,G=V!==0?b*V/(V+n):b;y=(b-G)/2}const w=Math.max(.001,b*g-t/sn)/g,S=(b-w)/2,C=u+S+y,j=i-S-y,{outerStart:A,outerEnd:k,innerStart:T,innerEnd:I}=Y5(e,x,g,j-C),M=g-A,F=g-k,B=C+A/M,O=j-k/F,W=x+T,J=x+I,ie=C+T/W,se=j-I/J;if(s.beginPath(),r){const $=(B+O)/2;if(s.arc(o,l,g,B,$),s.arc(o,l,g,$,O),k>0){const X=Qc(F,O,o,l);s.arc(X.x,X.y,k,O,j+Dn)}const ee=Qc(J,j,o,l);if(s.lineTo(ee.x,ee.y),I>0){const X=Qc(J,se,o,l);s.arc(X.x,X.y,I,j+Dn,se+Math.PI)}const V=(j-I/x+(C+T/x))/2;if(s.arc(o,l,x,j-I/x,V,!0),s.arc(o,l,x,V,C+T/x,!0),T>0){const X=Qc(W,ie,o,l);s.arc(X.x,X.y,T,ie+Math.PI,C-Dn)}const G=Qc(M,C,o,l);if(s.lineTo(G.x,G.y),A>0){const X=Qc(M,B,o,l);s.arc(X.x,X.y,A,C-Dn,B)}}else{s.moveTo(o,l);const $=Math.cos(B)*g+o,ee=Math.sin(B)*g+l;s.lineTo($,ee);const V=Math.cos(O)*g+o,G=Math.sin(O)*g+l;s.lineTo(V,G)}s.closePath()}function J5(s,e,t,n,i){const{fullCircles:r,startAngle:o,circumference:l}=e;let u=e.endAngle;if(r){C0(s,e,t,n,u,i);for(let d=0;d<r;++d)s.fill();isNaN(l)||(u=o+(l%Fn||Fn))}return C0(s,e,t,n,u,i),s.fill(),u}function Q5(s,e,t,n,i){const{fullCircles:r,startAngle:o,circumference:l,options:u}=e,{borderWidth:d,borderJoinStyle:f,borderDash:g,borderDashOffset:x}=u,y=u.borderAlign==="inner";if(!d)return;s.setLineDash(g||[]),s.lineDashOffset=x,y?(s.lineWidth=d*2,s.lineJoin=f||"round"):(s.lineWidth=d,s.lineJoin=f||"bevel");let b=e.endAngle;if(r){C0(s,e,t,n,b,i);for(let w=0;w<r;++w)s.stroke();isNaN(l)||(b=o+(l%Fn||Fn))}y&&X5(s,e,b),r||(C0(s,e,t,n,b,i),s.stroke())}class Ch extends Xi{constructor(t){super();ae(this,"circumference");ae(this,"endAngle");ae(this,"fullCircles");ae(this,"innerRadius");ae(this,"outerRadius");ae(this,"pixelMargin");ae(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,i){const r=this.getProps(["x","y"],i),{angle:o,distance:l}=dk(r,{x:t,y:n}),{startAngle:u,endAngle:d,innerRadius:f,outerRadius:g,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),y=(this.options.spacing+this.options.borderWidth)/2,b=Je(x,d-u),w=K1(o,u,d)&&u!==d,S=b>=Fn||w,C=Aa(l,f+y,g+y);return S&&C}getCenterPoint(t){const{x:n,y:i,startAngle:r,endAngle:o,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:f}=this.options,g=(r+o)/2,x=(l+u+f+d)/2;return{x:n+Math.cos(g)*x,y:i+Math.sin(g)*x}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:i}=this,r=(n.offset||0)/4,o=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Fn?Math.floor(i/Fn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*r,Math.sin(u)*r);const d=1-Math.sin(Math.min(sn,i||0)),f=r*d;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,J5(t,this,f,o,l),Q5(t,this,f,o,l),t.restore()}}ae(Ch,"id","arc"),ae(Ch,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ae(Ch,"defaultRoutes",{backgroundColor:"backgroundColor"}),ae(Ch,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function Hk(s,e,t=e){s.lineCap=Je(t.borderCapStyle,e.borderCapStyle),s.setLineDash(Je(t.borderDash,e.borderDash)),s.lineDashOffset=Je(t.borderDashOffset,e.borderDashOffset),s.lineJoin=Je(t.borderJoinStyle,e.borderJoinStyle),s.lineWidth=Je(t.borderWidth,e.borderWidth),s.strokeStyle=Je(t.borderColor,e.borderColor)}function Z5(s,e,t){s.lineTo(t.x,t.y)}function e3(s){return s.stepped?SO:s.tension||s.cubicInterpolationMode==="monotone"?CO:Z5}function Vk(s,e,t={}){const n=s.length,{start:i=0,end:r=n-1}=t,{start:o,end:l}=e,u=Math.max(i,o),d=Math.min(r,l),f=i<o&&r<o||i>l&&r>l;return{count:n,start:u,loop:e.loop,ilen:d<u&&!f?n+d-u:d-u}}function t3(s,e,t,n){const{points:i,options:r}=e,{count:o,start:l,loop:u,ilen:d}=Vk(i,t,n),f=e3(r);let{move:g=!0,reverse:x}=n||{},y,b,w;for(y=0;y<=d;++y)b=i[(l+(x?d-y:y))%o],!b.skip&&(g?(s.moveTo(b.x,b.y),g=!1):f(s,w,b,x,r.stepped),w=b);return u&&(b=i[(l+(x?d:0))%o],f(s,w,b,x,r.stepped)),!!u}function n3(s,e,t,n){const i=e.points,{count:r,start:o,ilen:l}=Vk(i,t,n),{move:u=!0,reverse:d}=n||{};let f=0,g=0,x,y,b,w,S,C;const j=k=>(o+(d?l-k:k))%r,A=()=>{w!==S&&(s.lineTo(f,S),s.lineTo(f,w),s.lineTo(f,C))};for(u&&(y=i[j(0)],s.moveTo(y.x,y.y)),x=0;x<=l;++x){if(y=i[j(x)],y.skip)continue;const k=y.x,T=y.y,I=k|0;I===b?(T<w?w=T:T>S&&(S=T),f=(g*f+k)/++g):(A(),s.lineTo(k,T),b=I,g=0,w=S=T),C=T}A()}function ub(s){const e=s.options,t=e.borderDash&&e.borderDash.length;return!s._decimated&&!s._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?n3:t3}function s3(s){return s.stepped?n4:s.tension||s.cubicInterpolationMode==="monotone"?s4:rl}function i3(s,e,t,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,n)&&i.closePath()),Hk(s,e.options),s.stroke(i)}function r3(s,e,t,n){const{segments:i,options:r}=e,o=ub(e);for(const l of i)Hk(s,r,l.style),s.beginPath(),o(s,e,l,{start:t,end:t+n-1})&&s.closePath(),s.stroke()}const o3=typeof Path2D=="function";function a3(s,e,t,n){o3&&!e.options.segment?i3(s,e,t,n):r3(s,e,t,n)}class Eh extends Xi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;XO(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=d4(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],r=this.points,o=l4(this,{property:t,start:i,end:i});if(!o.length)return;const l=[],u=s3(n);let d,f;for(d=0,f=o.length;d<f;++d){const{start:g,end:x}=o[d],y=r[g],b=r[x];if(y===b){l.push(y);continue}const w=Math.abs((i-y[t])/(b[t]-y[t])),S=u(y,b,w,n.stepped);S[t]=e[t],l.push(S)}return l.length===1?l[0]:l}pathSegment(e,t,n){return ub(this)(e,this,t,n)}path(e,t,n){const i=this.segments,r=ub(this);let o=this._loop;t=t||0,n=n||this.points.length-t;for(const l of i)o&=r(e,this,l,{start:t,end:t+n-1});return!!o}draw(e,t,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),a3(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ae(Eh,"id","line"),ae(Eh,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ae(Eh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ae(Eh,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function eA(s,e,t,n){const i=s.options,{[t]:r}=s.getProps([t],n);return Math.abs(e-r)<i.radius+i.hitRadius}class Rg extends Xi{constructor(t){super();ae(this,"parsed");ae(this,"skip");ae(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,i){const r=this.options,{x:o,y:l}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(n-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,n){return eA(this,t,"x",n)}inYRange(t,n){return eA(this,t,"y",n)}getCenterPoint(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const i=n&&t.borderWidth||0;return(n+i)*2}draw(t,n){const i=this.options;this.skip||i.radius<.1||!cf(this,n,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,ab(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}ae(Rg,"id","point"),ae(Rg,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ae(Rg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function $k(s,e){const{x:t,y:n,base:i,width:r,height:o}=s.getProps(["x","y","base","width","height"],e);let l,u,d,f,g;return s.horizontal?(g=o/2,l=Math.min(t,i),u=Math.max(t,i),d=n-g,f=n+g):(g=r/2,l=t-g,u=t+g,d=Math.min(n,i),f=Math.max(n,i)),{left:l,top:d,right:u,bottom:f}}function ka(s,e,t,n){return s?0:Qn(e,t,n)}function l3(s,e,t){const n=s.options.borderWidth,i=s.borderSkipped,r=bk(n);return{t:ka(i.top,r.top,0,t),r:ka(i.right,r.right,0,e),b:ka(i.bottom,r.bottom,0,t),l:ka(i.left,r.left,0,e)}}function c3(s,e,t){const{enableBorderRadius:n}=s.getProps(["enableBorderRadius"]),i=s.options.borderRadius,r=cu(i),o=Math.min(e,t),l=s.borderSkipped,u=n||rt(i);return{topLeft:ka(!u||l.top||l.left,r.topLeft,0,o),topRight:ka(!u||l.top||l.right,r.topRight,0,o),bottomLeft:ka(!u||l.bottom||l.left,r.bottomLeft,0,o),bottomRight:ka(!u||l.bottom||l.right,r.bottomRight,0,o)}}function u3(s){const e=$k(s),t=e.right-e.left,n=e.bottom-e.top,i=l3(s,t/2,n/2),r=c3(s,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function Ly(s,e,t,n){const i=e===null,r=t===null,l=s&&!(i&&r)&&$k(s,n);return l&&(i||Aa(e,l.left,l.right))&&(r||Aa(t,l.top,l.bottom))}function d3(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function h3(s,e){s.rect(e.x,e.y,e.w,e.h)}function Iy(s,e,t={}){const n=s.x!==t.x?-e:0,i=s.y!==t.y?-e:0,r=(s.x+s.w!==t.x+t.w?e:0)-n,o=(s.y+s.h!==t.y+t.h?e:0)-i;return{x:s.x+n,y:s.y+i,w:s.w+r,h:s.h+o,radius:s.radius}}class Kh extends Xi{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:o}=u3(this),l=d3(o.radius)?w0:h3;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),l(e,Iy(o,t,r)),e.clip(),l(e,Iy(r,-t,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,Iy(r,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return Ly(this,e,t,n)}inXRange(e,t){return Ly(this,e,null,t)}inYRange(e,t){return Ly(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+i)/2:t,y:r?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ae(Kh,"id","bar"),ae(Kh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ae(Kh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const tA=(s,e)=>{let{boxHeight:t=e,boxWidth:n=e}=s;return s.usePointStyle&&(t=Math.min(t,e),n=s.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},f3=(s,e)=>s!==null&&e!==null&&s.datasetIndex===e.datasetIndex&&s.index===e.index;class nA extends Xi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Rt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=Zn(n.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=tA(n,r);let d,f;t.font=i.string,this.isHorizontal()?(d=this.maxWidth,f=this._fitRows(o,r,l,u)+10):(f=this.maxHeight,d=this._fitCols(o,i,l,u)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:r,maxWidth:o,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],f=i+l;let g=e;r.textAlign="left",r.textBaseline="middle";let x=-1,y=-f;return this.legendItems.forEach((b,w)=>{const S=n+t/2+r.measureText(b.text).width;(w===0||d[d.length-1]+S+2*l>o)&&(g+=f,d[d.length-(w>0?0:1)]=0,y+=f,x++),u[w]={left:0,top:y,row:x,width:S,height:i},d[d.length-1]+=S+l}),g}_fitCols(e,t,n,i){const{ctx:r,maxHeight:o,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],f=o-e;let g=l,x=0,y=0,b=0,w=0;return this.legendItems.forEach((S,C)=>{const{itemWidth:j,itemHeight:A}=p3(n,t,r,S,i);C>0&&y+A+2*l>f&&(g+=x+l,d.push({width:x,height:y}),b+=x+l,w++,x=y=0),u[C]={left:b,top:y,col:w,width:j,height:A},x=Math.max(x,j),y+=A+l}),g+=x,d.push({width:x,height:y}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:r}}=this,o=uu(r,this.left,this.width);if(this.isHorizontal()){let l=0,u=Yn(n,this.left+i,this.right-this.lineWidths[l]);for(const d of t)l!==d.row&&(l=d.row,u=Yn(n,this.left+i,this.right-this.lineWidths[l])),d.top+=this.top+e+i,d.left=o.leftForLtr(o.x(u),d.width),u+=d.width+i}else{let l=0,u=Yn(n,this.top+e+i,this.bottom-this.columnSizes[l].height);for(const d of t)d.col!==l&&(l=d.col,u=Yn(n,this.top+e+i,this.bottom-this.columnSizes[l].height)),d.top=u,d.left+=this.left+i,d.left=o.leftForLtr(o.x(d.left),d.width),u+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Z1(e,this),this._draw(),ew(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:r,labels:o}=e,l=Yt.color,u=uu(e.rtl,this.left,this.width),d=Zn(o.font),{padding:f}=o,g=d.size,x=g/2;let y;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:b,boxHeight:w,itemHeight:S}=tA(o,g),C=function(I,M,F){if(isNaN(b)||b<=0||isNaN(w)||w<0)return;i.save();const B=Je(F.lineWidth,1);if(i.fillStyle=Je(F.fillStyle,l),i.lineCap=Je(F.lineCap,"butt"),i.lineDashOffset=Je(F.lineDashOffset,0),i.lineJoin=Je(F.lineJoin,"miter"),i.lineWidth=B,i.strokeStyle=Je(F.strokeStyle,l),i.setLineDash(Je(F.lineDash,[])),o.usePointStyle){const O={radius:w*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:B},W=u.xPlus(I,b/2),J=M+x;yk(i,O,W,J,o.pointStyleWidth&&b)}else{const O=M+Math.max((g-w)/2,0),W=u.leftForLtr(I,b),J=cu(F.borderRadius);i.beginPath(),Object.values(J).some(ie=>ie!==0)?w0(i,{x:W,y:O,w:b,h:w,radius:J}):i.rect(W,O,b,w),i.fill(),B!==0&&i.stroke()}i.restore()},j=function(I,M,F){uf(i,F.text,I,M+S/2,d,{strikethrough:F.hidden,textAlign:u.textAlign(F.textAlign)})},A=this.isHorizontal(),k=this._computeTitleHeight();A?y={x:Yn(r,this.left+f,this.right-n[0]),y:this.top+f+k,line:0}:y={x:this.left+f,y:Yn(r,this.top+k+f,this.bottom-t[0].height),line:0},Ak(this.ctx,e.textDirection);const T=S+f;this.legendItems.forEach((I,M)=>{i.strokeStyle=I.fontColor,i.fillStyle=I.fontColor;const F=i.measureText(I.text).width,B=u.textAlign(I.textAlign||(I.textAlign=o.textAlign)),O=b+x+F;let W=y.x,J=y.y;u.setWidth(this.width),A?M>0&&W+O+f>this.right&&(J=y.y+=T,y.line++,W=y.x=Yn(r,this.left+f,this.right-n[y.line])):M>0&&J+T>this.bottom&&(W=y.x=W+t[y.line].width+f,y.line++,J=y.y=Yn(r,this.top+k+f,this.bottom-t[y.line].height));const ie=u.x(W);if(C(ie,J,I),W=dO(B,W+b+x,A?W+O:this.right,e.rtl),j(u.x(W),J,I),A)y.x+=O+f;else if(typeof I.text!="string"){const se=d.lineHeight;y.y+=Uk(I,se)+f}else y.y+=T}),kk(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Zn(t.font),i=yi(t.padding);if(!t.display)return;const r=uu(e.rtl,this.left,this.width),o=this.ctx,l=t.position,u=n.size/2,d=i.top+u;let f,g=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),f=this.top+d,g=Yn(e.align,g,this.right-x);else{const b=this.columnSizes.reduce((w,S)=>Math.max(w,S.height),0);f=d+Yn(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const y=Yn(l,g,g+x);o.textAlign=r.textAlign(J1(l)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=n.string,uf(o,t.text,y,f,n)}_computeTitleHeight(){const e=this.options.title,t=Zn(e.font),n=yi(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,r;if(Aa(e,this.left,this.right)&&Aa(t,this.top,this.bottom)){for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],Aa(e,i.left,i.left+i.width)&&Aa(t,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const t=this.options;if(!x3(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=f3(i,n);i&&!r&&Rt(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!r&&Rt(t.onHover,[e,n,this],this)}else n&&Rt(t.onClick,[e,n,this],this)}}function p3(s,e,t,n,i){const r=m3(n,s,e,t),o=g3(i,n,e.lineHeight);return{itemWidth:r,itemHeight:o}}function m3(s,e,t,n){let i=s.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+t.size/2+n.measureText(i).width}function g3(s,e,t){let n=s;return typeof e.text!="string"&&(n=Uk(e,t)),n}function Uk(s,e){const t=s.text?s.text.length:0;return e*t}function x3(s,e){return!!((s==="mousemove"||s==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(s==="click"||s==="mouseup"))}var lw={id:"legend",_element:nA,start(s,e,t){const n=s.legend=new nA({ctx:s.ctx,options:t,chart:s});gi.configure(s,n,t),gi.addBox(s,n)},stop(s){gi.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,e,t){const n=s.legend;gi.configure(s,n,t),n.options=t},afterUpdate(s){const e=s.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(s,e){e.replay||s.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,e,t){const n=e.datasetIndex,i=t.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const e=s.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:i,color:r,useBorderRadius:o,borderRadius:l}}=s.legend.options;return s._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(t?0:void 0),f=yi(d.borderWidth);return{text:e[u.index].label,fillStyle:d.backgroundColor,fontColor:r,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class Wk extends Xi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=pn(n.text)?n.text.length:1;this._padding=yi(n.padding);const r=i*Zn(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:n,bottom:i,right:r,options:o}=this,l=o.align;let u=0,d,f,g;return this.isHorizontal()?(f=Yn(l,n,r),g=t+e,d=r-n):(o.position==="left"?(f=n+e,g=Yn(l,i,t),u=sn*-.5):(f=r-e,g=Yn(l,t,i),u=sn*.5),d=i-t),{titleX:f,titleY:g,maxWidth:d,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Zn(t.font),r=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:u,rotation:d}=this._drawArgs(r);uf(e,t.text,0,0,n,{color:t.color,maxWidth:u,rotation:d,textAlign:J1(t.align),textBaseline:"middle",translation:[o,l]})}}function v3(s,e){const t=new Wk({ctx:s.ctx,options:e,chart:s});gi.configure(s,t,e),gi.addBox(s,t),s.titleBlock=t}var cw={id:"title",_element:Wk,start(s,e,t){v3(s,t)},stop(s){const e=s.titleBlock;gi.removeBox(s,e),delete s.titleBlock},beforeUpdate(s,e,t){const n=s.titleBlock;gi.configure(s,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ah={average(s){if(!s.length)return!1;let e,t,n=new Set,i=0,r=0;for(e=0,t=s.length;e<t;++e){const l=s[e].element;if(l&&l.hasValue()){const u=l.tooltipPosition();n.add(u.x),i+=u.y,++r}}return r===0||n.size===0?!1:{x:[...n].reduce((l,u)=>l+u)/n.size,y:i/r}},nearest(s,e){if(!s.length)return!1;let t=e.x,n=e.y,i=Number.POSITIVE_INFINITY,r,o,l;for(r=0,o=s.length;r<o;++r){const u=s[r].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),f=rb(e,d);f<i&&(i=f,l=u)}}if(l){const u=l.tooltipPosition();t=u.x,n=u.y}return{x:t,y:n}}};function rr(s,e){return e&&(pn(e)?Array.prototype.push.apply(s,e):s.push(e)),s}function Hr(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function y3(s,e){const{element:t,datasetIndex:n,index:i}=e,r=s.getDatasetMeta(n).controller,{label:o,value:l}=r.getLabelAndValue(i);return{chart:s,label:o,parsed:r.getParsed(i),raw:s.data.datasets[n].data[i],formattedValue:l,dataset:r.getDataset(),dataIndex:i,datasetIndex:n,element:t}}function sA(s,e){const t=s.chart.ctx,{body:n,footer:i,title:r}=s,{boxWidth:o,boxHeight:l}=e,u=Zn(e.bodyFont),d=Zn(e.titleFont),f=Zn(e.footerFont),g=r.length,x=i.length,y=n.length,b=yi(e.padding);let w=b.height,S=0,C=n.reduce((k,T)=>k+T.before.length+T.lines.length+T.after.length,0);if(C+=s.beforeBody.length+s.afterBody.length,g&&(w+=g*d.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),C){const k=e.displayColors?Math.max(l,u.lineHeight):u.lineHeight;w+=y*k+(C-y)*u.lineHeight+(C-1)*e.bodySpacing}x&&(w+=e.footerMarginTop+x*f.lineHeight+(x-1)*e.footerSpacing);let j=0;const A=function(k){S=Math.max(S,t.measureText(k).width+j)};return t.save(),t.font=d.string,gt(s.title,A),t.font=u.string,gt(s.beforeBody.concat(s.afterBody),A),j=e.displayColors?o+2+e.boxPadding:0,gt(n,k=>{gt(k.before,A),gt(k.lines,A),gt(k.after,A)}),j=0,t.font=f.string,gt(s.footer,A),t.restore(),S+=b.width,{width:S,height:w}}function b3(s,e){const{y:t,height:n}=e;return t<n/2?"top":t>s.height-n/2?"bottom":"center"}function w3(s,e,t,n){const{x:i,width:r}=n,o=t.caretSize+t.caretPadding;if(s==="left"&&i+r+o>e.width||s==="right"&&i-r-o<0)return!0}function _3(s,e,t,n){const{x:i,width:r}=t,{width:o,chartArea:{left:l,right:u}}=s;let d="center";return n==="center"?d=i<=(l+u)/2?"left":"right":i<=r/2?d="left":i>=o-r/2&&(d="right"),w3(d,s,e,t)&&(d="center"),d}function iA(s,e,t){const n=t.yAlign||e.yAlign||b3(s,t);return{xAlign:t.xAlign||e.xAlign||_3(s,e,t,n),yAlign:n}}function S3(s,e){let{x:t,width:n}=s;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function C3(s,e,t){let{y:n,height:i}=s;return e==="top"?n+=t:e==="bottom"?n-=i+t:n-=i/2,n}function rA(s,e,t,n){const{caretSize:i,caretPadding:r,cornerRadius:o}=s,{xAlign:l,yAlign:u}=t,d=i+r,{topLeft:f,topRight:g,bottomLeft:x,bottomRight:y}=cu(o);let b=S3(e,l);const w=C3(e,u,d);return u==="center"?l==="left"?b+=d:l==="right"&&(b-=d):l==="left"?b-=Math.max(f,x)+i:l==="right"&&(b+=Math.max(g,y)+i),{x:Qn(b,0,n.width-e.width),y:Qn(w,0,n.height-e.height)}}function xg(s,e,t){const n=yi(t.padding);return e==="center"?s.x+s.width/2:e==="right"?s.x+s.width-n.right:s.x+n.left}function oA(s){return rr([],Hr(s))}function E3(s,e,t){return Sc(s,{tooltip:e,tooltipItems:t,type:"tooltip"})}function aA(s,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?s.override(t):s}const qk={beforeTitle:Fr,title(s){if(s.length>0){const e=s[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:Fr,beforeBody:Fr,beforeLabel:Fr,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let e=s.dataset.label||"";e&&(e+=": ");const t=s.formattedValue;return jt(t)||(e+=t),e},labelColor(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Fr,afterBody:Fr,beforeFooter:Fr,footer:Fr,afterFooter:Fr};function ws(s,e,t,n){const i=s[e].call(t,n);return typeof i>"u"?qk[e].call(t,n):i}class db extends Xi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,r=new Nk(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=E3(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,i=ws(n,"beforeTitle",this,e),r=ws(n,"title",this,e),o=ws(n,"afterTitle",this,e);let l=[];return l=rr(l,Hr(i)),l=rr(l,Hr(r)),l=rr(l,Hr(o)),l}getBeforeBody(e,t){return oA(ws(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return gt(e,r=>{const o={before:[],lines:[],after:[]},l=aA(n,r);rr(o.before,Hr(ws(l,"beforeLabel",this,r))),rr(o.lines,ws(l,"label",this,r)),rr(o.after,Hr(ws(l,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,t){return oA(ws(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,i=ws(n,"beforeFooter",this,e),r=ws(n,"footer",this,e),o=ws(n,"afterFooter",this,e);let l=[];return l=rr(l,Hr(i)),l=rr(l,Hr(r)),l=rr(l,Hr(o)),l}_createItems(e){const t=this._active,n=this.chart.data,i=[],r=[],o=[];let l=[],u,d;for(u=0,d=t.length;u<d;++u)l.push(y3(this.chart,t[u]));return e.filter&&(l=l.filter((f,g,x)=>e.filter(f,g,x,n))),e.itemSort&&(l=l.sort((f,g)=>e.itemSort(f,g,n))),gt(l,f=>{const g=aA(e.callbacks,f);i.push(ws(g,"labelColor",this,f)),r.push(ws(g,"labelPointStyle",this,f)),o.push(ws(g,"labelTextColor",this,f))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const l=Ah[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const u=this._size=sA(this,n),d=Object.assign({},l,u),f=iA(this.chart,n,d),g=rA(n,d,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,r={opacity:1,x:g.x,y:g.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const r=this.getCaretPosition(e,n,i);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:g}=cu(l),{x,y}=e,{width:b,height:w}=t;let S,C,j,A,k,T;return r==="center"?(k=y+w/2,i==="left"?(S=x,C=S-o,A=k+o,T=k-o):(S=x+b,C=S+o,A=k-o,T=k+o),j=S):(i==="left"?C=x+Math.max(u,f)+o:i==="right"?C=x+b-Math.max(d,g)-o:C=this.caretX,r==="top"?(A=y,k=A-o,S=C-o,j=C+o):(A=y+w,k=A+o,S=C+o,j=C-o),T=A),{x1:S,x2:C,x3:j,y1:A,y2:k,y3:T}}drawTitle(e,t,n){const i=this.title,r=i.length;let o,l,u;if(r){const d=uu(n.rtl,this.x,this.width);for(e.x=xg(this,n.titleAlign,n),t.textAlign=d.textAlign(n.titleAlign),t.textBaseline="middle",o=Zn(n.titleFont),l=n.titleSpacing,t.fillStyle=n.titleColor,t.font=o.string,u=0;u<r;++u)t.fillText(i[u],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,u+1===r&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,t,n,i,r){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:u,boxWidth:d}=r,f=Zn(r.bodyFont),g=xg(this,"left",r),x=i.x(g),y=u<f.lineHeight?(f.lineHeight-u)/2:0,b=t.y+y;if(r.usePointStyle){const w={radius:Math.min(d,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},S=i.leftForLtr(x,d)+d/2,C=b+u/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,ab(e,w,S,C),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,ab(e,w,S,C)}else{e.lineWidth=rt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const w=i.leftForLtr(x,d),S=i.leftForLtr(i.xPlus(x,1),d-2),C=cu(o.borderRadius);Object.values(C).some(j=>j!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,w0(e,{x:w,y:b,w:d,h:u,radius:C}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),w0(e,{x:S,y:b+1,w:d-2,h:u-2,radius:C}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(w,b,d,u),e.strokeRect(w,b,d,u),e.fillStyle=o.backgroundColor,e.fillRect(S,b+1,d-2,u-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:l,boxHeight:u,boxWidth:d,boxPadding:f}=n,g=Zn(n.bodyFont);let x=g.lineHeight,y=0;const b=uu(n.rtl,this.x,this.width),w=function(F){t.fillText(F,b.x(e.x+y),e.y+x/2),e.y+=x+r},S=b.textAlign(o);let C,j,A,k,T,I,M;for(t.textAlign=o,t.textBaseline="middle",t.font=g.string,e.x=xg(this,S,n),t.fillStyle=n.bodyColor,gt(this.beforeBody,w),y=l&&S!=="right"?o==="center"?d/2+f:d+2+f:0,k=0,I=i.length;k<I;++k){for(C=i[k],j=this.labelTextColors[k],t.fillStyle=j,gt(C.before,w),A=C.lines,l&&A.length&&(this._drawColorBox(t,e,k,b,n),x=Math.max(g.lineHeight,u)),T=0,M=A.length;T<M;++T)w(A[T]),x=g.lineHeight;gt(C.after,w)}y=0,x=g.lineHeight,gt(this.afterBody,w),e.y-=r}drawFooter(e,t,n){const i=this.footer,r=i.length;let o,l;if(r){const u=uu(n.rtl,this.x,this.width);for(e.x=xg(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=u.textAlign(n.footerAlign),t.textBaseline="middle",o=Zn(n.footerFont),t.fillStyle=n.footerColor,t.font=o.string,l=0;l<r;++l)t.fillText(i[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:r,yAlign:o}=this,{x:l,y:u}=e,{width:d,height:f}=n,{topLeft:g,topRight:x,bottomLeft:y,bottomRight:b}=cu(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(l+g,u),o==="top"&&this.drawCaret(e,t,n,i),t.lineTo(l+d-x,u),t.quadraticCurveTo(l+d,u,l+d,u+x),o==="center"&&r==="right"&&this.drawCaret(e,t,n,i),t.lineTo(l+d,u+f-b),t.quadraticCurveTo(l+d,u+f,l+d-b,u+f),o==="bottom"&&this.drawCaret(e,t,n,i),t.lineTo(l+y,u+f),t.quadraticCurveTo(l,u+f,l,u+f-y),o==="center"&&r==="left"&&this.drawCaret(e,t,n,i),t.lineTo(l,u+g),t.quadraticCurveTo(l,u,l+g,u),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const o=Ah[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=sA(this,e),u=Object.assign({},o,this._size),d=iA(t,e,u),f=rA(e,u,d,t);(i._to!==f.x||r._to!==f.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=yi(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,i,t),Ak(e,t.textDirection),r.y+=o.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),kk(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map(({datasetIndex:l,index:u})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[u],index:u}}),r=!v0(n,i),o=this._positionChanged(i,t);(r||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,t,n),l=this._positionChanged(o,e),u=t||!v0(o,r)||l;return u&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),u}_getActiveElements(e,t,n,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:n,caretY:i,options:r}=this,o=Ah[r.position].call(this,e,t);return o!==!1&&(n!==o.x||i!==o.y)}}ae(db,"positioners",Ah);var uw={id:"tooltip",_element:db,positioners:Ah,afterInit(s,e,t){t&&(s.tooltip=new db({chart:s,options:t}))},beforeUpdate(s,e,t){s.tooltip&&s.tooltip.initialize(t)},reset(s,e,t){s.tooltip&&s.tooltip.initialize(t)},afterDraw(s){const e=s.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(s.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",t)}},afterEvent(s,e){if(s.tooltip){const t=e.replay;s.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,e)=>e.bodyFont.size,boxWidth:(s,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:qk},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const A3=(s,e,t,n)=>(typeof e=="string"?(t=s.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function k3(s,e,t,n){const i=s.indexOf(e);if(i===-1)return A3(s,e,t,n);const r=s.lastIndexOf(e);return i!==r?t:i}const j3=(s,e)=>s===null?null:Qn(Math.round(s),0,e);function lA(s){const e=this.getLabels();return s>=0&&s<e.length?e[s]:s}class hf extends Sd{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const n=this.getLabels();for(const{index:i,label:r}of t)n[i]===r&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(jt(e))return null;const n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:k3(n,e,Je(t,e),this._addedLabels),j3(t,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=e===0&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=t;o++)i.push({value:o});return i}getLabelForValue(e){return lA.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ae(hf,"id","category"),ae(hf,"defaults",{ticks:{callback:lA}});function N3(s,e){const t=[],{bounds:i,step:r,min:o,max:l,precision:u,count:d,maxTicks:f,maxDigits:g,includeBounds:x}=s,y=r||1,b=f-1,{min:w,max:S}=e,C=!jt(o),j=!jt(l),A=!jt(d),k=(S-w)/(g+1);let T=uE((S-w)/b/y)*y,I,M,F,B;if(T<1e-14&&!C&&!j)return[{value:w},{value:S}];B=Math.ceil(S/T)-Math.floor(w/T),B>b&&(T=uE(B*T/b/y)*y),jt(u)||(I=Math.pow(10,u),T=Math.ceil(T*I)/I),i==="ticks"?(M=Math.floor(w/T)*T,F=Math.ceil(S/T)*T):(M=w,F=S),C&&j&&r&&nO((l-o)/r,T/1e3)?(B=Math.round(Math.min((l-o)/T,f)),T=(l-o)/B,M=o,F=l):A?(M=C?o:M,F=j?l:F,B=d-1,T=(F-M)/B):(B=(F-M)/T,qh(B,Math.round(B),T/1e3)?B=Math.round(B):B=Math.ceil(B));const O=Math.max(dE(T),dE(M));I=Math.pow(10,jt(u)?O:u),M=Math.round(M*I)/I,F=Math.round(F*I)/I;let W=0;for(C&&(x&&M!==o?(t.push({value:o}),M<o&&W++,qh(Math.round((M+W*T)*I)/I,o,cA(o,k,s))&&W++):M<o&&W++);W<B;++W){const J=Math.round((M+W*T)*I)/I;if(j&&J>l)break;t.push({value:J})}return j&&x&&F!==l?t.length&&qh(t[t.length-1].value,l,cA(l,k,s))?t[t.length-1].value=l:t.push({value:l}):(!j||F===l)&&t.push({value:F}),t}function cA(s,e,{horizontal:t,minRotation:n}){const i=fl(n),r=(t?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+s).length;return Math.min(e/r,o)}class T3 extends Sd{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return jt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const o=u=>i=t?i:u,l=u=>r=n?r:u;if(e){const u=Er(i),d=Er(r);u<0&&d<0?l(0):u>0&&d>0&&o(0)}if(i===r){let u=r===0?1:Math.abs(r*.05);l(r+u),e||o(i-u)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},r=this._range||this,o=N3(i,r);return e.bounds==="ticks"&&sO(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return gk(e,this.chart.options.locale,this.options.ticks.format)}}class ff extends T3{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=vi(e)?e:0,this.max=vi(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=fl(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ae(ff,"id","linear"),ae(ff,"defaults",{ticks:{callback:vk.formatters.numeric}});const ax={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},js=Object.keys(ax);function uA(s,e){return s-e}function dA(s,e){if(jt(e))return null;const t=s._adapter,{parser:n,round:i,isoWeekday:r}=s._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),vi(o)||(o=typeof n=="string"?t.parse(o,n):t.parse(o)),o===null?null:(i&&(o=i==="week"&&(lf(r)||r===!0)?t.startOf(o,"isoWeek",r):t.startOf(o,i)),+o)}function hA(s,e,t,n){const i=js.length;for(let r=js.indexOf(s);r<i-1;++r){const o=ax[js[r]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(l*o.size))<=n)return js[r]}return js[i-1]}function P3(s,e,t,n,i){for(let r=js.length-1;r>=js.indexOf(t);r--){const o=js[r];if(ax[o].common&&s._adapter.diff(i,n,o)>=e-1)return o}return js[t?js.indexOf(t):0]}function R3(s){for(let e=js.indexOf(s)+1,t=js.length;e<t;++e)if(ax[js[e]].common)return js[e]}function fA(s,e,t){if(!t)s[e]=!0;else if(t.length){const{lo:n,hi:i}=Y1(t,e),r=t[n]>=e?t[n]:t[i];s[r]=!0}}function L3(s,e,t,n){const i=s._adapter,r=+i.startOf(e[0].value,n),o=e[e.length-1].value;let l,u;for(l=r;l<=o;l=+i.add(l,1,n))u=t[l],u>=0&&(e[u].major=!0);return e}function pA(s,e,t){const n=[],i={},r=e.length;let o,l;for(o=0;o<r;++o)l=e[o],i[l]=o,n.push({value:l,major:!1});return r===0||!t?n:L3(s,n,i,t)}class E0 extends Sd{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),i=this._adapter=new O4._date(e.adapters.date);i.init(t),Wh(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:dA(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:l}=this.getUserBounds();function u(d){!o&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!l&&!isNaN(d.max)&&(r=Math.max(r,d.max))}(!o||!l)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),i=vi(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),r=vi(r)&&!isNaN(r)?r:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,l=lO(i,r,o);return this._unit=t.unit||(n.autoSkip?hA(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):P3(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:R3(this._unit),this.initOffsets(i),e.reverse&&l.reverse(),pA(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,n=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?n=r:n=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Qn(t,0,o),n=Qn(n,0,o),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,r=i.time,o=r.unit||hA(r.minUnit,t,n,this._getLabelCapacity(t)),l=Je(i.ticks.stepSize,1),u=o==="week"?r.isoWeekday:!1,d=lf(u)||u===!0,f={};let g=t,x,y;if(d&&(g=+e.startOf(g,"isoWeek",u)),g=+e.startOf(g,d?"day":o),e.diff(n,t,o)>1e5*l)throw new Error(t+" and "+n+" are too far apart with stepSize of "+l+" "+o);const b=i.ticks.source==="data"&&this.getDataTimestamps();for(x=g,y=0;x<n;x=+e.add(x,l,o),y++)fA(f,x,b);return(x===n||i.bounds==="ticks"||y===1)&&fA(f,x,b),Object.keys(f).sort(uA).map(w=>+w)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,r=this._unit,o=t||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,t,n,i){const r=this.options,o=r.ticks.callback;if(o)return Rt(o,[e,t,n],this);const l=r.time.displayFormats,u=this._unit,d=this._majorUnit,f=u&&l[u],g=d&&l[d],x=n[t],y=d&&g&&x&&x.major;return this._adapter.format(e,i||(y?g:f))}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=fl(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),o=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:n*r+l*o,h:n*o+l*r}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,r=this._tickFormatFunction(e,0,pA(this,[e],this._majorUnit),i),o=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,n=i.length;t<n;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(dA(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return fk(e.sort(uA))}}ae(E0,"id","time"),ae(E0,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function vg(s,e,t){let n=0,i=s.length-1,r,o,l,u;t?(e>=s[n].pos&&e<=s[i].pos&&({lo:n,hi:i}=pl(s,"pos",e)),{pos:r,time:l}=s[n],{pos:o,time:u}=s[i]):(e>=s[n].time&&e<=s[i].time&&({lo:n,hi:i}=pl(s,"time",e)),{time:r,pos:l}=s[n],{time:o,pos:u}=s[i]);const d=o-r;return d?l+(u-l)*(e-r)/d:l}class mA extends E0{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=vg(t,this.min),this._tableRange=vg(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],r=[];let o,l,u,d,f;for(o=0,l=e.length;o<l;++o)d=e[o],d>=t&&d<=n&&i.push(d);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(o=0,l=i.length;o<l;++o)f=i[o+1],u=i[o-1],d=i[o],Math.round((f+u)/2)!==d&&r.push({time:d,pos:o/(l-1)});return r}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(vg(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return vg(this._table,n*this._tableRange+this._minPos,!0)}}ae(mA,"id","timeseries"),ae(mA,"defaults",E0.defaults);const Gk="label";function gA(s,e){typeof s=="function"?s(e):s&&(s.current=e)}function I3(s,e){const t=s.options;t&&e&&Object.assign(t,e)}function Xk(s,e){s.labels=e}function Kk(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Gk;const n=[];s.datasets=e.map(i=>{const r=s.datasets.find(o=>o[t]===i[t]);return!r||!i.data||n.includes(r)?{...i}:(n.push(r),Object.assign(r,i),r)})}function M3(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gk;const t={labels:[],datasets:[]};return Xk(t,s.labels),Kk(t,s.datasets,e),t}function D3(s,e){const{height:t=150,width:n=300,redraw:i=!1,datasetIdKey:r,type:o,data:l,options:u,plugins:d=[],fallbackContent:f,updateMode:g,...x}=s,y=N.useRef(null),b=N.useRef(null),w=()=>{y.current&&(b.current=new Cd(y.current,{type:o,data:M3(l,r),options:u&&{...u},plugins:d}),gA(e,b.current))},S=()=>{gA(e,null),b.current&&(b.current.destroy(),b.current=null)};return N.useEffect(()=>{!i&&b.current&&u&&I3(b.current,u)},[i,u]),N.useEffect(()=>{!i&&b.current&&Xk(b.current.config.data,l.labels)},[i,l.labels]),N.useEffect(()=>{!i&&b.current&&l.datasets&&Kk(b.current.config.data,l.datasets,r)},[i,l.datasets]),N.useEffect(()=>{b.current&&(i?(S(),setTimeout(w)):b.current.update(g))},[i,u,l.labels,l.datasets,g]),N.useEffect(()=>{b.current&&(S(),setTimeout(w))},[o]),N.useEffect(()=>(w(),()=>S()),[]),He.createElement("canvas",{ref:y,role:"img",height:t,width:n,...x},f)}const F3=N.forwardRef(D3);function Yk(s,e){return Cd.register(e),N.forwardRef((t,n)=>He.createElement(F3,{...t,ref:n,type:s}))}const O3=Yk("line",Ng),z3=Yk("bar",jg);Cd.register(hf,ff,Eh,Rg,cw,uw,lw);function B3(){const[s,e]=N.useState(!0),[t,n]=N.useState(null),i=async()=>{try{const l=await me.get("payment/Payment/listar-pagamentos");if(!l.data){console.error("Dados de resposta inválidos");return}const u=l.data,d={};u.forEach(x=>{const y=x.data.substring(0,10),b=x.valor;d[y]?d[y]+=b:d[y]=b});const f=Object.keys(d).sort(),g=f.map(x=>d[x]);n({labels:f,values:g})}catch(l){console.error("Erro ao buscar dados:",l)}finally{e(!1)}};if(N.useEffect(()=>{i()},[]),s||!t)return h.jsx("div",{children:"Carregando..."});const r={labels:t.labels,datasets:[{label:"Distribuição de Pagamentos",data:t.values,borderColor:"#4CAF50",backgroundColor:"rgba(76, 175, 80, 0.2)",fill:!0,tension:.3}]},o={responsive:!0,plugins:{title:{display:!0,text:"Distribuição de Pagamentos ao Longo do Tempo"}},scales:{x:{type:"category",title:{display:!0,text:"Data"}},y:{beginAtZero:!0,title:{display:!0,text:"Valor Pago"}}}};return h.jsx("div",{className:"flex flex-col gap-y-5 min-h-screen",children:h.jsx("main",{className:"px-4 gap-y-5 mt-4 flex flex-1 flex-col",children:h.jsx("div",{className:"w-full h-[300px] md:h-[400px]",children:h.jsx(O3,{data:r,options:o})})})})}Cd.register(hf,ff,Kh,cw,uw,lw);function H3(){const[s,e]=N.useState(!0),[t,n]=N.useState(null),i=async()=>{try{const l=await me.get("payment/Payment/listar-pagamentos");if(!l.data){console.error("Dados de resposta inválidos");return}const u=l.data;console.log(u);const d={};u.forEach(x=>{const y=x.contratoId,b=x.valor;d[y]?d[y]+=b:d[y]=b});const f=Object.keys(d),g=f.map(x=>d[x]);n({labels:f,values:g})}catch(l){console.error("Erro ao buscar dados:",l)}finally{e(!1)}};if(N.useEffect(()=>{i()},[]),console.log(t),s||!t)return h.jsx("div",{children:"Carregando..."});const r={labels:t.labels,datasets:[{label:"Distribuição de Pagamentos por Contrato",data:t.values,backgroundColor:"#4CAF50",borderColor:"#388E3C",borderWidth:1}]},o={responsive:!0,plugins:{title:{display:!0,text:"Distribuição de Pagamentos por Contrato"}},scales:{x:{title:{display:!0,text:"Contrato"}},y:{beginAtZero:!0,title:{display:!0,text:"Valor Total Pago"}}}};return h.jsx("div",{className:"flex flex-col gap-y-5 min-h-screen",children:h.jsx("main",{className:"px-4 gap-y-5 mt-4 flex flex-1 flex-col",children:h.jsx("div",{className:"w-full h-[300px] md:h-[400px]",children:h.jsx(z3,{data:r,options:o})})})})}Cd.register(hf,ff,Kh,cw,uw,lw,Ch);function V3(){const[s,e]=N.useState(""),[t,n]=N.useState(!0),[i,r]=N.useState(0),[o,l]=N.useState(0),[u,d]=N.useState(0),f=async()=>{try{const g=await me.get("payment/Payment/listar-pagamentos");if(!g.data){console.error("Dados de resposta inválidos");return}const x=g.data;let y=0,b=0,w=0;x.forEach(S=>{y+=S.valor,S.multa&&b++,S.tipoPagamento==="aluguel"&&(w+=S.valor)}),r(y),l(b),d(w)}catch(g){console.error(g),le("Erro ao se conectar com o servidor.")}finally{n(!1)}};return N.useEffect(()=>{f()},[]),h.jsxs("div",{className:"flex flex-col bg-[#F0F0F0] gap-y-5 min-h-screen",children:[h.jsx(Xe,{}),h.jsxs("main",{className:"px-4 gap-y-5 mt-4 flex flex-1 flex-col",children:[h.jsx(on,{}),t?h.jsx(Ke,{type:"skeleton"}):h.jsxs(h.Fragment,{children:[h.jsxs("section",{className:"flex flex-col gap-y-5",children:[h.jsx("h2",{className:"text-2xl font-semibold",children:"Monitoramento Financeiro"}),h.jsx("form",{className:"grid grid-cols-1 gap-4",children:h.jsxs("div",{className:"flex w-full gap-2 items-end",children:[h.jsx("div",{className:"w-full",children:h.jsx(lt,{label:"Buscar boleto",value:s,onChange:e})}),h.jsxs("button",{type:"submit",className:"flex items-center justify-center gap-2 w-1/4 h-10 px-4 bg-[#1F1E1C] text-neutral-50 text-form-label rounded",children:["Filtrar",h.jsx("img",{src:wi,alt:"Filtrar",className:"w-5 h-5"})]})]})})]}),h.jsxs("section",{className:"flex-grow flex flex-col gap-y-5",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{className:"font-sans font-normal text-form-label text-neutral-900 mb-1.5",children:h.jsx("h2",{children:"Total de Pagamentos"})}),h.jsx("div",{className:"border border-neutral-300 bg-[#D9D9D9] text-2xl font-bold shadow-[2px_2px_4px_rgba(0,0,0,0.4)] rounded-[4px] overflow-hidden h-[120px] flex items-center justify-center",children:h.jsxs("p",{children:["R$ ",i.toFixed(2)]})})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{className:"font-sans font-normal text-form-label text-neutral-900 mb-1.5",children:h.jsx("h2",{children:"Quantidade de Multas"})}),h.jsx("div",{className:"border border-neutral-300 bg-[#D9D9D9] text-2xl font-bold shadow-[2px_2px_4px_rgba(0,0,0,0.4)] rounded-[4px] overflow-hidden h-[120px] flex items-center justify-center",children:h.jsx("p",{children:o})})]})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{className:"font-sans font-normal text-form-label text-neutral-900 mb-1.5",children:h.jsx("h2",{children:"Valor Total de Aluguéis"})}),h.jsx("div",{className:"border border-neutral-300 bg-[#D9D9D9] text-2xl font-bold shadow-[2px_2px_4px_rgba(0,0,0,0.4)] rounded-[4px] overflow-hidden h-[120px] flex items-center justify-center",children:h.jsxs("p",{children:["R$ ",u.toFixed(2)]})})]}),h.jsxs("div",{className:"my-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(B3,{}),h.jsx(H3,{})]})]})]})]}),h.jsx(ut,{})]})}function $3(){const s=Ye(),[e,t]=N.useState([]),[n,i]=N.useState(!0),[r,o]=N.useState([]),[l,u]=N.useState(null),[d,f]=N.useState([]),[g,x]=N.useState([]),[y,b]=N.useState(""),[w,S]=N.useState(!1),C=[{name:"tipoImovel",label:"Tipo de Imóvel",type:"select",options:["Casa","Apartamento","Sala Comercial","Loja"],property:"tipoImovel"},{name:"bairro",label:"Bairro",type:"text",property:"bairro"},{name:"endereco",label:"Endereço",type:"text",property:"endereco"},{name:"cep",label:"CEP",type:"text",property:"cep"},{name:"valorImovel",label:"Valor do Imóvel",type:"number",property:"valorImovel"},{name:"condominio",label:"Condomínio",type:"number",property:"condominio"}],A=pd().UserID;N.useEffect(()=>{(async()=>{var M,F;if(!A){console.error("User ID is not available.");return}try{const B=await me.get(`auth/Locador/PegarLocadorPorUserId/${A}`);if(!B.data){console.error("Dados de resposta inválidos");return}u(B.data.locadorId)}catch(B){console.error(B),le(((F=(M=B==null?void 0:B.response)==null?void 0:M.data)==null?void 0:F.message)||"Erro ao se conectar com o servidor.")}finally{i(!1)}})()},[A]),N.useEffect(()=>{if(l===null)return;(async()=>{var M,F;try{const B=await me.get(`property/Imoveis/PegarImovelPorIdDoLocador/${l}`);if(!B.data){console.error("Dados de resposta inválidos");return}const O=B.data;O.forEach($=>{typeof $.fotos=="string"&&($.fotos=$.fotos.split(";").map(ee=>ee.trim()))});const W=O.flatMap($=>Array.isArray($.fotos)?$.fotos.map(ee=>ee.replace("https://storage.googleapis.com/administradora-kk.appspot.com/","")):[]),J=await me.post("property/Imoveis/AssinarFotos",W);if(!J.data){console.error("Dados de resposta inválidos do endpoint de assinatura");return}const ie=J.data;let se=0;O.forEach($=>{if(Array.isArray($.fotos)&&$.fotos.length>0){const ee=$.fotos.length;$.fotos=ie.slice(se,se+ee),se+=ee}else $.fotos=["../../../ImovelSemFoto.png"]}),t(O),console.log("Este é o valor de property: ",e),o(O),x(O),f(O)}catch(B){console.error(B),le(((F=(M=B==null?void 0:B.response)==null?void 0:M.data)==null?void 0:F.message)||"Erro ao se conectar com o servidor.")}finally{i(!1)}})()},[l]),N.useEffect(()=>{const I=pd();if(console.log(I),I){const M=I.UserID;M?console.log(M):console.error("User ID is not available in the token.")}},[]),N.useEffect(()=>{if(!y.trim()){o(g);return}const I=y.toLowerCase(),M=g.filter(F=>{var B;return(B=F.cep)==null?void 0:B.toLowerCase().includes(I)});o(M)},[y,g]);const k=()=>{S(!0)},T=I=>{x(I)};return h.jsxs("main",{className:"main-custom",children:[h.jsx(Xe,{}),h.jsxs("section",{className:"section-custom",children:[h.jsx("h2",{className:"text-2xl font-semibold",children:"Seus Imóveis"}),h.jsx("form",{className:"grid grid-cols-1 gap-4",children:h.jsxs("div",{className:"flex w-full gap-2 items-end",children:[h.jsx("div",{className:"w-full",children:h.jsx(_c,{label:"Buscar pelo cep",onFilter:I=>{b(I)}})}),h.jsxs("button",{type:"button",className:"flex items-center justify-center gap-2 w-1/4 h-10 px-4 bg-[#1F1E1C] text-neutral-50 text-form-label rounded",onClick:k,children:["Filtrar",h.jsx("img",{src:wi,alt:"Filtrar",className:"w-5 h-5"})]})]})}),h.jsx(kr,{isOpen:w,onClose:()=>S(!1),fields:C,data:d,onFilteredResult:T}),n?h.jsx(Ke,{type:"skeleton"}):h.jsxs("section",{className:"flex-grow flex flex-col gap-y-5",children:[h.jsx("h2",{className:"text-2xl font-semibold",children:"Resultados"}),h.jsx("div",{className:"h-[1px] bg-black"}),r.length===0?h.jsx("p",{className:"text-center text-lg text-neutral-500 mt-8 font-bold",children:"Nenhum imóvel encontrado."}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(I=>{var M;return h.jsx(U1,{id:I.imovelId,propertyType:I.tipoImovel,neighborhood:I.bairro,address:I.endereco,postalCode:I.cep,landlord:"Você",tenant:I.nomeLocatario,imageSrc:I.fotos&&I.fotos.length>0?I.fotos[0]:"../../../ImovelSemFoto.png",price:`R$ ${I.valorImovel.toFixed(2)}`,condominio:`R$ ${((M=I.condominio)==null?void 0:M.toString())??"R$ 0"}`,onClick:()=>s(`/imovel/${I.imovelId}`)},I.imovelId)})})]})]}),h.jsx(ut,{})]})}function U3(){const s=Ye(),[e,t]=N.useState(!0),[n,i]=N.useState([]),[r,o]=N.useState([]),[l,u]=N.useState([]),[d,f]=N.useState(""),[g,x]=N.useState(!1),y=[{name:"tipoImovel",label:"Tipo de Imóvel",type:"select",options:["Casa","Apartamento","Sala Comercial","Loja"],property:"tipoImovel"},{name:"bairro",label:"Bairro",type:"text",property:"bairro"},{name:"endereco",label:"Endereço",type:"text",property:"endereco"},{name:"valorImovel",label:"Valor do Imóvel",type:"number",property:"valorImovel"}],w=pd().RoleID;N.useEffect(()=>{(async()=>{var A,k;if(!w){console.error("Role ID is not available.");return}try{const T=await me.get(`property/Imoveis/PegarImovelPorIdDoLocatario/${w}`);if(console.log(T.data),!T.data){console.error("Invalid response data");return}const I=T.data;I.forEach(W=>{typeof W.fotos=="string"&&(W.fotos=W.fotos.split(";").map(J=>J.trim()))});const M=I.flatMap(W=>Array.isArray(W.fotos)?W.fotos.map(J=>J.replace("https://storage.googleapis.com/administradora-kk.appspot.com/","")):[]),F=await me.post("property/Imoveis/AssinarFotos",M);if(!F.data){console.error("Dados de resposta inválidos do endpoint de assinatura");return}const B=F.data;let O=0;I.forEach(W=>{if(Array.isArray(W.fotos)&&W.fotos.length>0){const J=W.fotos.length;W.fotos=B.slice(O,O+J),O+=J}else W.fotos=["../../../ImovelSemFoto.png"]}),i(I),u(I),o(I)}catch(T){console.error(T),le(((k=(A=T==null?void 0:T.response)==null?void 0:A.data)==null?void 0:k.message)||"Erro ao se conectar com o servidor.")}finally{t(!1)}})()},[w]),N.useEffect(()=>{if(!d.trim()){i(l);return}const j=d.toLowerCase(),A=l.filter(k=>{var T;return(T=k.cep)==null?void 0:T.toLowerCase().includes(j)});i(A)},[d,l]);const S=()=>{x(!0)},C=j=>{u(j)};return h.jsxs("main",{className:"main-custom",children:[h.jsx(Xe,{}),h.jsxs("section",{className:"section-custom",children:[h.jsx("h2",{className:"text-2xl font-semibold",children:"Imóveis Disponíveis para Locatário"}),h.jsx("form",{className:"grid grid-cols-1 gap-4",children:h.jsxs("div",{className:"flex w-full gap-2 items-end",children:[h.jsx("div",{className:"w-full",children:h.jsx(_c,{label:"Buscar pelo cep",onFilter:j=>{f(j)}})}),h.jsxs("button",{type:"button",className:"flex items-center justify-center gap-2 w-1/4 h-10 px-4 bg-[#1F1E1C] text-neutral-50 text-form-label rounded",onClick:S,children:["Filtrar",h.jsx("img",{src:wi,alt:"Filtrar",className:"w-5 h-5"})]})]})}),h.jsx(kr,{isOpen:g,onClose:()=>x(!1),fields:y,data:r,onFilteredResult:C}),e?h.jsx(Ke,{type:"skeleton"}):h.jsxs("section",{className:"flex-grow flex flex-col gap-y-5",children:[h.jsx("h2",{className:"text-2xl font-semibold",children:"Resultados"}),h.jsx("div",{className:"h-[1px] bg-black"}),n.length===0?h.jsx("p",{className:"text-center text-lg text-neutral-500 mt-8 font-bold",children:"Nenhum imóvel encontrado."}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(j=>{var A;return h.jsx(U1,{id:j.imovelId,propertyType:j.tipoImovel,neighborhood:j.bairro,address:j.endereco,postalCode:j.cep,landlord:j.nomeLocador,tenant:"Você",imageSrc:j.fotos&&j.fotos.length>0?j.fotos[0]:"../../../ImovelSemFoto.png",price:`R$ ${j.valorImovel.toFixed(2)}`,condominio:`R$ ${((A=j.condominio)==null?void 0:A.toString())??"R$ 0"}`,onClick:()=>s(`/imovel/${j.imovelId}`)},j.imovelId)})})]})]}),h.jsx(ut,{})]})}const W3=({images:s})=>{const[e,t]=N.useState(!1),[n,i]=N.useState(null);if(!s||s.length===0)return h.jsx("p",{className:"text-center text-gray-600",children:"Nenhuma imagem disponível."});const r=s[0],o=()=>t(!0),l=()=>t(!1),u=f=>i(f),d=()=>i(null);return h.jsxs("div",{className:"flex flex-col items-center m-4",children:[h.jsx("div",{className:"mb-4",children:h.jsx("img",{src:r,alt:"Imagem principal",className:"max-w-md h-auto rounded cursor-pointer",onClick:()=>u(r)})}),s.length>1&&h.jsx("button",{onClick:o,className:"px-4 py-2 bg-[#1F1E1C] text-white rounded",children:"Ver mais"}),e&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-70 z-50",children:h.jsxs("div",{className:"bg-white w-4/5 max-w-xl rounded p-4 relative",children:[h.jsx("button",{onClick:l,className:"absolute top-2 right-2 bg-gray-200 hover:bg-gray-300 rounded px-2 py-1 text-sm",children:"Fechar"}),h.jsx("div",{className:"mt-10 flex flex-wrap gap-3 justify-center",children:s.map((f,g)=>h.jsx("div",{className:"w-1/3 min-w-[80px] overflow-hidden cursor-pointer",onClick:()=>u(f),children:h.jsx("img",{src:f,alt:`Imagem ${g+1}`,className:"w-96 h-auto rounded"})},g))})]})}),n&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-80 z-[9999]",children:h.jsxs("div",{className:"relative flex flex-col items-center",children:[h.jsx("button",{onClick:d,className:"absolute top-2 right-2 bg-gray-200 hover:bg-gray-300 rounded px-2 py-1 text-sm",children:"Fechar"}),h.jsx("img",{src:n,alt:"Imagem ampliada",className:"max-h-[90vh] max-w-[90vw] object-contain rounded"})]})})]})};function q3(){const{imovelId:s}=u0(),e=Ye(),[t,n]=N.useState(null),[i,r]=N.useState(!0),o=async()=>{var l,u;try{const d=localStorage.getItem("userRole");let f;if(d=="Admin"||d=="Judiciario"?f=await me.get(`property/Imoveis/PegarImovelPorId/${s}`):f=await me.get(`property/Imoveis/PegarImovelPorIdComVerificacao/${s}`),!f.data){console.error("Dados de resposta inválidos");return}const g=f.data;typeof g.fotos=="string"&&(g.fotos=g.fotos.split(";").map(b=>b.trim()));const x=g.fotos?g.fotos.map(b=>b.replace("https://storage.googleapis.com/administradora-kk.appspot.com/","")):[],y=await me.post("property/Imoveis/AssinarFotos",x);if(!y.data){console.error("Dados de resposta inválidos do endpoint de assinatura");return}g.fotos=y.data,n(g)}catch(d){console.error(d),le(((u=(l=d==null?void 0:d.response)==null?void 0:l.data)==null?void 0:u.message)||"Erro ao se conectar com o servidor.")}finally{r(!1)}};return N.useEffect(()=>{o()},[s]),i?h.jsxs("main",{className:"main-custom",children:[h.jsx(Xe,{}),h.jsx(Ke,{type:"skeleton"}),h.jsx(ut,{})]}):t?h.jsxs("main",{className:"main-custom",children:[h.jsx(Xe,{}),h.jsxs("section",{className:"section-custom",children:[h.jsx(on,{}),h.jsx("h2",{className:"text-2xl font-semibold",children:"Detalhes do Imóvel"}),h.jsx(W3,{images:Array.isArray(t.fotos)?t.fotos:[t.fotos]}),h.jsxs("div",{className:"mt-4 p-4 text-normal-text shadow-[2px_2px_4px_rgba(0,0,0,0.4)] rounded-[4px] overflow-hidden",children:[h.jsxs("p",{children:[h.jsx("span",{className:"text-[#76726A]",children:"Tipo: "})," ",t.tipoImovel]}),h.jsxs("p",{children:[h.jsx("span",{className:"text-[#76726A]",children:"Endereço:  "}),t.endereco]}),h.jsxs("p",{children:[h.jsx("span",{className:"text-[#76726A]",children:"Bairro:  "}),t.bairro]}),h.jsxs("p",{children:[h.jsx("span",{className:"text-[#76726A]",children:"Descrição:  "}),t.descricao]}),h.jsxs("p",{children:[h.jsx("span",{className:"text-[#76726A]",children:"CEP:  "}),t.cep]}),h.jsxs("p",{children:[h.jsx("span",{className:"text-[#76726A]",children:"Complemento:  "}),t.complemento]}),h.jsxs("p",{children:[h.jsx("span",{className:"text-[#76726A]",children:"Valor:  "}),"R$",t.valorImovel.toFixed(2)]}),h.jsxs("p",{children:[h.jsx("span",{className:"text-[#76726A]",children:"Condomínio:  "}),"R$",t.condominio.toFixed(2)]})]}),h.jsxs("div",{className:"flex gap-4 mt-6",children:[h.jsx("button",{className:"px-4 py-2 bg-[#1F1E1C] text-white rounded",onClick:()=>e(`/chamados/${t.imovelId}`),children:"Ver Chamados"}),h.jsx("button",{className:"px-4 py-2 bg-[#1F1E1C] text-white rounded",onClick:()=>e(`/pagamento/${t.imovelId}`),children:"Ver Pagamentos"})]})]}),h.jsx(ut,{})]}):h.jsxs("main",{className:"main-custom",children:[h.jsx(Xe,{}),h.jsx("p",{className:"text-center text-lg text-neutral-500 mt-8 font-bold",children:"Imóvel não encontrado."}),h.jsx(ut,{})]})}const G3=({paymentid:s,title:e,line1:t,line2:n,line3:i,status:r})=>{const o=Ye(),l=()=>{o(`/pagamento-for-admin/${s}`)};return h.jsxs("div",{className:`flex border border-neutral-300 shadow-[2px_2px_4px_rgba(0,0,0,0.4)] 
                 rounded-[4px] overflow-hidden h-[120px] cursor-pointer
                 transition-transform hover:shadow-[2px_2px_4px_rgba(0,0,0,0.8)] 
                 hover:scale-[1.01] transition-all duration-300 ease-in-out`,onClick:l,children:[h.jsxs("div",{className:"w-3/4 p-4 text-[#363430]",children:[h.jsx("h3",{className:"text-form-label mb-2 text-[#363430]",children:e}),h.jsxs("p",{className:"text-normal-text mb-1",children:[h.jsx("span",{className:"text-[#76726A]",children:"Criado por:"})," ",t]}),h.jsxs("p",{className:"text-normal-text mb-1",children:[h.jsx("span",{className:"text-[#76726A]",children:"Endereço:"})," ",n]}),h.jsxs("p",{className:"text-normal-text",children:[h.jsx("span",{className:"text-[#76726A]",children:"Início:"})," ",i]})]}),h.jsx("div",{className:"w-1/4 flex items-start text-form-label p-4 text-[#76726A] italic justify-center",children:r})]})};function X3(){const s=Ye(),[e,t]=N.useState([]),[n,i]=N.useState([]),[r,o]=N.useState(!0),l=async()=>{try{const u=await me.get("payment/Payment/listar-pagamentos");if(!u.data){console.error("Dados de resposta inválidos");return}const f=u.data.map(g=>({paymentId:g.paymentId,title:g.descricao||"Descrição não informada",line1:g.pagante||"Pagante desconhecido",line2:g.metodoPagamento||"Método não informado",line3:new Date(g.data).toLocaleDateString("pt-BR"),status:g.multa?`Multa: R$ ${g.valorMulta.toFixed(2)}`:"Sem multa"}));t(f),i(f)}catch(u){console.error(u),le("Erro ao se conectar com o servidor.")}finally{o(!1)}};return N.useEffect(()=>{l()},[]),h.jsxs("main",{className:"min-h-screen bg-[#F0F0F0]",children:[h.jsx(Xe,{}),h.jsxs("div",{className:"flex justify-start gap-6 ms-2",children:[h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden hover:bg-neutral-200 transition duration-200",onClick:()=>s("/imoveis"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Ip,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Imóveis"})]}),h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden hover:bg-neutral-200 transition duration-200",onClick:()=>s("/usuarios"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Mp,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Clientes"})]}),h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden hover:bg-neutral-200 transition duration-200",onClick:()=>s("/contratos"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Lp,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Contratos"})]}),h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden hover:bg-neutral-200 transition duration-200",onClick:()=>s("/pagamentos"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Op,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Pagamentos"})]}),h.jsxs("button",{className:"relative group flex items-center gap-2 px-4 py-2 text-neutral-800 rounded-md overflow-hidden hover:bg-neutral-200 transition duration-200",onClick:()=>s("/chamados"),children:[h.jsx("span",{className:"absolute inset-0 -m-2 bg-neutral-400 z-0 scale-0 group-hover:scale-100 transition-transform"}),h.jsx(Rp,{className:"z-10"}),h.jsx("span",{className:"z-10",children:"Chamados"})]})]}),h.jsx("div",{className:"h-[1px] bg-neutral-400 mb-4"}),h.jsxs("section",{className:"flex flex-col gap-y-5 bg-[#F0F0F0] min-h-screen p-6 rounded-lg shadow-lg",children:[h.jsx(on,{}),h.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Pagamentos"}),h.jsx("form",{className:"grid grid-cols-1 gap-4 mb-6 ",children:h.jsxs("div",{className:"flex w-full gap-2 items-end",children:[h.jsx("div",{className:"w-full",children:h.jsx(_c,{label:"Buscar pagamento",onFilter:u=>{const d=e.filter(f=>f.descricao.toLowerCase().includes(u.toLowerCase()));i(d)}})}),h.jsxs("button",{type:"submit",className:"flex items-center justify-center gap-2 w-1/4 h-10 px-4 bg-[#1F1E1C] text-neutral-50 rounded-md hover:bg-black transition duration-200",children:["Filtrar",h.jsx("img",{src:wi,alt:"Filtrar",className:"w-5 h-5"})]})]})}),r?h.jsx(Ke,{type:"skeleton"}):h.jsxs("section",{className:"flex-grow flex flex-col gap-y-5 bg-[#F0F0F0]",children:[h.jsx("h2",{className:"text-2xl font-semibold",children:"Resultados"}),h.jsx("div",{className:"h-[1px] bg-neutral-300 mb-4"}),n.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(u=>h.jsx(G3,{paymentid:u.paymentId,title:u.title,line1:u.line1,line2:u.line2,line3:u.line3,status:u.status},u.paymentId))}):h.jsx("p",{className:"text-center text-lg text-neutral-500 mt-8 font-bold",children:"Nenhum pagamento encontrado."})]})]}),h.jsx(ut,{})]})}function K3(){const s=Ye(),[e,t]=N.useState(!0),[n,i]=N.useState([]),[r,o]=N.useState([]),[l,u]=N.useState([]),[d,f]=N.useState([]),[g,x]=N.useState(""),[y,b]=N.useState(!1),w=[{name:"locadorId",label:"Locador",type:"text",property:"locadorId"},{name:"locatarioId",label:"Locatário",type:"text",property:"locatarioId"},{name:"status",label:"Status",type:"select",property:"status",options:["Ativo","Inativo"]},{name:"dataEncerramento",label:"Data de Encerramento",type:"dateRange",property:"dataEncerramento"},{name:"imovelId",label:"Imóvel",type:"text",property:"imovelId"},{name:"iptu",label:"IPTU",type:"numberRange",property:"iptu"},{name:"valorAluguel",label:"Valor do Aluguel",type:"numberRange",property:"valorAluguel"}],S=async()=>{var A,k;try{t(!0);const T=await me.get("property/Contratos/PegarTodosOsContratos");T.data?(T.data.forEach(I=>{I.contratoId=Number(I.contratoId)}),i(T.data),o(T.data),u(T.data),f(T.data)):i([]),t(!1)}catch(T){console.error(T),T instanceof K2?le(((k=(A=T.response)==null?void 0:A.data)==null?void 0:k.message)||"Erro ao se conectar com o servidor."):le("Erro ao se conectar com o servidor."),t(!1)}};N.useEffect(()=>{if(!g.trim()){o(d);return}const A=Number(g),k=d.filter(T=>T.contratoId===A);o(k)},[g,d]);const C=()=>{b(!0)},j=A=>{f(A)};return N.useEffect(()=>{S()},[]),h.jsxs("main",{className:"main-custom",children:[h.jsx(Xe,{}),h.jsxs("section",{className:"section-custom",children:[h.jsx(on,{}),h.jsx(Yi,{label:"Cadastrar Contrato",onClick:()=>s("/contratos/criar")}),h.jsx("h2",{className:"text-2xl font-semibold",children:"Contratos"}),h.jsx("form",{className:"grid grid-cols-1 gap-4",children:h.jsxs("div",{className:"flex w-full gap-2 items-end",children:[h.jsx("div",{className:"w-full",children:h.jsx(_c,{label:"Buscar chamado pelo título",onFilter:A=>{x(A)}})}),h.jsxs("button",{type:"button",className:"flex items-center justify-center gap-2 w-1/4 h-10 px-4 bg-[#1F1E1C] text-neutral-50 text-form-label rounded",onClick:C,children:["Filtrar",h.jsx("img",{src:wi,alt:"Filtrar",className:"w-5 h-5"})]})]})}),h.jsx(kr,{isOpen:y,onClose:()=>b(!1),fields:w,data:l,onFilteredResult:j}),e?h.jsx(Ke,{type:"skeleton"}):h.jsxs("section",{className:"flex-grow flex flex-col gap-y-5",children:[h.jsx("h2",{className:"text-2xl font-semibold",children:"Resultados"}),h.jsx("div",{className:"h-[1px] bg-black"}),n.length===0?h.jsx("p",{className:"text-center text-lg text-neutral-500 mt-8 font-bold",children:"Nenhum contrato encontrado."}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(A=>h.jsx(rk,{id:A.contratoId,title:A.contratoId,locador:A.locadorId,locatario:A.locatarioId,status:A.status,encerramento:A.dataEncerramento,reajuste:A.DataReajuste??"data não disponível",location:A.imovelId,iptu:A.iptu.toFixed(2),aluguel:A.valorAluguel.toFixed(2)},A.contratoId))}),"coco"]})]}),h.jsx(ut,{})]})}function Y3(s){return jn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"},child:[]}]})(s)}function J3(s){return jn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"},child:[]}]})(s)}function Q3(s){return jn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M278.6 256l68.2-68.2c6.2-6.2 6.2-16.4 0-22.6-6.2-6.2-16.4-6.2-22.6 0L256 233.4l-68.2-68.2c-6.2-6.2-16.4-6.2-22.6 0-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3l68.2 68.2-68.2 68.2c-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3 6.2 6.2 16.4 6.2 22.6 0l68.2-68.2 68.2 68.2c6.2 6.2 16.4 6.2 22.6 0 6.2-6.2 6.2-16.4 0-22.6L278.6 256z"},child:[]}]})(s)}const Z3="modulepreload",e6=function(s){return"/"+s},xA={},yg=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(t.map(u=>{if(u=e6(u),u in xA)return;xA[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":Z3,d||(g.as="script"),g.crossOrigin="",g.href=u,l&&g.setAttribute("nonce",l),document.head.appendChild(g),d)return new Promise((x,y)=>{g.addEventListener("load",x),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function r(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&r(l.reason);return e().catch(r)})};var Yh={};Yh.d=(s,e)=>{for(var t in e)Yh.o(e,t)&&!Yh.o(s,t)&&Object.defineProperty(s,t,{enumerable:!0,get:e[t]})};Yh.o=(s,e)=>Object.prototype.hasOwnProperty.call(s,e);var De=globalThis.pdfjsLib={};Yh.d(De,{AbortException:()=>Ec,AnnotationEditorLayer:()=>S1,AnnotationEditorParamsType:()=>Ie,AnnotationEditorType:()=>ze,AnnotationEditorUIManager:()=>xc,AnnotationLayer:()=>Q8,AnnotationMode:()=>Yo,ColorPicker:()=>N0,DOMSVGFactory:()=>_w,DrawLayer:()=>k1,FeatureTest:()=>ds,GlobalWorkerOptions:()=>xo,ImageKind:()=>Lg,InvalidPDFException:()=>Qk,MissingPDFException:()=>Cc,OPS:()=>Li,OutputScale:()=>gb,PDFDataRangeTransport:()=>Xj,PDFDateString:()=>mw,PDFWorker:()=>fu,PasswordResponses:()=>i6,PermissionFlag:()=>s6,PixelsPerInch:()=>Pa,RenderingCancelledException:()=>fw,TextLayer:()=>Ub,UnexpectedResponseException:()=>dx,Util:()=>Ae,VerbosityLevel:()=>lx,XfaLayer:()=>Yj,build:()=>R8,createValidAbsoluteUrl:()=>l6,fetchData:()=>fx,getDocument:()=>S8,getFilenameFromUrl:()=>x6,getPdfFilenameFromUrl:()=>v6,getXfaPageViewport:()=>y6,isDataScheme:()=>px,isPdfFile:()=>pw,noContextMenu:()=>bi,normalizeUnicode:()=>p6,setLayerDimensions:()=>gc,shadow:()=>Ze,version:()=>P8});const es=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Jk=[1,0,0,1,0,0],hb=[.001,0,0,.001,0,0],t6=1e7,My=1.35,Gs={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Yo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},n6="pdfjs_internal_editor_",ze={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Ie={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},s6={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Un={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Lg={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},un={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},vh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},lx={ERRORS:0,WARNINGS:1,INFOS:5},Li={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},i6={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let cx=lx.WARNINGS;function r6(s){Number.isInteger(s)&&(cx=s)}function o6(){return cx}function ux(s){cx>=lx.INFOS&&console.log(`Info: ${s}`)}function Ue(s){cx>=lx.WARNINGS&&console.log(`Warning: ${s}`)}function Lt(s){throw new Error(s)}function mn(s,e){s||Lt(e)}function a6(s){switch(s==null?void 0:s.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function l6(s,e=null,t=null){if(!s)return null;try{if(t&&typeof s=="string"){if(t.addDefaultProtocol&&s.startsWith("www.")){const i=s.match(/\./g);(i==null?void 0:i.length)>=2&&(s=`http://${s}`)}if(t.tryConvertEncoding)try{s=f6(s)}catch{}}const n=e?new URL(s,e):new URL(s);if(a6(n))return n}catch{}return null}function Ze(s,e,t,n=!1){return Object.defineProperty(s,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Da=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class fb extends Da{constructor(e,t){super(e,"PasswordException"),this.code=t}}class pb extends Da{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Qk extends Da{constructor(e){super(e,"InvalidPDFException")}}class Cc extends Da{constructor(e){super(e,"MissingPDFException")}}class dx extends Da{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class c6 extends Da{constructor(e){super(e,"FormatError")}}class Ec extends Da{constructor(e){super(e,"AbortException")}}function Zk(s){(typeof s!="object"||(s==null?void 0:s.length)===void 0)&&Lt("Invalid argument for bytesToString");const e=s.length,t=8192;if(e<t)return String.fromCharCode.apply(null,s);const n=[];for(let i=0;i<e;i+=t){const r=Math.min(i+t,e),o=s.subarray(i,r);n.push(String.fromCharCode.apply(null,o))}return n.join("")}function hx(s){typeof s!="string"&&Lt("Invalid argument for stringToBytes");const e=s.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=s.charCodeAt(n)&255;return t}function u6(s){return String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255)}function dw(s){const e=Object.create(null);for(const[t,n]of s)e[t]=n;return e}function d6(){const s=new Uint8Array(4);return s[0]=1,new Uint32Array(s.buffer,0,1)[0]===1}function h6(){try{return new Function(""),!0}catch{return!1}}class ds{static get isLittleEndian(){return Ze(this,"isLittleEndian",d6())}static get isEvalSupported(){return Ze(this,"isEvalSupported",h6())}static get isOffscreenCanvasSupported(){return Ze(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ze(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ze(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return Ze(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Dy=Array.from(Array(256).keys(),s=>s.toString(16).padStart(2,"0"));var yo,Ig,mb;class Ae{static makeHexColor(e,t,n){return`#${Dy[e]}${Dy[t]}${Dy[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const n=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[n,i]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,r=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[i,r]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),r=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],i[0],r[0],o[0]),Math.min(n[1],i[1],r[1],o[1]),Math.max(n[0],i[0],r[0],o[0]),Math.max(n[1],i[1],r[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],r=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],l=(n+o)/2,u=Math.sqrt((n+o)**2-4*(n*o-r*i))/2,d=l+u||1,f=l-u||1;return[Math.sqrt(d),Math.sqrt(f)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return r>o?null:[n,r,i,o]}static bezierBoundingBox(e,t,n,i,r,o,l,u,d){return d?(d[0]=Math.min(d[0],e,l),d[1]=Math.min(d[1],t,u),d[2]=Math.max(d[2],e,l),d[3]=Math.max(d[3],t,u)):d=[Math.min(e,l),Math.min(t,u),Math.max(e,l),Math.max(t,u)],L(this,yo,mb).call(this,e,n,r,l,t,i,o,u,3*(-e+3*(n-r)+l),6*(e-2*n+r),3*(n-e),d),L(this,yo,mb).call(this,e,n,r,l,t,i,o,u,3*(-t+3*(i-o)+u),6*(t-2*i+o),3*(i-t),d),d}}yo=new WeakSet,Ig=function(e,t,n,i,r,o,l,u,d,f){if(d<=0||d>=1)return;const g=1-d,x=d*d,y=x*d,b=g*(g*(g*e+3*d*t)+3*x*n)+y*i,w=g*(g*(g*r+3*d*o)+3*x*l)+y*u;f[0]=Math.min(f[0],b),f[1]=Math.min(f[1],w),f[2]=Math.max(f[2],b),f[3]=Math.max(f[3],w)},mb=function(e,t,n,i,r,o,l,u,d,f,g,x){if(Math.abs(d)<1e-12){Math.abs(f)>=1e-12&&L(this,yo,Ig).call(this,e,t,n,i,r,o,l,u,-g/f,x);return}const y=f**2-4*g*d;if(y<0)return;const b=Math.sqrt(y),w=2*d;L(this,yo,Ig).call(this,e,t,n,i,r,o,l,u,(-f+b)/w,x),L(this,yo,Ig).call(this,e,t,n,i,r,o,l,u,(-f-b)/w,x)},D(Ae,yo);function f6(s){return decodeURIComponent(escape(s))}let Fy=null,vA=null;function p6(s){return Fy||(Fy=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,vA=new Map([["ﬅ","ſt"]])),s.replaceAll(Fy,(e,t,n)=>t?t.normalize("NFKC"):vA.get(n))}function m6(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const s=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(s);else for(let e=0;e<32;e++)s[e]=Math.floor(Math.random()*255);return Zk(s)}const hw="pdfjs_internal_id_",Or={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function g6(s){return Uint8Array.prototype.toBase64?s.toBase64():btoa(Zk(s))}const Vr="http://www.w3.org/2000/svg",ul=class ul{};ae(ul,"CSS",96),ae(ul,"PDF",72),ae(ul,"PDF_TO_CSS_UNITS",ul.CSS/ul.PDF);let Pa=ul;async function fx(s,e="text"){if(kh(s,document.baseURI)){const t=await fetch(s);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const i=new XMLHttpRequest;i.open("GET",s,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class Hp{constructor({viewBox:e,scale:t,rotation:n,offsetX:i=0,offsetY:r=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=i,this.offsetY=r;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,f,g,x;switch(n%=360,n<0&&(n+=360),n){case 180:d=-1,f=0,g=0,x=1;break;case 90:d=0,f=1,g=1,x=0;break;case 270:d=0,f=-1,g=-1,x=0;break;case 0:d=1,f=0,g=0,x=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(g=-g,x=-x);let y,b,w,S;d===0?(y=Math.abs(u-e[1])*t+i,b=Math.abs(l-e[0])*t+r,w=(e[3]-e[1])*t,S=(e[2]-e[0])*t):(y=Math.abs(l-e[0])*t+i,b=Math.abs(u-e[1])*t+r,w=(e[2]-e[0])*t,S=(e[3]-e[1])*t),this.transform=[d*t,f*t,g*t,x*t,y-d*t*l-g*t*u,b-f*t*l-x*t*u],this.width=w,this.height=S}get rawDims(){const{viewBox:e}=this;return Ze(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}={}){return new Hp({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:r})}convertToViewportPoint(e,t){return Ae.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Ae.applyTransform([e[0],e[1]],this.transform),n=Ae.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return Ae.applyInverseTransform([e,t],this.transform)}}class fw extends Da{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function px(s){const e=s.length;let t=0;for(;t<e&&s[t].trim()==="";)t++;return s.substring(t,t+5).toLowerCase()==="data:"}function pw(s){return typeof s=="string"&&/\.pdf$/i.test(s)}function x6(s){return[s]=s.split(/[#?]/,1),s.substring(s.lastIndexOf("/")+1)}function v6(s,e="document.pdf"){if(typeof s!="string")return e;if(px(s))return Ue('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(s);let r=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(r&&(r=r[0],r.includes("%")))try{r=n.exec(decodeURIComponent(r))[0]}catch{}return r||e}class yA{constructor(){ae(this,"started",Object.create(null));ae(this,"times",[])}time(e){e in this.started&&Ue(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ue(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:r}of this.times)e.push(`${n.padEnd(t)} ${r-i}ms
`);return e.join("")}}function kh(s,e){try{const{protocol:t}=e?new URL(s,e):new URL(s);return t==="http:"||t==="https:"}catch{return!1}}function bi(s){s.preventDefault()}function bA(s){console.log("Deprecated API usage: "+s)}var mf;class mw{static toDateObject(e){if(!e||typeof e!="string")return null;m(this,mf)||P(this,mf,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=m(this,mf).exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let r=parseInt(t[3],10);r=r>=1&&r<=31?r:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let l=parseInt(t[5],10);l=l>=0&&l<=59?l:0;let u=parseInt(t[6],10);u=u>=0&&u<=59?u:0;const d=t[7]||"Z";let f=parseInt(t[8],10);f=f>=0&&f<=23?f:0;let g=parseInt(t[9],10)||0;return g=g>=0&&g<=59?g:0,d==="-"?(o+=f,l+=g):d==="+"&&(o-=f,l-=g),new Date(Date.UTC(n,i,r,o,l,u))}}mf=new WeakMap,D(mw,mf);function y6(s,{scale:e=1,rotation:t=0}){const{width:n,height:i}=s.attributes.style,r=[0,0,parseInt(n),parseInt(i)];return new Hp({viewBox:r,scale:e,rotation:t})}function gw(s){if(s.startsWith("#")){const e=parseInt(s.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return s.startsWith("rgb(")?s.slice(4,-1).split(",").map(e=>parseInt(e)):s.startsWith("rgba(")?s.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ue(`Not a valid color format: "${s}"`),[0,0,0])}function b6(s){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of s.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;s.set(t,gw(n))}e.remove()}function Ht(s){const{a:e,b:t,c:n,d:i,e:r,f:o}=s.getTransform();return[e,t,n,i,r,o]}function zr(s){const{a:e,b:t,c:n,d:i,e:r,f:o}=s.getTransform().invertSelf();return[e,t,n,i,r,o]}function gc(s,e,t=!1,n=!0){if(e instanceof Hp){const{pageWidth:i,pageHeight:r}=e.rawDims,{style:o}=s,l=ds.isCSSRoundSupported,u=`var(--scale-factor) * ${i}px`,d=`var(--scale-factor) * ${r}px`,f=l?`round(down, ${u}, var(--scale-round-x, 1px))`:`calc(${u})`,g=l?`round(down, ${d}, var(--scale-round-y, 1px))`:`calc(${d})`;!t||e.rotation%180===0?(o.width=f,o.height=g):(o.width=g,o.height=f)}n&&s.setAttribute("data-main-rotation",e.rotation)}class gb{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Jo,ml,Ii,gl,gf,xf,P0,ej,hs,tj,nj,Mg,sj,vb;const $r=class $r{constructor(e){D(this,hs);D(this,Jo,null);D(this,ml,null);D(this,Ii);D(this,gl,null);D(this,gf,null);P(this,Ii,e),m($r,xf)||P($r,xf,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=P(this,Jo,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=m(this,Ii)._uiManager._signal;e.addEventListener("contextmenu",bi,{signal:t}),e.addEventListener("pointerdown",L($r,P0,ej),{signal:t});const n=P(this,gl,document.createElement("div"));n.className="buttons",e.append(n);const i=m(this,Ii).toolbarPosition;if(i){const{style:r}=e,o=m(this,Ii)._uiManager.direction==="ltr"?1-i[0]:i[0];r.insetInlineEnd=`${100*o}%`,r.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return L(this,hs,sj).call(this),e}get div(){return m(this,Jo)}hide(){var e;m(this,Jo).classList.add("hidden"),(e=m(this,ml))==null||e.hideDropdown()}show(){var e;m(this,Jo).classList.remove("hidden"),(e=m(this,gf))==null||e.shown()}async addAltText(e){const t=await e.render();L(this,hs,Mg).call(this,t),m(this,gl).prepend(t,m(this,hs,vb)),P(this,gf,e)}addColorPicker(e){P(this,ml,e);const t=e.renderButton();L(this,hs,Mg).call(this,t),m(this,gl).prepend(t,m(this,hs,vb))}remove(){var e;m(this,Jo).remove(),(e=m(this,ml))==null||e.destroy(),P(this,ml,null)}};Jo=new WeakMap,ml=new WeakMap,Ii=new WeakMap,gl=new WeakMap,gf=new WeakMap,xf=new WeakMap,P0=new WeakSet,ej=function(e){e.stopPropagation()},hs=new WeakSet,tj=function(e){m(this,Ii)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},nj=function(e){m(this,Ii)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Mg=function(e){const t=m(this,Ii)._uiManager._signal;e.addEventListener("focusin",L(this,hs,tj).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",L(this,hs,nj).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",bi,{signal:t})},sj=function(){const{editorType:e,_uiManager:t}=m(this,Ii),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",m($r,xf)[e]),L(this,hs,Mg).call(this,n),n.addEventListener("click",i=>{t.delete()},{signal:t._signal}),m(this,gl).append(n)},vb=function(){const e=document.createElement("div");return e.className="divider",e},D($r,P0),D($r,xf,null);let xb=$r;var vf,xl,vl,La,ij,rj,oj;class w6{constructor(e){D(this,La);D(this,vf,null);D(this,xl,null);D(this,vl);P(this,vl,e)}show(e,t,n){const[i,r]=L(this,La,rj).call(this,t,n),{style:o}=m(this,xl)||P(this,xl,L(this,La,ij).call(this));e.append(m(this,xl)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){m(this,xl).remove()}}vf=new WeakMap,xl=new WeakMap,vl=new WeakMap,La=new WeakSet,ij=function(){const e=P(this,xl,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",bi,{signal:m(this,vl)._signal});const t=P(this,vf,document.createElement("div"));return t.className="buttons",e.append(t),L(this,La,oj).call(this),e},rj=function(e,t){let n=0,i=0;for(const r of e){const o=r.y+r.height;if(o<n)continue;const l=r.x+(t?r.width:0);if(o>n){i=l,n=o;continue}t?l>i&&(i=l):l<i&&(i=l)}return[t?1-i:i,n]},oj=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=m(this,vl)._signal;e.addEventListener("contextmenu",bi,{signal:n}),e.addEventListener("click",()=>{m(this,vl).highlightSelection("floating_button")},{signal:n}),m(this,vf).append(e)};function A0(s,e,t){for(const n of t)e.addEventListener(n,s[n].bind(s))}function _6(s){return Math.round(Math.min(255,Math.max(1,255*s))).toString(16).padStart(2,"0")}var R0;class S6{constructor(){D(this,R0,0)}get id(){return`${n6}${is(this,R0)._++}`}}R0=new WeakMap;var gu,yf,qn,xu,Dg;const Ew=class Ew{constructor(){D(this,xu);D(this,gu,m6());D(this,yf,0);D(this,qn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const r=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Ze(this,"_isSVGFittingCanvas",r)}async getFromFile(e){const{lastModified:t,name:n,size:i,type:r}=e;return L(this,xu,Dg).call(this,`${t}_${n}_${i}_${r}`,e)}async getFromUrl(e){return L(this,xu,Dg).call(this,e,e)}async getFromBlob(e,t){const n=await t;return L(this,xu,Dg).call(this,e,n)}async getFromId(e){m(this,qn)||P(this,qn,new Map);const t=m(this,qn).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){m(this,qn)||P(this,qn,new Map);let n=m(this,qn).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${m(this,gu)}_${is(this,yf)._++}`,refCounter:1,isSvg:!1},m(this,qn).set(e,n),m(this,qn).set(n.id,n),n}getSvgUrl(e){const t=m(this,qn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;m(this,qn)||P(this,qn,new Map);const t=m(this,qn).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const r=new OffscreenCanvas(n.width,n.height);r.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=r.convertToBlob()}(i=n.close)==null||i.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${m(this,gu)}_`)}};gu=new WeakMap,yf=new WeakMap,qn=new WeakMap,xu=new WeakSet,Dg=async function(e,t){m(this,qn)||P(this,qn,new Map);let n=m(this,qn).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${m(this,gu)}_${is(this,yf)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(n.url=t,i=await fx(t,"blob")):t instanceof File?i=n.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const r=Ew._isSVGFittingCanvas,o=new FileReader,l=new Image,u=new Promise((d,f)=>{l.onload=()=>{n.bitmap=l,n.isSvg=!0,d()},o.onload=async()=>{const g=n.svgUrl=o.result;l.src=await r?`${g}#svgView(preserveAspectRatio(none))`:g},l.onerror=o.onerror=f});o.readAsDataURL(i),await u}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){console.error(i),n=null}return m(this,qn).set(e,n),n&&m(this,qn).set(n.id,n),n};let yb=Ew;var Sn,Qo,bf,Cn;class C6{constructor(e=128){D(this,Sn,[]);D(this,Qo,!1);D(this,bf);D(this,Cn,-1);P(this,bf,e)}add({cmd:e,undo:t,post:n,mustExec:i,type:r=NaN,overwriteIfSameType:o=!1,keepUndo:l=!1}){if(i&&e(),m(this,Qo))return;const u={cmd:e,undo:t,post:n,type:r};if(m(this,Cn)===-1){m(this,Sn).length>0&&(m(this,Sn).length=0),P(this,Cn,0),m(this,Sn).push(u);return}if(o&&m(this,Sn)[m(this,Cn)].type===r){l&&(u.undo=m(this,Sn)[m(this,Cn)].undo),m(this,Sn)[m(this,Cn)]=u;return}const d=m(this,Cn)+1;d===m(this,bf)?m(this,Sn).splice(0,1):(P(this,Cn,d),d<m(this,Sn).length&&m(this,Sn).splice(d)),m(this,Sn).push(u)}undo(){if(m(this,Cn)===-1)return;P(this,Qo,!0);const{undo:e,post:t}=m(this,Sn)[m(this,Cn)];e(),t==null||t(),P(this,Qo,!1),P(this,Cn,m(this,Cn)-1)}redo(){if(m(this,Cn)<m(this,Sn).length-1){P(this,Cn,m(this,Cn)+1),P(this,Qo,!0);const{cmd:e,post:t}=m(this,Sn)[m(this,Cn)];e(),t==null||t(),P(this,Qo,!1)}}hasSomethingToUndo(){return m(this,Cn)!==-1}hasSomethingToRedo(){return m(this,Cn)<m(this,Sn).length-1}destroy(){P(this,Sn,null)}}Sn=new WeakMap,Qo=new WeakMap,bf=new WeakMap,Cn=new WeakMap;var L0,aj;class Vp{constructor(e){D(this,L0);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=ds.platform;for(const[n,i,r={}]of e)for(const o of n){const l=o.startsWith("mac+");t&&l?(this.callbacks.set(o.slice(4),{callback:i,options:r}),this.allKeys.add(o.split("+").at(-1))):!t&&!l&&(this.callbacks.set(o,{callback:i,options:r}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(L(this,L0,aj).call(this,t));if(!n)return;const{callback:i,options:{bubbles:r=!1,args:o=[],checker:l=null}}=n;l&&!l(e,t)||(i.bind(e,...o,t)(),r||(t.stopPropagation(),t.preventDefault()))}}L0=new WeakSet,aj=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const I0=class I0{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return b6(e),Ze(this,"_colors",e)}convert(e){const t=gw(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every((r,o)=>r===t[o]))return I0._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Ae.makeHexColor(...t):e}};ae(I0,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let bb=I0;var vu,zs,dn,Ln,yu,qr,bu,Mi,Zo,wu,yl,ar,Di,bl,wf,_f,_u,Sf,lr,ea,Su,ta,cr,M0,na,Cf,sa,wl,Ef,Af,En,pt,Gr,_l,kf,jf,ia,ur,Xr,Nf,li,ve,Fg,wb,lj,cj,Og,uj,dj,hj,_b,fj,Sb,Cb,pj,rs,Xo,mj,gj,Eb,xj,jh,Ab;const au=class au{constructor(e,t,n,i,r,o,l,u,d,f,g){D(this,ve);D(this,vu,new AbortController);D(this,zs,null);D(this,dn,new Map);D(this,Ln,new Map);D(this,yu,null);D(this,qr,null);D(this,bu,null);D(this,Mi,new C6);D(this,Zo,null);D(this,wu,0);D(this,yl,new Set);D(this,ar,null);D(this,Di,null);D(this,bl,new Set);D(this,wf,!1);D(this,_f,!1);D(this,_u,!1);D(this,Sf,null);D(this,lr,null);D(this,ea,null);D(this,Su,null);D(this,ta,!1);D(this,cr,null);D(this,M0,new S6);D(this,na,!1);D(this,Cf,!1);D(this,sa,null);D(this,wl,null);D(this,Ef,null);D(this,Af,null);D(this,En,ze.NONE);D(this,pt,new Set);D(this,Gr,null);D(this,_l,null);D(this,kf,null);D(this,jf,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});D(this,ia,[0,0]);D(this,ur,null);D(this,Xr,null);D(this,Nf,null);D(this,li,null);const x=this._signal=m(this,vu).signal;P(this,Xr,e),P(this,Nf,t),P(this,yu,n),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:x}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),i._on("setpreference",this.onSetPreference.bind(this),{signal:x}),i._on("switchannotationeditorparams",y=>this.updateParams(y.type,y.value),{signal:x}),L(this,ve,uj).call(this),L(this,ve,pj).call(this),L(this,ve,_b).call(this),P(this,qr,r.annotationStorage),P(this,Sf,r.filterFactory),P(this,_l,o),P(this,Su,l||null),P(this,wf,u),P(this,_f,d),P(this,_u,f),P(this,Af,g||null),this.viewParameters={realScale:Pa.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=au.prototype,t=o=>m(o,Xr).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),n=(o,{target:l})=>{if(l instanceof HTMLInputElement){const{type:u}=l;return u!=="text"&&u!=="number"}return!0},i=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return Ze(this,"_keyboardManager",new Vp([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&m(o,Xr).contains(l)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&m(o,Xr).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}]]))}destroy(){var e,t,n,i;(e=m(this,li))==null||e.resolve(),P(this,li,null),(t=m(this,vu))==null||t.abort(),P(this,vu,null),this._signal=null;for(const r of m(this,Ln).values())r.destroy();m(this,Ln).clear(),m(this,dn).clear(),m(this,bl).clear(),P(this,zs,null),m(this,pt).clear(),m(this,Mi).destroy(),(n=m(this,yu))==null||n.destroy(),(i=m(this,cr))==null||i.hide(),P(this,cr,null),m(this,lr)&&(clearTimeout(m(this,lr)),P(this,lr,null)),m(this,ur)&&(clearTimeout(m(this,ur)),P(this,ur,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return m(this,Af)}get useNewAltTextFlow(){return m(this,_f)}get useNewAltTextWhenAddingImage(){return m(this,_u)}get hcmFilter(){return Ze(this,"hcmFilter",m(this,_l)?m(this,Sf).addHCMFilter(m(this,_l).foreground,m(this,_l).background):"none")}get direction(){return Ze(this,"direction",getComputedStyle(m(this,Xr)).direction)}get highlightColors(){return Ze(this,"highlightColors",m(this,Su)?new Map(m(this,Su).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Ze(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){P(this,Ef,e)}editAltText(e,t=!1){var n;(n=m(this,yu))==null||n.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":P(this,_u,t);break}}onPageChanging({pageNumber:e}){P(this,wu,e-1)}focusMainContainer(){m(this,Xr).focus()}findParent(e,t){for(const n of m(this,Ln).values()){const{x:i,y:r,width:o,height:l}=n.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=r&&t<=r+l)return n}return null}disableUserSelect(e=!1){m(this,Nf).classList.toggle("noUserSelect",e)}addShouldRescale(e){m(this,bl).add(e)}removeShouldRescale(e){m(this,bl).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Pa.PDF_TO_CSS_UNITS;for(const t of m(this,bl))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:o}=t,l=t.toString(),d=L(this,ve,Fg).call(this,t).closest(".textLayer"),f=this.getSelectionBoxes(d);if(!f)return;t.empty();const g=L(this,ve,wb).call(this,d),x=m(this,En)===ze.NONE,y=()=>{g==null||g.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:f,anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:o,text:l}),x&&this.showAllEditors("highlight",!0,!0)};if(x){this.switchToMode(ze.HIGHLIGHT,y);return}y()}addToAnnotationStorage(e){!e.isEmpty()&&m(this,qr)&&!m(this,qr).has(e.id)&&m(this,qr).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,m(this,ta)&&(P(this,ta,!1),L(this,ve,Og).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of m(this,pt))if(t.div.contains(e)){P(this,wl,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!m(this,wl))return;const[e,t]=m(this,wl);P(this,wl,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){L(this,ve,_b).call(this),L(this,ve,Sb).call(this)}removeEditListeners(){L(this,ve,fj).call(this),L(this,ve,Cb).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of m(this,Di))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of m(this,Di))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=m(this,zs))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of m(this,pt)){const r=i.serialize(!0);r&&t.push(r)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const r of t.items)for(const o of m(this,Di))if(o.isHandlingMimeForPasting(r.type)){o.paste(r,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(r){Ue(`paste: "${r.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const r=[];for(const u of n){const d=await i.deserialize(u);if(!d)return;r.push(d)}const o=()=>{for(const u of r)L(this,ve,Eb).call(this,u);L(this,ve,Ab).call(this,r)},l=()=>{for(const u of r)u.remove()};this.addCommands({cmd:o,undo:l,mustExec:!0})}catch(r){Ue(`paste: "${r.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),m(this,En)!==ze.NONE&&!this.isEditorHandlingKeyboard&&au._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,m(this,ta)&&(P(this,ta,!1),L(this,ve,Og).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(L(this,ve,dj).call(this),L(this,ve,Sb).call(this),L(this,ve,rs).call(this,{isEditing:m(this,En)!==ze.NONE,isEmpty:L(this,ve,jh).call(this),hasSomethingToUndo:m(this,Mi).hasSomethingToUndo(),hasSomethingToRedo:m(this,Mi).hasSomethingToRedo(),hasSelectedEditor:!1})):(L(this,ve,hj).call(this),L(this,ve,Cb).call(this),L(this,ve,rs).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!m(this,Di)){P(this,Di,e);for(const t of m(this,Di))L(this,ve,Xo).call(this,t.defaultPropertiesToUpdate)}}getId(){return m(this,M0).id}get currentLayer(){return m(this,Ln).get(m(this,wu))}getLayer(e){return m(this,Ln).get(e)}get currentPageIndex(){return m(this,wu)}addLayer(e){m(this,Ln).set(e.pageIndex,e),m(this,na)?e.enable():e.disable()}removeLayer(e){m(this,Ln).delete(e.pageIndex)}async updateMode(e,t=null,n=!1){if(m(this,En)!==e&&!(m(this,li)&&(await m(this,li).promise,!m(this,li)))){if(P(this,li,Promise.withResolvers()),P(this,En,e),e===ze.NONE){this.setEditingState(!1),L(this,ve,gj).call(this),m(this,li).resolve();return}this.setEditingState(!0),await L(this,ve,mj).call(this),this.unselectAll();for(const i of m(this,Ln).values())i.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),m(this,li).resolve();return}for(const i of m(this,dn).values())i.annotationElementId===t?(this.setSelected(i),i.enterInEditMode()):i.unselect();m(this,li).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==m(this,En)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(m(this,Di)){switch(e){case Ie.CREATE:this.currentLayer.addNewEditor();return;case Ie.HIGHLIGHT_DEFAULT_COLOR:(n=m(this,Ef))==null||n.updateColor(t);break;case Ie.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(m(this,kf)||P(this,kf,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of m(this,pt))i.updateParams(e,t);for(const i of m(this,Di))i.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var r;for(const o of m(this,dn).values())o.editorType===e&&o.show(t);(((r=m(this,kf))==null?void 0:r.get(Ie.HIGHLIGHT_SHOW_ALL))??!0)!==t&&L(this,ve,Xo).call(this,[[Ie.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(m(this,Cf)!==e){P(this,Cf,e);for(const t of m(this,Ln).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of m(this,dn).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return m(this,dn).get(e)}addEditor(e){m(this,dn).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(m(this,lr)&&clearTimeout(m(this,lr)),P(this,lr,setTimeout(()=>{this.focusMainContainer(),P(this,lr,null)},0))),m(this,dn).delete(e.id),this.unselect(e),(!e.annotationElementId||!m(this,yl).has(e.annotationElementId))&&((t=m(this,qr))==null||t.remove(e.id))}addDeletedAnnotationElement(e){m(this,yl).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return m(this,yl).has(e)}removeDeletedAnnotationElement(e){m(this,yl).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){m(this,zs)!==e&&(P(this,zs,e),e&&L(this,ve,Xo).call(this,e.propertiesToUpdate))}updateUI(e){m(this,ve,xj)===e&&L(this,ve,Xo).call(this,e.propertiesToUpdate)}toggleSelected(e){if(m(this,pt).has(e)){m(this,pt).delete(e),e.unselect(),L(this,ve,rs).call(this,{hasSelectedEditor:this.hasSelection});return}m(this,pt).add(e),e.select(),L(this,ve,Xo).call(this,e.propertiesToUpdate),L(this,ve,rs).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of m(this,pt))t!==e&&t.unselect();m(this,pt).clear(),m(this,pt).add(e),e.select(),L(this,ve,Xo).call(this,e.propertiesToUpdate),L(this,ve,rs).call(this,{hasSelectedEditor:!0})}isSelected(e){return m(this,pt).has(e)}get firstSelectedEditor(){return m(this,pt).values().next().value}unselect(e){e.unselect(),m(this,pt).delete(e),L(this,ve,rs).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return m(this,pt).size!==0}get isEnterHandled(){return m(this,pt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){m(this,Mi).undo(),L(this,ve,rs).call(this,{hasSomethingToUndo:m(this,Mi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:L(this,ve,jh).call(this)})}redo(){m(this,Mi).redo(),L(this,ve,rs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:m(this,Mi).hasSomethingToRedo(),isEmpty:L(this,ve,jh).call(this)})}addCommands(e){m(this,Mi).add(e),L(this,ve,rs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:L(this,ve,jh).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...m(this,pt)],t=()=>{for(const i of e)i.remove()},n=()=>{for(const i of e)L(this,ve,Eb).call(this,i)};this.addCommands({cmd:t,undo:n,mustExec:!0})}commitOrRemove(){var e;(e=m(this,zs))==null||e.commitOrRemove()}hasSomethingToControl(){return m(this,zs)||this.hasSelection}selectAll(){for(const e of m(this,pt))e.commit();L(this,ve,Ab).call(this,m(this,dn).values())}unselectAll(){if(!(m(this,zs)&&(m(this,zs).commitOrRemove(),m(this,En)!==ze.NONE))&&this.hasSelection){for(const e of m(this,pt))e.unselect();m(this,pt).clear(),L(this,ve,rs).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;m(this,ia)[0]+=e,m(this,ia)[1]+=t;const[i,r]=m(this,ia),o=[...m(this,pt)],l=1e3;m(this,ur)&&clearTimeout(m(this,ur)),P(this,ur,setTimeout(()=>{P(this,ur,null),m(this,ia)[0]=m(this,ia)[1]=0,this.addCommands({cmd:()=>{for(const u of o)m(this,dn).has(u.id)&&u.translateInPage(i,r)},undo:()=>{for(const u of o)m(this,dn).has(u.id)&&u.translateInPage(-i,-r)},mustExec:!1})},l));for(const u of o)u.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),P(this,ar,new Map);for(const e of m(this,pt))m(this,ar).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!m(this,ar))return!1;this.disableUserSelect(!1);const e=m(this,ar);P(this,ar,null);let t=!1;for(const[{x:i,y:r,pageIndex:o},l]of e)l.newX=i,l.newY=r,l.newPageIndex=o,t||(t=i!==l.savedX||r!==l.savedY||o!==l.savedPageIndex);if(!t)return!1;const n=(i,r,o,l)=>{if(m(this,dn).has(i.id)){const u=m(this,Ln).get(l);u?i._setParentAndPosition(u,r,o):(i.pageIndex=l,i.x=r,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:r,newY:o,newPageIndex:l}]of e)n(i,r,o,l)},undo:()=>{for(const[i,{savedX:r,savedY:o,savedPageIndex:l}]of e)n(i,r,o,l)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(m(this,ar))for(const n of m(this,ar).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||m(this,pt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return m(this,zs)===e}getActive(){return m(this,zs)}getMode(){return m(this,En)}get imageManager(){return Ze(this,"imageManager",new yb)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let d=0,f=t.rangeCount;d<f;d++)if(!e.contains(t.getRangeAt(d).commonAncestorContainer))return null;const{x:n,y:i,width:r,height:o}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(d,f,g,x)=>({x:(f-i)/o,y:1-(d+g-n)/r,width:x/o,height:g/r});break;case"180":l=(d,f,g,x)=>({x:1-(d+g-n)/r,y:1-(f+x-i)/o,width:g/r,height:x/o});break;case"270":l=(d,f,g,x)=>({x:1-(f+x-i)/o,y:(d-n)/r,width:x/o,height:g/r});break;default:l=(d,f,g,x)=>({x:(d-n)/r,y:(f-i)/o,width:g/r,height:x/o});break}const u=[];for(let d=0,f=t.rangeCount;d<f;d++){const g=t.getRangeAt(d);if(!g.collapsed)for(const{x,y,width:b,height:w}of g.getClientRects())b===0||w===0||u.push(l(x,y,b,w))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:e,id:t}){(m(this,bu)||P(this,bu,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=m(this,bu))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=m(this,bu))==null?void 0:i.get(e.data.id);if(!t)return;const n=m(this,qr).getRawValue(t);n&&(m(this,En)===ze.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};vu=new WeakMap,zs=new WeakMap,dn=new WeakMap,Ln=new WeakMap,yu=new WeakMap,qr=new WeakMap,bu=new WeakMap,Mi=new WeakMap,Zo=new WeakMap,wu=new WeakMap,yl=new WeakMap,ar=new WeakMap,Di=new WeakMap,bl=new WeakMap,wf=new WeakMap,_f=new WeakMap,_u=new WeakMap,Sf=new WeakMap,lr=new WeakMap,ea=new WeakMap,Su=new WeakMap,ta=new WeakMap,cr=new WeakMap,M0=new WeakMap,na=new WeakMap,Cf=new WeakMap,sa=new WeakMap,wl=new WeakMap,Ef=new WeakMap,Af=new WeakMap,En=new WeakMap,pt=new WeakMap,Gr=new WeakMap,_l=new WeakMap,kf=new WeakMap,jf=new WeakMap,ia=new WeakMap,ur=new WeakMap,Xr=new WeakMap,Nf=new WeakMap,li=new WeakMap,ve=new WeakSet,Fg=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},wb=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of m(this,Ln).values())if(n.hasTextLayer(e))return n;return null},lj=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=L(this,ve,Fg).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(m(this,cr)||P(this,cr,new w6(this)),m(this,cr).show(n,i,this.direction==="ltr"))},cj=function(){var r,o,l;const e=document.getSelection();if(!e||e.isCollapsed){m(this,Gr)&&((r=m(this,cr))==null||r.hide(),P(this,Gr,null),L(this,ve,rs).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===m(this,Gr))return;const i=L(this,ve,Fg).call(this,e).closest(".textLayer");if(!i){m(this,Gr)&&((o=m(this,cr))==null||o.hide(),P(this,Gr,null),L(this,ve,rs).call(this,{hasSelectedText:!1}));return}if((l=m(this,cr))==null||l.hide(),P(this,Gr,t),L(this,ve,rs).call(this,{hasSelectedText:!0}),!(m(this,En)!==ze.HIGHLIGHT&&m(this,En)!==ze.NONE)&&(m(this,En)===ze.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),P(this,ta,this.isShiftKeyDown),!this.isShiftKeyDown)){const u=m(this,En)===ze.HIGHLIGHT?L(this,ve,wb).call(this,i):null;u==null||u.toggleDrawing();const d=new AbortController,f=this.combinedSignal(d),g=x=>{x.type==="pointerup"&&x.button!==0||(d.abort(),u==null||u.toggleDrawing(!0),x.type==="pointerup"&&L(this,ve,Og).call(this,"main_toolbar"))};window.addEventListener("pointerup",g,{signal:f}),window.addEventListener("blur",g,{signal:f})}},Og=function(e=""){m(this,En)===ze.HIGHLIGHT?this.highlightSelection(e):m(this,wf)&&L(this,ve,lj).call(this)},uj=function(){document.addEventListener("selectionchange",L(this,ve,cj).bind(this),{signal:this._signal})},dj=function(){if(m(this,ea))return;P(this,ea,new AbortController);const e=this.combinedSignal(m(this,ea));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},hj=function(){var e;(e=m(this,ea))==null||e.abort(),P(this,ea,null)},_b=function(){if(m(this,sa))return;P(this,sa,new AbortController);const e=this.combinedSignal(m(this,sa));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},fj=function(){var e;(e=m(this,sa))==null||e.abort(),P(this,sa,null)},Sb=function(){if(m(this,Zo))return;P(this,Zo,new AbortController);const e=this.combinedSignal(m(this,Zo));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Cb=function(){var e;(e=m(this,Zo))==null||e.abort(),P(this,Zo,null)},pj=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},rs=function(e){Object.entries(e).some(([n,i])=>m(this,jf)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(m(this,jf),e)}),m(this,En)===ze.HIGHLIGHT&&e.hasSelectedEditor===!1&&L(this,ve,Xo).call(this,[[Ie.HIGHLIGHT_FREE,!0]]))},Xo=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},mj=async function(){if(!m(this,na)){P(this,na,!0);const e=[];for(const t of m(this,Ln).values())e.push(t.enable());await Promise.all(e);for(const t of m(this,dn).values())t.enable()}},gj=function(){if(this.unselectAll(),m(this,na)){P(this,na,!1);for(const e of m(this,Ln).values())e.disable();for(const e of m(this,dn).values())e.disable()}},Eb=function(e){const t=m(this,Ln).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},xj=function(){let e=null;for(e of m(this,pt));return e},jh=function(){if(m(this,dn).size===0)return!0;if(m(this,dn).size===1)for(const e of m(this,dn).values())return e.isEmpty();return!1},Ab=function(e){for(const t of m(this,pt))t.unselect();m(this,pt).clear();for(const t of e)t.isEmpty()||(m(this,pt).add(t),t.select());L(this,ve,rs).call(this,{hasSelectedEditor:this.hasSelection})},ae(au,"TRANSLATE_SMALL",1),ae(au,"TRANSLATE_BIG",10);let xc=au;var An,dr,Fi,Cu,hr,Bs,Eu,fr,Cs,Kr,Sl,pr,ra,Gi,Nh,zg;const os=class os{constructor(e){D(this,Gi);D(this,An,null);D(this,dr,!1);D(this,Fi,null);D(this,Cu,null);D(this,hr,null);D(this,Bs,null);D(this,Eu,!1);D(this,fr,null);D(this,Cs,null);D(this,Kr,null);D(this,Sl,null);D(this,pr,!1);P(this,Cs,e),P(this,pr,e._uiManager.useNewAltTextFlow),m(os,ra)||P(os,ra,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){os._l10n??(os._l10n=e)}async render(){const e=P(this,Fi,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=P(this,Cu,document.createElement("span"));e.append(t),m(this,pr)?(e.classList.add("new"),e.setAttribute("data-l10n-id",m(os,ra).missing),t.setAttribute("data-l10n-id",m(os,ra)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=m(this,Cs)._uiManager._signal;e.addEventListener("contextmenu",bi,{signal:n}),e.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:n});const i=r=>{r.preventDefault(),m(this,Cs)._uiManager.editAltText(m(this,Cs)),m(this,pr)&&m(this,Cs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:m(this,Gi,Nh)}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(P(this,Eu,!0),i(r))},{signal:n}),await L(this,Gi,zg).call(this),e}finish(){m(this,Fi)&&(m(this,Fi).focus({focusVisible:m(this,Eu)}),P(this,Eu,!1))}isEmpty(){return m(this,pr)?m(this,An)===null:!m(this,An)&&!m(this,dr)}hasData(){return m(this,pr)?m(this,An)!==null||!!m(this,Kr):this.isEmpty()}get guessedText(){return m(this,Kr)}async setGuessedText(e){m(this,An)===null&&(P(this,Kr,e),P(this,Sl,await os._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),L(this,Gi,zg).call(this))}toggleAltTextBadge(e=!1){var t;if(!m(this,pr)||m(this,An)){(t=m(this,fr))==null||t.remove(),P(this,fr,null);return}if(!m(this,fr)){const n=P(this,fr,document.createElement("div"));n.className="noAltTextBadge",m(this,Cs).div.append(n)}m(this,fr).classList.toggle("hidden",!e)}serialize(e){let t=m(this,An);return!e&&m(this,Kr)===t&&(t=m(this,Sl)),{altText:t,decorative:m(this,dr),guessedText:m(this,Kr),textWithDisclaimer:m(this,Sl)}}get data(){return{altText:m(this,An),decorative:m(this,dr)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:i,cancel:r=!1}){n&&(P(this,Kr,n),P(this,Sl,i)),!(m(this,An)===e&&m(this,dr)===t)&&(r||(P(this,An,e),P(this,dr,t)),L(this,Gi,zg).call(this))}toggle(e=!1){m(this,Fi)&&(!e&&m(this,Bs)&&(clearTimeout(m(this,Bs)),P(this,Bs,null)),m(this,Fi).disabled=!e)}shown(){m(this,Cs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:m(this,Gi,Nh)}})}destroy(){var e,t;(e=m(this,Fi))==null||e.remove(),P(this,Fi,null),P(this,Cu,null),P(this,hr,null),(t=m(this,fr))==null||t.remove(),P(this,fr,null)}};An=new WeakMap,dr=new WeakMap,Fi=new WeakMap,Cu=new WeakMap,hr=new WeakMap,Bs=new WeakMap,Eu=new WeakMap,fr=new WeakMap,Cs=new WeakMap,Kr=new WeakMap,Sl=new WeakMap,pr=new WeakMap,ra=new WeakMap,Gi=new WeakSet,Nh=function(){return m(this,An)&&"added"||m(this,An)===null&&this.guessedText&&"review"||"missing"},zg=async function(){var i,r,o;const e=m(this,Fi);if(!e)return;if(m(this,pr)){if(e.classList.toggle("done",!!m(this,An)),e.setAttribute("data-l10n-id",m(os,ra)[m(this,Gi,Nh)]),(i=m(this,Cu))==null||i.setAttribute("data-l10n-id",m(os,ra)[`${m(this,Gi,Nh)}-label`]),!m(this,An)){(r=m(this,hr))==null||r.remove();return}}else{if(!m(this,An)&&!m(this,dr)){e.classList.remove("done"),(o=m(this,hr))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=m(this,hr);if(!t){P(this,hr,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${m(this,Cs).id}`;const l=100,u=m(this,Cs)._uiManager._signal;u.addEventListener("abort",()=>{clearTimeout(m(this,Bs)),P(this,Bs,null)},{once:!0}),e.addEventListener("mouseenter",()=>{P(this,Bs,setTimeout(()=>{P(this,Bs,null),m(this,hr).classList.add("show"),m(this,Cs)._reportTelemetry({action:"alt_text_tooltip"})},l))},{signal:u}),e.addEventListener("mouseleave",()=>{var d;m(this,Bs)&&(clearTimeout(m(this,Bs)),P(this,Bs,null)),(d=m(this,hr))==null||d.classList.remove("show")},{signal:u})}m(this,dr)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=m(this,An)),t.parentNode||e.append(t);const n=m(this,Cs).getImageForAltText();n==null||n.setAttribute("aria-describedby",t.id)},D(os,ra,null),ae(os,"_l10n",null);let k0=os;var Cl,Oi,zt,Au,El,In,Al,oa,Tf,kl,aa,Pf,jl,Yr,mr,ku,ju,ci,Rf,D0,Ve,kb,Lf,jb,Nb,vj,yj,Tb,Pb,Rb,bj,Lb,wj,_j,Sj,Ib,Th;const dt=class dt{constructor(e){D(this,Ve);D(this,Cl,null);D(this,Oi,null);D(this,zt,null);D(this,Au,!1);D(this,El,!1);D(this,In,null);D(this,Al,null);D(this,oa,null);D(this,Tf,"");D(this,kl,!1);D(this,aa,null);D(this,Pf,!1);D(this,jl,!1);D(this,Yr,!1);D(this,mr,null);D(this,ku,0);D(this,ju,0);D(this,ci,null);ae(this,"_editToolbar",null);ae(this,"_initialOptions",Object.create(null));ae(this,"_initialData",null);ae(this,"_isVisible",!0);ae(this,"_uiManager",null);ae(this,"_focusEventsAllowed",!0);D(this,Rf,!1);D(this,D0,dt._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[r,o];const[l,u]=this.parentDimensions;this.x=e.x/l,this.y=e.y/u,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=dt.prototype._resizeWithKeyboard,t=xc.TRANSLATE_SMALL,n=xc.TRANSLATE_BIG;return Ze(this,"_resizerKeyboardManager",new Vp([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],dt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ze(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new E6({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(dt._l10n??(dt._l10n=e),dt._l10nResizer||(dt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),dt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);dt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Lt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return m(this,Rf)}set _isDraggable(e){var t;P(this,Rf,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=m(this,D0)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):L(this,Ve,Th).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(m(this,kl)?P(this,kl,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[r,o]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/r,this.y=(t+i)/o,this.fixAndSetPosition()}translate(e,t){L(this,Ve,kb).call(this,this.parentDimensions,e,t)}translateInPage(e,t){m(this,aa)||P(this,aa,[this.x,this.y]),L(this,Ve,kb).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){m(this,aa)||P(this,aa,[this.x,this.y]);const[n,i]=this.parentDimensions;if(this.x+=e/n,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:o}=this;const[l,u]=this.getBaseTranslation();r+=l,o+=u,this.div.style.left=`${(100*r).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!m(this,aa)&&(m(this,aa)[0]!==this.x||m(this,aa)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=dt,i=n/e,r=n/t;switch(this.rotation){case 90:return[-i,r];case 180:return[i,r];case 270:return[i,-r];default:return[-i,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,n]=this.pageDimensions;let{x:i,y:r,width:o,height:l}=this;if(o*=t,l*=n,i*=t,r*=n,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-o,i)),r=Math.max(0,Math.min(n-l,r));break;case 90:i=Math.max(0,Math.min(t-l,i)),r=Math.min(n,Math.max(o,r));break;case 180:i=Math.min(t,Math.max(o,i)),r=Math.min(n,Math.max(l,r));break;case 270:i=Math.min(t,Math.max(l,i)),r=Math.max(0,Math.min(n-o,r));break}this.x=i/=t,this.y=r/=n;const[u,d]=this.getBaseTranslation();i+=u,r+=d;const{style:f}=this.div;f.left=`${(100*i).toFixed(2)}%`,f.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return L(n=dt,Lf,jb).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return L(n=dt,Lf,jb).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,i]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,m(this,El)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,i=n.endsWith("%"),r=!m(this,El)&&t.endsWith("%");if(i&&r)return;const[o,l]=this.parentDimensions;i||(e.width=`${(100*parseFloat(n)/o).toFixed(2)}%`),!m(this,El)&&!r&&(e.height=`${(100*parseFloat(t)/l).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=m(this,zt))==null||e.finish()}async addEditToolbar(){return this._editToolbar||m(this,jl)?this._editToolbar:(this._editToolbar=new xb(this),this.div.append(this._editToolbar.render()),m(this,zt)&&await this._editToolbar.addAltText(m(this,zt)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=m(this,zt))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){m(this,zt)||(k0.initialize(dt._l10n),P(this,zt,new k0(this)),m(this,Cl)&&(m(this,zt).data=m(this,Cl),P(this,Cl,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=m(this,zt))==null?void 0:e.data}set altTextData(e){m(this,zt)&&(m(this,zt).data=e)}get guessedAltText(){var e;return(e=m(this,zt))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=m(this,zt))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=m(this,zt))==null?void 0:t.serialize(e)}hasAltText(){return!!m(this,zt)&&!m(this,zt).isEmpty()}hasAltTextData(){var e;return((e=m(this,zt))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=m(this,Au)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),L(this,Ve,Lb).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[n,i]=this.getInitialTranslation();return this.translate(n,i),A0(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=ds.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(P(this,kl,!0),this._isDraggable){L(this,Ve,bj).call(this,e);return}L(this,Ve,Rb).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){m(this,mr)&&clearTimeout(m(this,mr)),P(this,mr,setTimeout(()=>{var e;P(this,mr,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t,n=this.rotation){const i=this.parentScale,[r,o]=this.pageDimensions,[l,u]=this.pageTranslation,d=e/i,f=t/i,g=this.x*r,x=this.y*o,y=this.width*r,b=this.height*o;switch(n){case 0:return[g+d+l,o-x-f-b+u,g+d+y+l,o-x-f+u];case 90:return[g+f+l,o-x+d+u,g+f+b+l,o-x+d+y+u];case 180:return[g-d-y+l,o-x+f+u,g-d+l,o-x+f+b+u];case 270:return[g-f-b+l,o-x-d-y+u,g-f+l,o-x-d+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,r,o]=e,l=r-n,u=o-i;switch(this.rotation){case 0:return[n,t-o,l,u];case 90:return[n,t-i,u,l];case 180:return[r,t-i,l,u];case 270:return[r,t-o,u,l];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){P(this,jl,!0)}disableEditMode(){P(this,jl,!1)}isInEditMode(){return m(this,jl)}shouldGetKeyboardEvents(){return m(this,Yr)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){L(this,Ve,Lb).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Lt("An editor must be serializable")}static async deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});i.rotation=e.rotation,P(i,Cl,e.accessibilityData);const[r,o]=i.pageDimensions,[l,u,d,f]=i.getRectInCurrentCoords(e.rect,o);return i.x=l/r,i.y=u/o,i.width=d/r,i.height=f/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=m(this,oa))==null||e.abort(),P(this,oa,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),m(this,mr)&&(clearTimeout(m(this,mr)),P(this,mr,null)),L(this,Ve,Th).call(this),this.removeEditToolbar(),m(this,ci)){for(const t of m(this,ci).values())clearTimeout(t);P(this,ci,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(L(this,Ve,vj).call(this),m(this,In).classList.remove("hidden"),A0(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),P(this,Al,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=m(this,In).children;if(!m(this,Oi)){P(this,Oi,Array.from(t));const o=L(this,Ve,wj).bind(this),l=L(this,Ve,_j).bind(this),u=this._uiManager._signal;for(const d of m(this,Oi)){const f=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",o,{signal:u}),d.addEventListener("blur",l,{signal:u}),d.addEventListener("focus",L(this,Ve,Sj).bind(this,f),{signal:u}),d.setAttribute("data-l10n-id",dt._l10nResizer[f])}}const n=m(this,Oi)[0];let i=0;for(const o of t){if(o===n)break;i++}const r=(360-this.rotation+this.parentRotation)%360/90*(m(this,Oi).length/4);if(r!==i){if(r<i)for(let l=0;l<i-r;l++)m(this,In).append(m(this,In).firstChild);else if(r>i)for(let l=0;l<r-i;l++)m(this,In).firstChild.before(m(this,In).lastChild);let o=0;for(const l of t){const d=m(this,Oi)[o++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",dt._l10nResizer[d])}}L(this,Ve,Ib).call(this,0),P(this,Yr,!0),m(this,In).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){m(this,Yr)&&L(this,Ve,Pb).call(this,m(this,Tf),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){L(this,Ve,Th).call(this),this.div.focus()}select(){var e,t,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,r;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((r=this._editToolbar)==null||r.show())});return}(t=this._editToolbar)==null||t.show(),(n=m(this,zt))==null||n.toggleAltTextBadge(!1)}unselect(){var e,t,n,i,r;(e=m(this,In))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(r=m(this,zt))==null||r.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return m(this,Pf)}set isEditing(e){P(this,Pf,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){P(this,El,!0);const n=e/t,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){m(this,ci)||P(this,ci,new Map);const{action:n}=e;let i=m(this,ci).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),m(this,ci).delete(n),m(this,ci).size===0&&P(this,ci,null)},dt._telemetryTimeout),m(this,ci).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),P(this,Au,!1)}disable(){this.div&&(this.div.tabIndex=-1),P(this,Au,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Cl=new WeakMap,Oi=new WeakMap,zt=new WeakMap,Au=new WeakMap,El=new WeakMap,In=new WeakMap,Al=new WeakMap,oa=new WeakMap,Tf=new WeakMap,kl=new WeakMap,aa=new WeakMap,Pf=new WeakMap,jl=new WeakMap,Yr=new WeakMap,mr=new WeakMap,ku=new WeakMap,ju=new WeakMap,ci=new WeakMap,Rf=new WeakMap,D0=new WeakMap,Ve=new WeakSet,kb=function([e,t],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/t,this.fixAndSetPosition()},Lf=new WeakSet,jb=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Nb=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},vj=function(){if(m(this,In))return;P(this,In,document.createElement("div")),m(this,In).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const i=document.createElement("div");m(this,In).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",L(this,Ve,yj).bind(this,n),{signal:t}),i.addEventListener("contextmenu",bi,{signal:t}),i.tabIndex=-1}this.div.prepend(m(this,In))},yj=function(e,t){var b;t.preventDefault();const{isMac:n}=ds.platform;if(t.button!==0||t.ctrlKey&&n)return;(b=m(this,zt))==null||b.toggle(!1);const i=this._isDraggable;this._isDraggable=!1;const r=new AbortController,o=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",L(this,Ve,Pb).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("contextmenu",bi,{signal:o});const l=this.x,u=this.y,d=this.width,f=this.height,g=this.parent.div.style.cursor,x=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const y=()=>{var w;r.abort(),this.parent.togglePointerEvents(!0),(w=m(this,zt))==null||w.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=g,this.div.style.cursor=x,L(this,Ve,Tb).call(this,l,u,d,f)};window.addEventListener("pointerup",y,{signal:o}),window.addEventListener("blur",y,{signal:o})},Tb=function(e,t,n,i){const r=this.x,o=this.y,l=this.width,u=this.height;r===e&&o===t&&l===n&&u===i||this.addCommands({cmd:()=>{this.width=l,this.height=u,this.x=r,this.y=o;const[d,f]=this.parentDimensions;this.setDims(d*l,f*u),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=i,this.x=e,this.y=t;const[d,f]=this.parentDimensions;this.setDims(d*n,f*i),this.fixAndSetPosition()},mustExec:!0})},Pb=function(e,t){const[n,i]=this.parentDimensions,r=this.x,o=this.y,l=this.width,u=this.height,d=dt.MIN_SIZE/n,f=dt.MIN_SIZE/i,g=V=>Math.round(V*1e4)/1e4,x=L(this,Ve,Nb).call(this,this.rotation),y=(V,G)=>[x[0]*V+x[2]*G,x[1]*V+x[3]*G],b=L(this,Ve,Nb).call(this,360-this.rotation),w=(V,G)=>[b[0]*V+b[2]*G,b[1]*V+b[3]*G];let S,C,j=!1,A=!1;switch(e){case"topLeft":j=!0,S=(V,G)=>[0,0],C=(V,G)=>[V,G];break;case"topMiddle":S=(V,G)=>[V/2,0],C=(V,G)=>[V/2,G];break;case"topRight":j=!0,S=(V,G)=>[V,0],C=(V,G)=>[0,G];break;case"middleRight":A=!0,S=(V,G)=>[V,G/2],C=(V,G)=>[0,G/2];break;case"bottomRight":j=!0,S=(V,G)=>[V,G],C=(V,G)=>[0,0];break;case"bottomMiddle":S=(V,G)=>[V/2,G],C=(V,G)=>[V/2,0];break;case"bottomLeft":j=!0,S=(V,G)=>[0,G],C=(V,G)=>[V,0];break;case"middleLeft":A=!0,S=(V,G)=>[0,G/2],C=(V,G)=>[V,G/2];break}const k=S(l,u),T=C(l,u);let I=y(...T);const M=g(r+I[0]),F=g(o+I[1]);let B=1,O=1,[W,J]=this.screenToPageTranslation(t.movementX,t.movementY);if([W,J]=w(W/n,J/i),j){const V=Math.hypot(l,u);B=O=Math.max(Math.min(Math.hypot(T[0]-k[0]-W,T[1]-k[1]-J)/V,1/l,1/u),d/l,f/u)}else A?B=Math.max(d,Math.min(1,Math.abs(T[0]-k[0]-W)))/l:O=Math.max(f,Math.min(1,Math.abs(T[1]-k[1]-J)))/u;const ie=g(l*B),se=g(u*O);I=y(...C(ie,se));const $=M-I[0],ee=F-I[1];this.width=ie,this.height=se,this.x=$,this.y=ee,this.setDims(n*ie,i*se),this.fixAndSetPosition()},Rb=function(e){const{isMac:t}=ds.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},bj=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const n=new AbortController,i=this._uiManager.combinedSignal(n);if(t){this.div.classList.add("moving"),P(this,ku,e.clientX),P(this,ju,e.clientY);const o=l=>{const{clientX:u,clientY:d}=l,[f,g]=this.screenToPageTranslation(u-m(this,ku),d-m(this,ju));P(this,ku,u),P(this,ju,d),this._uiManager.dragSelectedEditors(f,g)};window.addEventListener("pointermove",o,{passive:!0,capture:!0,signal:i})}const r=()=>{n.abort(),t&&this.div.classList.remove("moving"),P(this,kl,!1),this._uiManager.endDragSession()||L(this,Ve,Rb).call(this,e)};window.addEventListener("pointerup",r,{signal:i}),window.addEventListener("blur",r,{signal:i})},Lb=function(){if(m(this,oa)||!this.div)return;P(this,oa,new AbortController);const e=this._uiManager.combinedSignal(m(this,oa));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},wj=function(e){dt._resizerKeyboardManager.exec(this,e)},_j=function(e){var t;m(this,Yr)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==m(this,In)&&L(this,Ve,Th).call(this)},Sj=function(e){P(this,Tf,m(this,Yr)?e:"")},Ib=function(e){if(m(this,Oi))for(const t of m(this,Oi))t.tabIndex=e},Th=function(){if(P(this,Yr,!1),L(this,Ve,Ib).call(this,-1),m(this,Al)){const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=m(this,Al);L(this,Ve,Tb).call(this,e,t,n,i),P(this,Al,null)}},D(dt,Lf),ae(dt,"_l10n",null),ae(dt,"_l10nResizer",null),ae(dt,"_borderLineWidth",-1),ae(dt,"_colorManager",new bb),ae(dt,"_zIndex",1),ae(dt,"_telemetryTimeout",1e3);let xt=dt;class E6 extends xt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const wA=3285377520,ai=4294901760,ir=65535;class Cj{constructor(e){this.h1=e?e&4294967295:wA,this.h2=e?e&4294967295:wA}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let w=0,S=e.length;w<S;w++){const C=e.charCodeAt(w);C<=255?t[n++]=C:(t[n++]=C>>>8,t[n++]=C&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,r=n-i*4,o=new Uint32Array(t.buffer,0,i);let l=0,u=0,d=this.h1,f=this.h2;const g=3432918353,x=461845907,y=g&ir,b=x&ir;for(let w=0;w<i;w++)w&1?(l=o[w],l=l*g&ai|l*y&ir,l=l<<15|l>>>17,l=l*x&ai|l*b&ir,d^=l,d=d<<13|d>>>19,d=d*5+3864292196):(u=o[w],u=u*g&ai|u*y&ir,u=u<<15|u>>>17,u=u*x&ai|u*b&ir,f^=u,f=f<<13|f>>>19,f=f*5+3864292196);switch(l=0,r){case 3:l^=t[i*4+2]<<16;case 2:l^=t[i*4+1]<<8;case 1:l^=t[i*4],l=l*g&ai|l*y&ir,l=l<<15|l>>>17,l=l*x&ai|l*b&ir,i&1?d^=l:f^=l}this.h1=d,this.h2=f}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&ai|e*36045&ir,t=t*4283543511&ai|((t<<16|e>>>16)*2950163797&ai)>>>16,e^=t>>>1,e=e*444984403&ai|e*60499&ir,t=t*3301882366&ai|((t<<16|e>>>16)*3120437893&ai)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Mb=Object.freeze({map:null,hash:"",transfer:void 0});var Nl,Tl,kn,F0,Ej;class xw{constructor(){D(this,F0);D(this,Nl,!1);D(this,Tl,null);D(this,kn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=m(this,kn).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return m(this,kn).get(e)}remove(e){if(m(this,kn).delete(e),m(this,kn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of m(this,kn).values())if(t instanceof xt)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=m(this,kn).get(e);let i=!1;if(n!==void 0)for(const[r,o]of Object.entries(t))n[r]!==o&&(i=!0,n[r]=o);else i=!0,m(this,kn).set(e,t);i&&L(this,F0,Ej).call(this),t instanceof xt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return m(this,kn).has(e)}getAll(){return m(this,kn).size>0?dw(m(this,kn)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return m(this,kn).size}resetModified(){m(this,Nl)&&(P(this,Nl,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Aj(this)}get serializable(){if(m(this,kn).size===0)return Mb;const e=new Map,t=new Cj,n=[],i=Object.create(null);let r=!1;for(const[o,l]of m(this,kn)){const u=l instanceof xt?l.serialize(!1,i):l;u&&(e.set(o,u),t.update(`${o}:${JSON.stringify(u)}`),r||(r=!!u.bitmap))}if(r)for(const o of e.values())o.bitmap&&n.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:Mb}get editorStats(){let e=null;const t=new Map;for(const n of m(this,kn).values()){if(!(n instanceof xt))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:r}=i;t.has(r)||t.set(r,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const o=e[r]||(e[r]=new Map);for(const[l,u]of Object.entries(i)){if(l==="type")continue;let d=o.get(l);d||(d=new Map,o.set(l,d));const f=d.get(u)??0;d.set(u,f+1)}}for(const[n,i]of t)e[n]=i.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){P(this,Tl,null)}get modifiedIds(){if(m(this,Tl))return m(this,Tl);const e=[];for(const t of m(this,kn).values())!(t instanceof xt)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return P(this,Tl,{ids:new Set(e),hash:e.join(",")})}}Nl=new WeakMap,Tl=new WeakMap,kn=new WeakMap,F0=new WeakSet,Ej=function(){m(this,Nl)||(P(this,Nl,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var If;class Aj extends xw{constructor(t){super();D(this,If);const{map:n,hash:i,transfer:r}=t.serializable,o=structuredClone(n,r?{transfer:r}:null);P(this,If,{map:o,hash:i,transfer:r})}get print(){Lt("Should not call PrintAnnotationStorage.print")}get serializable(){return m(this,If)}get modifiedIds(){return Ze(this,"modifiedIds",{ids:new Set,hash:""})}}If=new WeakMap;var Nu;class A6{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){D(this,Nu,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),m(this,Nu).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||m(this,Nu).has(e.loadedName))){if(mn(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:i,style:r}=e,o=new FontFace(n,i,r);this.addNativeFontFace(o);try{await o.load(),m(this,Nu).add(n),t==null||t(e)}catch{Ue(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Lt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw Ue(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Ze(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(es||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Ze(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(mn(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const r=n.shift();setTimeout(r.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:t,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ze(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(k,T){return k.charCodeAt(T)<<24|k.charCodeAt(T+1)<<16|k.charCodeAt(T+2)<<8|k.charCodeAt(T+3)&255}function i(k,T,I,M){const F=k.substring(0,T),B=k.substring(T+I);return F+M+B}let r,o;const l=this._document.createElement("canvas");l.width=1,l.height=1;const u=l.getContext("2d");let d=0;function f(k,T){if(++d>30){Ue("Load test font never loaded."),T();return}if(u.font="30px "+k,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(f.bind(null,k,T))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let x=this._loadTestFont;x=i(x,976,g.length,g);const b=16,w=1482184792;let S=n(x,b);for(r=0,o=g.length-3;r<o;r+=4)S=S-w+n(g,r)|0;r<g.length&&(S=S-w+n(g+"XXX",r)|0),x=i(x,b,4,u6(S));const C=`url(data:font/opentype;base64,${btoa(x)});`,j=`@font-face {font-family:"${g}";src:${C}}`;this.insertRule(j);const A=this._document.createElement("div");A.style.visibility="hidden",A.style.width=A.style.height="10px",A.style.position="absolute",A.style.top=A.style.left="0px";for(const k of[e.loadedName,g]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=k,A.append(T)}this._document.body.append(A),f(g,()=>{A.remove(),t.complete()})}}Nu=new WeakMap;class k6{constructor(e,{disableFontFace:t=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=n}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${g6(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(r){Ue(`getPathGenerator - ignoring character: "${r}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[t]=function(r,o){};const i=[];for(let r=0,o=n.length;r<o;)switch(n[r++]){case Or.BEZIER_CURVE_TO:{const[l,u,d,f,g,x]=n.slice(r,r+6);i.push(y=>y.bezierCurveTo(l,u,d,f,g,x)),r+=6}break;case Or.MOVE_TO:{const[l,u]=n.slice(r,r+2);i.push(d=>d.moveTo(l,u)),r+=2}break;case Or.LINE_TO:{const[l,u]=n.slice(r,r+2);i.push(d=>d.lineTo(l,u)),r+=2}break;case Or.QUADRATIC_CURVE_TO:{const[l,u,d,f]=n.slice(r,r+4);i.push(g=>g.quadraticCurveTo(l,u,d,f)),r+=4}break;case Or.RESTORE:i.push(l=>l.restore());break;case Or.SAVE:i.push(l=>l.save());break;case Or.SCALE:mn(i.length===2,"Scale command is only valid at the third position.");break;case Or.TRANSFORM:{const[l,u,d,f,g,x]=n.slice(r,r+6);i.push(y=>y.transform(l,u,d,f,g,x)),r+=6}break;case Or.TRANSLATE:{const[l,u]=n.slice(r,r+2);i.push(d=>d.translate(l,u)),r+=2}break}return this.compiledGlyphs[t]=function(o,l){i[0](o),i[1](o),o.scale(l,-l);for(let u=2,d=i.length;u<d;u++)i[u](o)}}}var Mf;class kj{constructor({enableHWA:e=!1}){D(this,Mf,!1);P(this,Mf,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!m(this,Mf)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Lt("Abstract method `_createCanvas` called.")}}Mf=new WeakMap;class j6 extends kj{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class jj{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Lt("Abstract method `_fetch` called.")}}class Nj extends jj{async _fetch(e){const t=await fx(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):hx(t)}}class Tj{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,r){return"none"}destroy(e=!1){}}var Pl,Rl,gr,Jr,Gn,O0,Ll,we,Wn,Zc,eu,Bg,tu,Pj,Db,nu,Ph,Rh,Fb,Lh;class N6 extends Tj{constructor({docId:t,ownerDocument:n=globalThis.document}){super();D(this,we);D(this,Pl);D(this,Rl);D(this,gr);D(this,Jr);D(this,Gn);D(this,O0);D(this,Ll,0);P(this,Jr,t),P(this,Gn,n)}addFilter(t){if(!t)return"none";let n=m(this,we,Wn).get(t);if(n)return n;const[i,r,o]=L(this,we,Bg).call(this,t),l=t.length===1?i:`${i}${r}${o}`;if(n=m(this,we,Wn).get(l),n)return m(this,we,Wn).set(t,n),n;const u=`g_${m(this,Jr)}_transfer_map_${is(this,Ll)._++}`,d=L(this,we,tu).call(this,u);m(this,we,Wn).set(t,d),m(this,we,Wn).set(l,d);const f=L(this,we,nu).call(this,u);return L(this,we,Rh).call(this,i,r,o,f),d}addHCMFilter(t,n){var b;const i=`${t}-${n}`,r="base";let o=m(this,we,Zc).get(r);if((o==null?void 0:o.key)===i||(o?((b=o.filter)==null||b.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},m(this,we,Zc).set(r,o)),!t||!n))return o.url;const l=L(this,we,Lh).call(this,t);t=Ae.makeHexColor(...l);const u=L(this,we,Lh).call(this,n);if(n=Ae.makeHexColor(...u),m(this,we,eu).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return o.url;const d=new Array(256);for(let w=0;w<=255;w++){const S=w/255;d[w]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const f=d.join(","),g=`g_${m(this,Jr)}_hcm_filter`,x=o.filter=L(this,we,nu).call(this,g);L(this,we,Rh).call(this,f,f,f,x),L(this,we,Db).call(this,x);const y=(w,S)=>{const C=l[w]/255,j=u[w]/255,A=new Array(S+1);for(let k=0;k<=S;k++)A[k]=C+k/S*(j-C);return A.join(",")};return L(this,we,Rh).call(this,y(0,5),y(1,5),y(2,5),x),o.url=L(this,we,tu).call(this,g),o.url}addAlphaFilter(t){let n=m(this,we,Wn).get(t);if(n)return n;const[i]=L(this,we,Bg).call(this,[t]),r=`alpha_${i}`;if(n=m(this,we,Wn).get(r),n)return m(this,we,Wn).set(t,n),n;const o=`g_${m(this,Jr)}_alpha_map_${is(this,Ll)._++}`,l=L(this,we,tu).call(this,o);m(this,we,Wn).set(t,l),m(this,we,Wn).set(r,l);const u=L(this,we,nu).call(this,o);return L(this,we,Fb).call(this,i,u),l}addLuminosityFilter(t){let n=m(this,we,Wn).get(t||"luminosity");if(n)return n;let i,r;if(t?([i]=L(this,we,Bg).call(this,[t]),r=`luminosity_${i}`):r="luminosity",n=m(this,we,Wn).get(r),n)return m(this,we,Wn).set(t,n),n;const o=`g_${m(this,Jr)}_luminosity_map_${is(this,Ll)._++}`,l=L(this,we,tu).call(this,o);m(this,we,Wn).set(t,l),m(this,we,Wn).set(r,l);const u=L(this,we,nu).call(this,o);return L(this,we,Pj).call(this,u),t&&L(this,we,Fb).call(this,i,u),l}addHighlightHCMFilter(t,n,i,r,o){var j;const l=`${n}-${i}-${r}-${o}`;let u=m(this,we,Zc).get(t);if((u==null?void 0:u.key)===l||(u?((j=u.filter)==null||j.remove(),u.key=l,u.url="none",u.filter=null):(u={key:l,url:"none",filter:null},m(this,we,Zc).set(t,u)),!n||!i))return u.url;const[d,f]=[n,i].map(L(this,we,Lh).bind(this));let g=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),x=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[y,b]=[r,o].map(L(this,we,Lh).bind(this));x<g&&([g,x,y,b]=[x,g,b,y]),m(this,we,eu).style.color="";const w=(A,k,T)=>{const I=new Array(256),M=(x-g)/T,F=A/255,B=(k-A)/(255*T);let O=0;for(let W=0;W<=T;W++){const J=Math.round(g+W*M),ie=F+W*B;for(let se=O;se<=J;se++)I[se]=ie;O=J+1}for(let W=O;W<256;W++)I[W]=I[O-1];return I.join(",")},S=`g_${m(this,Jr)}_hcm_${t}_filter`,C=u.filter=L(this,we,nu).call(this,S);return L(this,we,Db).call(this,C),L(this,we,Rh).call(this,w(y[0],b[0],5),w(y[1],b[1],5),w(y[2],b[2],5),C),u.url=L(this,we,tu).call(this,S),u.url}destroy(t=!1){t&&m(this,we,Zc).size!==0||(m(this,gr)&&(m(this,gr).parentNode.parentNode.remove(),P(this,gr,null)),m(this,Rl)&&(m(this,Rl).clear(),P(this,Rl,null)),P(this,Ll,0))}}Pl=new WeakMap,Rl=new WeakMap,gr=new WeakMap,Jr=new WeakMap,Gn=new WeakMap,O0=new WeakMap,Ll=new WeakMap,we=new WeakSet,Wn=function(){return m(this,Rl)||P(this,Rl,new Map)},Zc=function(){return m(this,O0)||P(this,O0,new Map)},eu=function(){if(!m(this,gr)){const t=m(this,Gn).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=m(this,Gn).createElementNS(Vr,"svg");i.setAttribute("width",0),i.setAttribute("height",0),P(this,gr,m(this,Gn).createElementNS(Vr,"defs")),t.append(i),i.append(m(this,gr)),m(this,Gn).body.append(t)}return m(this,gr)},Bg=function(t){if(t.length===1){const d=t[0],f=new Array(256);for(let x=0;x<256;x++)f[x]=d[x]/255;const g=f.join(",");return[g,g,g]}const[n,i,r]=t,o=new Array(256),l=new Array(256),u=new Array(256);for(let d=0;d<256;d++)o[d]=n[d]/255,l[d]=i[d]/255,u[d]=r[d]/255;return[o.join(","),l.join(","),u.join(",")]},tu=function(t){if(m(this,Pl)===void 0){P(this,Pl,"");const n=m(this,Gn).URL;n!==m(this,Gn).baseURI&&(px(n)?Ue('#createUrl: ignore "data:"-URL for performance reasons.'):P(this,Pl,n.split("#",1)[0]))}return`url(${m(this,Pl)}#${t})`},Pj=function(t){const n=m(this,Gn).createElementNS(Vr,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},Db=function(t){const n=m(this,Gn).createElementNS(Vr,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},nu=function(t){const n=m(this,Gn).createElementNS(Vr,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),m(this,we,eu).append(n),n},Ph=function(t,n,i){const r=m(this,Gn).createElementNS(Vr,n);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),t.append(r)},Rh=function(t,n,i,r){const o=m(this,Gn).createElementNS(Vr,"feComponentTransfer");r.append(o),L(this,we,Ph).call(this,o,"feFuncR",t),L(this,we,Ph).call(this,o,"feFuncG",n),L(this,we,Ph).call(this,o,"feFuncB",i)},Fb=function(t,n){const i=m(this,Gn).createElementNS(Vr,"feComponentTransfer");n.append(i),L(this,we,Ph).call(this,i,"feFuncA",t)},Lh=function(t){return m(this,we,eu).style.color=t,gw(getComputedStyle(m(this,we,eu)).getPropertyValue("color"))};class Rj{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Lt("Abstract method `_fetch` called.")}}class Lj extends Rj{async _fetch(e){const t=await fx(e,"arraybuffer");return new Uint8Array(t)}}if(es){var Ob=Promise.withResolvers(),Jh=null;(async()=>{const e=await yg(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await yg(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await yg(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await yg(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let r,o;return new Map(Object.entries({fs:e,http:t,https:n,url:i,canvas:r,path2d:o}))})().then(e=>{Jh=e,Ob.resolve()},e=>{Ue(`loadPackages: ${e}`),Jh=new Map,Ob.resolve()})}class Ra{static get promise(){return Ob.promise}static get(e){return Jh==null?void 0:Jh.get(e)}}async function Ij(s){const t=await Ra.get("fs").promises.readFile(s);return new Uint8Array(t)}class T6 extends Tj{}class P6 extends kj{_createCanvas(e,t){return Ra.get("canvas").createCanvas(e,t)}}class R6 extends jj{async _fetch(e){return Ij(e)}}class L6 extends Rj{async _fetch(e){return Ij(e)}}const cs={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function zb(s,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,n),s.clip(i)}class vw{getPattern(){Lt("Abstract method `getPattern` called.")}}class I6 extends vw{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let r;if(i===cs.STROKE||i===cs.FILL){const o=t.current.getClippedPathBoundingBox(i,Ht(e))||[0,0,0,0],l=Math.ceil(o[2]-o[0])||1,u=Math.ceil(o[3]-o[1])||1,d=t.cachedCanvases.getCanvas("pattern",l,u),f=d.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-o[0],-o[1]),n=Ae.transform(n,[1,0,0,1,o[0],o[1]]),f.transform(...t.baseTransform),this.matrix&&f.transform(...this.matrix),zb(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),r=e.createPattern(d.canvas,"no-repeat");const g=new DOMMatrix(n);r.setTransform(g)}else zb(e,this._bbox),r=this._createGradient(e);return r}}function Oy(s,e,t,n,i,r,o,l){const u=e.coords,d=e.colors,f=s.data,g=s.width*4;let x;u[t+1]>u[n+1]&&(x=t,t=n,n=x,x=r,r=o,o=x),u[n+1]>u[i+1]&&(x=n,n=i,i=x,x=o,o=l,l=x),u[t+1]>u[n+1]&&(x=t,t=n,n=x,x=r,r=o,o=x);const y=(u[t]+e.offsetX)*e.scaleX,b=(u[t+1]+e.offsetY)*e.scaleY,w=(u[n]+e.offsetX)*e.scaleX,S=(u[n+1]+e.offsetY)*e.scaleY,C=(u[i]+e.offsetX)*e.scaleX,j=(u[i+1]+e.offsetY)*e.scaleY;if(b>=j)return;const A=d[r],k=d[r+1],T=d[r+2],I=d[o],M=d[o+1],F=d[o+2],B=d[l],O=d[l+1],W=d[l+2],J=Math.round(b),ie=Math.round(j);let se,$,ee,V,G,X,ne,H;for(let Y=J;Y<=ie;Y++){if(Y<S){const xe=Y<b?0:(b-Y)/(b-S);se=y-(y-w)*xe,$=A-(A-I)*xe,ee=k-(k-M)*xe,V=T-(T-F)*xe}else{let xe;Y>j?xe=1:S===j?xe=0:xe=(S-Y)/(S-j),se=w-(w-C)*xe,$=I-(I-B)*xe,ee=M-(M-O)*xe,V=F-(F-W)*xe}let ce;Y<b?ce=0:Y>j?ce=1:ce=(b-Y)/(b-j),G=y-(y-C)*ce,X=A-(A-B)*ce,ne=k-(k-O)*ce,H=T-(T-W)*ce;const fe=Math.round(Math.min(se,G)),ye=Math.round(Math.max(se,G));let de=g*Y+fe*4;for(let xe=fe;xe<=ye;xe++)ce=(se-xe)/(se-G),ce<0?ce=0:ce>1&&(ce=1),f[de++]=$-($-X)*ce|0,f[de++]=ee-(ee-ne)*ce|0,f[de++]=V-(V-H)*ce|0,f[de++]=255}}function M6(s,e,t){const n=e.coords,i=e.colors;let r,o;switch(e.type){case"lattice":const l=e.verticesPerRow,u=Math.floor(n.length/l)-1,d=l-1;for(r=0;r<u;r++){let f=r*l;for(let g=0;g<d;g++,f++)Oy(s,t,n[f],n[f+1],n[f+l],i[f],i[f+1],i[f+l]),Oy(s,t,n[f+l+1],n[f+1],n[f+l],i[f+l+1],i[f+1],i[f+l])}break;case"triangles":for(r=0,o=n.length;r<o;r+=3)Oy(s,t,n[r],n[r+1],n[r+2],i[r],i[r+1],i[r+2]);break;default:throw new Error("illegal figure")}}class D6 extends vw{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const l=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-l,f=Math.ceil(this._bounds[3])-u,g=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),x=Math.min(Math.ceil(Math.abs(f*e[1]*1.1)),3e3),y=d/g,b=f/x,w={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-u,scaleX:1/y,scaleY:1/b},S=g+2*2,C=x+2*2,j=n.getCanvas("mesh",S,C),A=j.context,k=A.createImageData(g,x);if(t){const I=k.data;for(let M=0,F=I.length;M<F;M+=4)I[M]=t[0],I[M+1]=t[1],I[M+2]=t[2],I[M+3]=255}for(const I of this._figures)M6(k,I,w);return A.putImageData(k,2,2),{canvas:j.canvas,offsetX:l-2*y,offsetY:u-2*b,scaleX:y,scaleY:b}}getPattern(e,t,n,i){zb(e,this._bbox);let r;if(i===cs.SHADING)r=Ae.singularValueDecompose2dScale(Ht(e));else if(r=Ae.singularValueDecompose2dScale(t.baseTransform),this.matrix){const l=Ae.singularValueDecompose2dScale(this.matrix);r=[r[0]*l[0],r[1]*l[1]]}const o=this._createMeshCanvas(r,i===cs.SHADING?null:this._background,t.cachedCanvases);return i!==cs.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class F6 extends vw{getPattern(){return"hotpink"}}function O6(s){switch(s[0]){case"RadialAxial":return new I6(s);case"Mesh":return new D6(s);case"Dummy":return new F6}throw new Error(`Unknown IR type: ${s[0]}`)}const _A={COLORED:1,UNCOLORED:2},z0=class z0{constructor(e,t,n,i,r){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:i,tilingType:r,color:o,canvasGraphicsFactory:l}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),ux("TilingType: "+r);const f=t[0],g=t[1],x=t[2],y=t[3],b=x-f,w=y-g,S=Ae.singularValueDecompose2dScale(this.matrix),C=Ae.singularValueDecompose2dScale(this.baseTransform),j=S[0]*C[0],A=S[1]*C[1];let k=b,T=w,I=!1,M=!1;const F=Math.ceil(u*j),B=Math.ceil(d*A),O=Math.ceil(b*j),W=Math.ceil(w*A);F>=O?k=u:I=!0,B>=W?T=d:M=!0;const J=this.getSizeAndScale(k,this.ctx.canvas.width,j),ie=this.getSizeAndScale(T,this.ctx.canvas.height,A),se=e.cachedCanvases.getCanvas("pattern",J.size,ie.size),$=se.context,ee=l.createCanvasGraphics($);if(ee.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(ee,i,o),$.translate(-J.scale*f,-ie.scale*g),ee.transform(J.scale,0,0,ie.scale,0,0),$.save(),this.clipBbox(ee,f,g,x,y),ee.baseTransform=Ht(ee.ctx),ee.executeOperatorList(n),ee.endDrawing(),$.restore(),I||M){const V=se.canvas;I&&(k=u),M&&(T=d);const G=this.getSizeAndScale(k,this.ctx.canvas.width,j),X=this.getSizeAndScale(T,this.ctx.canvas.height,A),ne=G.size,H=X.size,Y=e.cachedCanvases.getCanvas("pattern-workaround",ne,H),ce=Y.context,fe=I?Math.floor(b/u):0,ye=M?Math.floor(w/d):0;for(let de=0;de<=fe;de++)for(let xe=0;xe<=ye;xe++)ce.drawImage(V,ne*de,H*xe,ne,H,0,0,ne,H);return{canvas:Y.canvas,scaleX:G.scale,scaleY:X.scale,offsetX:f,offsetY:g}}return{canvas:se.canvas,scaleX:J.scale,scaleY:ie.scale,offsetX:f,offsetY:g}}getSizeAndScale(e,t,n){const i=Math.max(z0.MAX_PATTERN_SIZE,t);let r=Math.ceil(e*n);return r>=i?r=i:n=r/e,{scale:n,size:r}}clipBbox(e,t,n,i,r){const o=i-t,l=r-n;e.ctx.rect(t,n,o,l),e.current.updateRectMinMax(Ht(e.ctx),[t,n,i,r]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,r=e.current;switch(t){case _A.COLORED:const o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,r.fillColor=o.fillStyle,r.strokeColor=o.strokeStyle;break;case _A.UNCOLORED:const l=Ae.makeHexColor(n[0],n[1],n[2]);i.fillStyle=l,i.strokeStyle=l,r.fillColor=l,r.strokeColor=l;break;default:throw new c6(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,i){let r=n;i!==cs.SHADING&&(r=Ae.transform(r,t.baseTransform),this.matrix&&(r=Ae.transform(r,this.matrix)));const o=this.createPatternCanvas(t);let l=new DOMMatrix(r);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const u=e.createPattern(o.canvas,"repeat");return u.setTransform(l),u}};ae(z0,"MAX_PATTERN_SIZE",3e3);let Bb=z0;function z6({src:s,srcPos:e=0,dest:t,width:n,height:i,nonBlackColor:r=4294967295,inverseDecode:o=!1}){const l=ds.isLittleEndian?4278190080:255,[u,d]=o?[r,l]:[l,r],f=n>>3,g=n&7,x=s.length;t=new Uint32Array(t.buffer);let y=0;for(let b=0;b<i;b++){for(const S=e+f;e<S;e++){const C=e<x?s[e]:255;t[y++]=C&128?d:u,t[y++]=C&64?d:u,t[y++]=C&32?d:u,t[y++]=C&16?d:u,t[y++]=C&8?d:u,t[y++]=C&4?d:u,t[y++]=C&2?d:u,t[y++]=C&1?d:u}if(g===0)continue;const w=e<x?s[e++]:255;for(let S=0;S<g;S++)t[y++]=w&1<<7-S?d:u}return{srcPos:e,destPos:y}}const SA=16,CA=100,B6=15,EA=10,AA=1e3,ks=16;function H6(s,e){if(s._removeMirroring)throw new Error("Context is already forwarding operations.");s.__originalSave=s.save,s.__originalRestore=s.restore,s.__originalRotate=s.rotate,s.__originalScale=s.scale,s.__originalTranslate=s.translate,s.__originalTransform=s.transform,s.__originalSetTransform=s.setTransform,s.__originalResetTransform=s.resetTransform,s.__originalClip=s.clip,s.__originalMoveTo=s.moveTo,s.__originalLineTo=s.lineTo,s.__originalBezierCurveTo=s.bezierCurveTo,s.__originalRect=s.rect,s.__originalClosePath=s.closePath,s.__originalBeginPath=s.beginPath,s._removeMirroring=()=>{s.save=s.__originalSave,s.restore=s.__originalRestore,s.rotate=s.__originalRotate,s.scale=s.__originalScale,s.translate=s.__originalTranslate,s.transform=s.__originalTransform,s.setTransform=s.__originalSetTransform,s.resetTransform=s.__originalResetTransform,s.clip=s.__originalClip,s.moveTo=s.__originalMoveTo,s.lineTo=s.__originalLineTo,s.bezierCurveTo=s.__originalBezierCurveTo,s.rect=s.__originalRect,s.closePath=s.__originalClosePath,s.beginPath=s.__originalBeginPath,delete s._removeMirroring},s.save=function(){e.save(),this.__originalSave()},s.restore=function(){e.restore(),this.__originalRestore()},s.translate=function(n,i){e.translate(n,i),this.__originalTranslate(n,i)},s.scale=function(n,i){e.scale(n,i),this.__originalScale(n,i)},s.transform=function(n,i,r,o,l,u){e.transform(n,i,r,o,l,u),this.__originalTransform(n,i,r,o,l,u)},s.setTransform=function(n,i,r,o,l,u){e.setTransform(n,i,r,o,l,u),this.__originalSetTransform(n,i,r,o,l,u)},s.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},s.rotate=function(n){e.rotate(n),this.__originalRotate(n)},s.clip=function(n){e.clip(n),this.__originalClip(n)},s.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},s.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},s.bezierCurveTo=function(t,n,i,r,o,l){e.bezierCurveTo(t,n,i,r,o,l),this.__originalBezierCurveTo(t,n,i,r,o,l)},s.rect=function(t,n,i,r){e.rect(t,n,i,r),this.__originalRect(t,n,i,r)},s.closePath=function(){e.closePath(),this.__originalClosePath()},s.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class V6{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function bg(s,e,t,n,i,r,o,l,u,d){const[f,g,x,y,b,w]=Ht(s);if(g===0&&x===0){const j=o*f+b,A=Math.round(j),k=l*y+w,T=Math.round(k),I=(o+u)*f+b,M=Math.abs(Math.round(I)-A)||1,F=(l+d)*y+w,B=Math.abs(Math.round(F)-T)||1;return s.setTransform(Math.sign(f),0,0,Math.sign(y),A,T),s.drawImage(e,t,n,i,r,0,0,M,B),s.setTransform(f,g,x,y,b,w),[M,B]}if(f===0&&y===0){const j=l*x+b,A=Math.round(j),k=o*g+w,T=Math.round(k),I=(l+d)*x+b,M=Math.abs(Math.round(I)-A)||1,F=(o+u)*g+w,B=Math.abs(Math.round(F)-T)||1;return s.setTransform(0,Math.sign(g),Math.sign(x),0,A,T),s.drawImage(e,t,n,i,r,0,0,B,M),s.setTransform(f,g,x,y,b,w),[B,M]}s.drawImage(e,t,n,i,r,o,l,u,d);const S=Math.hypot(f,g),C=Math.hypot(x,y);return[S*u,C*d]}function $6(s){const{width:e,height:t}=s;if(e>AA||t>AA)return null;const n=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=e+1;let o=new Uint8Array(r*(t+1)),l,u,d;const f=e+7&-8;let g=new Uint8Array(f*t),x=0;for(const C of s.data){let j=128;for(;j>0;)g[x++]=C&j?0:255,j>>=1}let y=0;for(x=0,g[x]!==0&&(o[0]=1,++y),u=1;u<e;u++)g[x]!==g[x+1]&&(o[u]=g[x]?2:1,++y),x++;for(g[x]!==0&&(o[u]=2,++y),l=1;l<t;l++){x=l*f,d=l*r,g[x-f]!==g[x]&&(o[d]=g[x]?1:8,++y);let C=(g[x]?4:0)+(g[x-f]?8:0);for(u=1;u<e;u++)C=(C>>2)+(g[x+1]?4:0)+(g[x-f+1]?8:0),i[C]&&(o[d+u]=i[C],++y),x++;if(g[x-f]!==g[x]&&(o[d+u]=g[x]?2:4,++y),y>n)return null}for(x=f*(t-1),d=l*r,g[x]!==0&&(o[d]=8,++y),u=1;u<e;u++)g[x]!==g[x+1]&&(o[d+u]=g[x]?4:8,++y),x++;if(g[x]!==0&&(o[d+u]=4,++y),y>n)return null;const b=new Int32Array([0,r,-1,0,-r,0,0,0,1]),w=new Path2D;for(l=0;y&&l<=t;l++){let C=l*r;const j=C+e;for(;C<j&&!o[C];)C++;if(C===j)continue;w.moveTo(C%r,l);const A=C;let k=o[C];do{const T=b[k];do C+=T;while(!o[C]);const I=o[C];I!==5&&I!==10?(k=I,o[C]=0):(k=I&51*k>>4,o[C]&=k>>2|k<<2),w.lineTo(C%r,C/r|0),o[C]||--y}while(A!==C);--l}return g=null,o=null,function(C){C.save(),C.scale(1/e,-1/t),C.translate(0,-t),C.fill(w),C.beginPath(),C.restore()}}class kA{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Jk,this.textMatrixScale=1,this.fontMatrix=hb,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Un.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=Ae.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=Ae.applyTransform(t,e),i=Ae.applyTransform(t.slice(2),e),r=Ae.applyTransform([t[0],t[3]],e),o=Ae.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],i[0],r[0],o[0]),this.minY=Math.min(this.minY,n[1],i[1],r[1],o[1]),this.maxX=Math.max(this.maxX,n[0],i[0],r[0],o[0]),this.maxY=Math.max(this.maxY,n[1],i[1],r[1],o[1])}updateScalingPathMinMax(e,t){Ae.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,i,r,o,l,u,d,f){const g=Ae.bezierBoundingBox(t,n,i,r,o,l,u,d,f);f||this.updateRectMinMax(e,g)}getPathBoundingBox(e=cs.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===cs.STROKE){t||Lt("Stroke bounding box must include transform.");const i=Ae.singularValueDecompose2dScale(t),r=i[0]*this.lineWidth/2,o=i[1]*this.lineWidth/2;n[0]-=r,n[1]-=o,n[2]+=r,n[3]+=o}return n}updateClipFromPath(){const e=Ae.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=cs.FILL,t=null){return Ae.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function jA(s,e){if(typeof ImageData<"u"&&e instanceof ImageData){s.putImageData(e,0,0);return}const t=e.height,n=e.width,i=t%ks,r=(t-i)/ks,o=i===0?r:r+1,l=s.createImageData(n,ks);let u=0,d;const f=e.data,g=l.data;let x,y,b,w;if(e.kind===Lg.GRAYSCALE_1BPP){const S=f.byteLength,C=new Uint32Array(g.buffer,0,g.byteLength>>2),j=C.length,A=n+7>>3,k=4294967295,T=ds.isLittleEndian?4278190080:255;for(x=0;x<o;x++){for(b=x<r?ks:i,d=0,y=0;y<b;y++){const I=S-u;let M=0;const F=I>A?n:I*8-7,B=F&-8;let O=0,W=0;for(;M<B;M+=8)W=f[u++],C[d++]=W&128?k:T,C[d++]=W&64?k:T,C[d++]=W&32?k:T,C[d++]=W&16?k:T,C[d++]=W&8?k:T,C[d++]=W&4?k:T,C[d++]=W&2?k:T,C[d++]=W&1?k:T;for(;M<F;M++)O===0&&(W=f[u++],O=128),C[d++]=W&O?k:T,O>>=1}for(;d<j;)C[d++]=0;s.putImageData(l,0,x*ks)}}else if(e.kind===Lg.RGBA_32BPP){for(y=0,w=n*ks*4,x=0;x<r;x++)g.set(f.subarray(u,u+w)),u+=w,s.putImageData(l,0,y),y+=ks;x<o&&(w=n*i*4,g.set(f.subarray(u,u+w)),s.putImageData(l,0,y))}else if(e.kind===Lg.RGB_24BPP)for(b=ks,w=n*b,x=0;x<o;x++){for(x>=r&&(b=i,w=n*b),d=0,y=w;y--;)g[d++]=f[u++],g[d++]=f[u++],g[d++]=f[u++],g[d++]=255;s.putImageData(l,0,x*ks)}else throw new Error(`bad image kind: ${e.kind}`)}function NA(s,e){if(e.bitmap){s.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,i=t%ks,r=(t-i)/ks,o=i===0?r:r+1,l=s.createImageData(n,ks);let u=0;const d=e.data,f=l.data;for(let g=0;g<o;g++){const x=g<r?ks:i;({srcPos:u}=z6({src:d,srcPos:u,dest:f,width:n,height:x,nonBlackColor:0})),s.putImageData(l,0,g*ks)}}function yh(s,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)s[n]!==void 0&&(e[n]=s[n]);s.setLineDash!==void 0&&(e.setLineDash(s.getLineDash()),e.lineDashOffset=s.lineDashOffset)}function wg(s){if(s.strokeStyle=s.fillStyle="#000000",s.fillRule="nonzero",s.globalAlpha=1,s.lineWidth=1,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=10,s.globalCompositeOperation="source-over",s.font="10px sans-serif",s.setLineDash!==void 0&&(s.setLineDash([]),s.lineDashOffset=0),!es){const{filter:e}=s;e!=="none"&&e!==""&&(s.filter="none")}}function TA(s,e){if(e)return!0;const t=Ae.singularValueDecompose2dScale(s);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*Pa.PDF_TO_CSS_UNITS);return t[0]<=n&&t[1]<=n}const U6=["butt","round","square"],W6=["miter","round","bevel"],q6={},PA={};var Ia,Hb,Vb;const Aw=class Aw{constructor(e,t,n,i,r,{optionalContentConfig:o,markedContentStack:l=null},u,d){D(this,Ia);this.ctx=e,this.current=new kA(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=o,this.cachedCanvases=new V6(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){const r=this.ctx.canvas.width,o=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,r,o),this.ctx.fillStyle=l,n){const u=this.cachedCanvases.getCanvas("transparent",r,o);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...Ht(this.compositeCtx))}this.ctx.save(),wg(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Ht(this.ctx)}executeOperatorList(e,t,n,i){const r=e.argsArray,o=e.fnArray;let l=t||0;const u=r.length;if(u===l)return l;const d=u-l>EA&&typeof n=="function",f=d?Date.now()+B6:0;let g=0;const x=this.commonObjs,y=this.objs;let b;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,n),l;if(b=o[l],b!==Li.dependency)this[b].apply(this,r[l]);else for(const w of r[l]){const S=w.startsWith("g_")?x:y;if(!S.has(w))return S.get(w,n),l}if(l++,l===u)return l;if(d&&++g>EA){if(Date.now()>f)return n(),l;g=0}}}endDrawing(){L(this,Ia,Hb).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),L(this,Ia,Vb).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let r=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=n,u=i,d="prescale1",f,g;for(;r>2&&l>1||o>2&&u>1;){let x=l,y=u;r>2&&l>1&&(x=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),r/=l/x),o>2&&u>1&&(y=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,o/=u/y),f=this.cachedCanvases.getCanvas(d,x,y),g=f.context,g.clearRect(0,0,x,y),g.drawImage(e,0,0,l,u,0,0,x,y),e=f.canvas,l=x,u=y,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:u}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:i}=e,r=this.current.fillColor,o=this.current.patternFill,l=Ht(t);let u,d,f,g;if((e.bitmap||e.data)&&e.count>1){const F=e.bitmap||e.data.buffer;d=JSON.stringify(o?l:[l.slice(0,4),r]),u=this._cachedBitmapsMap.get(F),u||(u=new Map,this._cachedBitmapsMap.set(F,u));const B=u.get(d);if(B&&!o){const O=Math.round(Math.min(l[0],l[2])+l[4]),W=Math.round(Math.min(l[1],l[3])+l[5]);return{canvas:B,offsetX:O,offsetY:W}}f=B}f||(g=this.cachedCanvases.getCanvas("maskCanvas",n,i),NA(g.context,e));let x=Ae.transform(l,[1/n,0,0,-1/i,0,0]);x=Ae.transform(x,[1,0,0,1,0,-i]);const[y,b,w,S]=Ae.getAxialAlignedBoundingBox([0,0,n,i],x),C=Math.round(w-y)||1,j=Math.round(S-b)||1,A=this.cachedCanvases.getCanvas("fillCanvas",C,j),k=A.context,T=y,I=b;k.translate(-T,-I),k.transform(...x),f||(f=this._scaleImage(g.canvas,zr(k)),f=f.img,u&&o&&u.set(d,f)),k.imageSmoothingEnabled=TA(Ht(k),e.interpolate),bg(k,f,0,0,f.width,f.height,0,0,n,i),k.globalCompositeOperation="source-in";const M=Ae.transform(zr(k),[1,0,0,1,-T,-I]);return k.fillStyle=o?r.getPattern(t,this,M,cs.FILL):r,k.fillRect(0,0,n,i),u&&!o&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,A.canvas)),{canvas:A.canvas,offsetX:Math.round(T),offsetY:Math.round(I)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=U6[e]}setLineJoin(e){this.ctx.lineJoin=W6[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const r=this.ctx;r.setTransform(...Ht(this.suspendedCtx)),yh(this.suspendedCtx,r),H6(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),yh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const r=i[0],o=i[1],l=i[2]-r,u=i[3]-o;l===0||u===0||(this.genericComposeSMask(t.context,n,l,u,t.subtype,t.backdrop,t.transferMap,r,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,r,o,l,u,d,f,g){let x=e.canvas,y=u-f,b=d-g;if(o){const S=Ae.makeHexColor(...o);if(y<0||b<0||y+n>x.width||b+i>x.height){const C=this.cachedCanvases.getCanvas("maskExtension",n,i),j=C.context;j.drawImage(x,-y,-b),j.globalCompositeOperation="destination-atop",j.fillStyle=S,j.fillRect(0,0,n,i),j.globalCompositeOperation="source-over",x=C.canvas,y=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const C=new Path2D;C.rect(y,b,n,i),e.clip(C),e.globalCompositeOperation="destination-atop",e.fillStyle=S,e.fillRect(y,b,n,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),r==="Alpha"&&l?t.filter=this.filterFactory.addAlphaFilter(l):r==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(l));const w=new Path2D;w.rect(u,d,n,i),t.clip(w),t.globalCompositeOperation="destination-in",t.drawImage(x,y,b,n,i,u,d,n,i),t.restore()}save(){this.inSMaskMode?(yh(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),yh(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,i,r,o){this.ctx.transform(e,t,n,i,r,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const i=this.ctx,r=this.current;let o=r.x,l=r.y,u,d;const f=Ht(i),g=f[0]===0&&f[3]===0||f[1]===0&&f[2]===0,x=g?n.slice(0):null;for(let y=0,b=0,w=e.length;y<w;y++)switch(e[y]|0){case Li.rectangle:o=t[b++],l=t[b++];const S=t[b++],C=t[b++],j=o+S,A=l+C;i.moveTo(o,l),S===0||C===0?i.lineTo(j,A):(i.lineTo(j,l),i.lineTo(j,A),i.lineTo(o,A)),g||r.updateRectMinMax(f,[o,l,j,A]),i.closePath();break;case Li.moveTo:o=t[b++],l=t[b++],i.moveTo(o,l),g||r.updatePathMinMax(f,o,l);break;case Li.lineTo:o=t[b++],l=t[b++],i.lineTo(o,l),g||r.updatePathMinMax(f,o,l);break;case Li.curveTo:u=o,d=l,o=t[b+4],l=t[b+5],i.bezierCurveTo(t[b],t[b+1],t[b+2],t[b+3],o,l),r.updateCurvePathMinMax(f,u,d,t[b],t[b+1],t[b+2],t[b+3],o,l,x),b+=6;break;case Li.curveTo2:u=o,d=l,i.bezierCurveTo(o,l,t[b],t[b+1],t[b+2],t[b+3]),r.updateCurvePathMinMax(f,u,d,o,l,t[b],t[b+1],t[b+2],t[b+3],x),o=t[b+2],l=t[b+3],b+=4;break;case Li.curveTo3:u=o,d=l,o=t[b+2],l=t[b+3],i.bezierCurveTo(t[b],t[b+1],o,l,o,l),r.updateCurvePathMinMax(f,u,d,t[b],t[b+1],o,l,o,l,x),b+=4;break;case Li.closePath:i.closePath();break}g&&r.updateScalingPathMinMax(f,x),r.setCurrentPoint(o,l)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(t.save(),t.strokeStyle=n.getPattern(t,this,zr(t),cs.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;let r=!1;i&&(t.save(),t.fillStyle=n.getPattern(t,this,zr(t),cs.FILL),r=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=q6}eoClip(){this.pendingClip=PA}beginText(){this.current.textMatrix=Jk,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var f;const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||hb,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Ue("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const r=n.loadedName||"sans-serif",o=((f=n.systemFontInfo)==null?void 0:f.css)||`"${r}", ${n.fallbackName}`;let l="normal";n.black?l="900":n.bold&&(l="bold");const u=n.italic?"italic":"normal";let d=t;t<SA?d=SA:t>CA&&(d=CA),this.current.fontSizeScale=t/d,this.ctx.font=`${u} ${l} ${d}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,i,r,o){this.current.textMatrix=[e,t,n,i,r,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,i){const r=this.ctx,o=this.current,l=o.font,u=o.textRenderingMode,d=o.fontSize/o.fontSizeScale,f=u&Un.FILL_STROKE_MASK,g=!!(u&Un.ADD_TO_PATH_FLAG),x=o.patternFill&&!l.missingFile;let y;(l.disableFontFace||g||x)&&(y=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||x?(r.save(),r.translate(t,n),r.beginPath(),y(r,d),i&&r.setTransform(...i),(f===Un.FILL||f===Un.FILL_STROKE)&&r.fill(),(f===Un.STROKE||f===Un.FILL_STROKE)&&r.stroke(),r.restore()):((f===Un.FILL||f===Un.FILL_STROKE)&&r.fillText(e,t,n),(f===Un.STROKE||f===Un.FILL_STROKE)&&r.strokeText(e,t,n)),g&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ht(r),x:t,y:n,fontSize:d,addToPath:y})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return Ze(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const r=this.ctx,o=t.fontSizeScale,l=t.charSpacing,u=t.wordSpacing,d=t.fontDirection,f=t.textHScale*d,g=e.length,x=n.vertical,y=x?1:-1,b=n.defaultVMetrics,w=i*t.fontMatrix[0],S=t.textRenderingMode===Un.FILL&&!n.disableFontFace&&!t.patternFill;r.save(),r.transform(...t.textMatrix),r.translate(t.x,t.y+t.textRise),d>0?r.scale(f,-1):r.scale(f,1);let C;if(t.patternFill){r.save();const I=t.fillColor.getPattern(r,this,zr(r),cs.FILL);C=Ht(r),r.restore(),r.fillStyle=I}let j=t.lineWidth;const A=t.textMatrixScale;if(A===0||j===0){const I=t.textRenderingMode&Un.FILL_STROKE_MASK;(I===Un.STROKE||I===Un.FILL_STROKE)&&(j=this.getSinglePixelWidth())}else j/=A;if(o!==1&&(r.scale(o,o),j/=o),r.lineWidth=j,n.isInvalidPDFjsFont){const I=[];let M=0;for(const F of e)I.push(F.unicode),M+=F.width;r.fillText(I.join(""),0,0),t.x+=M*w*f,r.restore(),this.compose();return}let k=0,T;for(T=0;T<g;++T){const I=e[T];if(typeof I=="number"){k+=y*I*i/1e3;continue}let M=!1;const F=(I.isSpace?u:0)+l,B=I.fontChar,O=I.accent;let W,J,ie=I.width;if(x){const $=I.vmetric||b,ee=-(I.vmetric?$[1]:ie*.5)*w,V=$[2]*w;ie=$?-$[0]:ie,W=ee/o,J=(k+V)/o}else W=k/o,J=0;if(n.remeasure&&ie>0){const $=r.measureText(B).width*1e3/i*o;if(ie<$&&this.isFontSubpixelAAEnabled){const ee=ie/$;M=!0,r.save(),r.scale(ee,1),W/=ee}else ie!==$&&(W+=(ie-$)/2e3*i/o)}if(this.contentVisible&&(I.isInFont||n.missingFile)){if(S&&!O)r.fillText(B,W,J);else if(this.paintChar(B,W,J,C),O){const $=W+i*O.offset.x/o,ee=J-i*O.offset.y/o;this.paintChar(O.fontChar,$,ee,C)}}const se=x?ie*w-F*d:ie*w+F*d;k+=se,M&&r.restore()}x?t.y-=k:t.x+=k*f,r.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,i=n.font,r=n.fontSize,o=n.fontDirection,l=i.vertical?1:-1,u=n.charSpacing,d=n.wordSpacing,f=n.textHScale*o,g=n.fontMatrix||hb,x=e.length,y=n.textRenderingMode===Un.INVISIBLE;let b,w,S,C;if(!(y||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(f,o),b=0;b<x;++b){if(w=e[b],typeof w=="number"){C=l*w*r/1e3,this.ctx.translate(C,0),n.x+=C*f;continue}const j=(w.isSpace?d:0)+u,A=i.charProcOperatorList[w.operatorListId];if(!A){Ue(`Type3 character "${w.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=w,this.save(),t.scale(r,r),t.transform(...g),this.executeOperatorList(A),this.restore()),S=Ae.applyTransform([w.width,0],g)[0]*r+j,t.translate(S,0),n.x+=S*f}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,i,r,o){this.ctx.rect(n,i,r-n,o-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=e[1],i=this.baseTransform||Ht(this.ctx),r={createCanvasGraphics:o=>new Aw(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Bb(e,n,this.ctx,r,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){this.ctx.strokeStyle=this.current.strokeColor=Ae.makeHexColor(e,t,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,n){this.ctx.fillStyle=this.current.fillColor=Ae.makeHexColor(e,t,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=O6(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,zr(t),cs.SHADING);const i=zr(t);if(i){const{width:r,height:o}=t.canvas,[l,u,d,f]=Ae.getAxialAlignedBoundingBox([0,0,r,o],i);this.ctx.fillRect(l,u,d-l,f-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Lt("Should not call beginInlineImage")}beginImageData(){Lt("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Ht(this.ctx),t)){const n=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],n,i),this.current.updateRectMinMax(Ht(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||ux("TODO: Support non-isolated groups."),e.knockout&&Ue("Knockout groups not supported.");const n=Ht(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Ae.getAxialAlignedBoundingBox(e.bbox,Ht(t));const r=[0,0,t.canvas.width,t.canvas.height];i=Ae.intersect(i,r)||[0,0,0,0];const o=Math.floor(i[0]),l=Math.floor(i[1]),u=Math.max(Math.ceil(i[2])-o,1),d=Math.max(Math.ceil(i[3])-l,1);this.current.startNewPathAndClipBox([0,0,u,d]);let f="groupAt"+this.groupLevel;e.smask&&(f+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(f,u,d),x=g.context;x.translate(-o,-l),x.transform(...n),e.smask?this.smaskStack.push({canvas:g.canvas,context:x,offsetX:o,offsetY:l,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,l),t.save()),yh(t,x),this.ctx=x,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Ht(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const r=Ae.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(e,t,n,i,r){if(L(this,Ia,Hb).call(this),wg(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],l=t[3]-t[1];if(r&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=l;const[u,d]=Ae.singularValueDecompose2dScale(Ht(this.ctx)),{viewportScale:f}=this,g=Math.ceil(o*this.outputScaleX*f),x=Math.ceil(l*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(g,x);const{canvas:y,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(e,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(u,0,0,-d,0,l*d),wg(this.ctx)}else wg(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],o,l),this.ctx.clip(),this.ctx.beginPath()}this.current=new kA(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),L(this,Ia,Vb).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=$6(e)),i.compiled)){i.compiled(n);return}const r=this._createMaskCanvas(e),o=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(o,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,i=0,r,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const l=this.ctx;l.save();const u=Ht(l);l.transform(t,n,i,r,0,0);const d=this._createMaskCanvas(e);l.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]);for(let f=0,g=o.length;f<g;f+=2){const x=Ae.transform(u,[t,n,i,r,o[f],o[f+1]]),[y,b]=Ae.applyTransform([0,0],x);l.drawImage(d.canvas,y,b)}l.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const r of e){const{data:o,width:l,height:u,transform:d}=r,f=this.cachedCanvases.getCanvas("maskCanvas",l,u),g=f.context;g.save();const x=this.getObject(o,r);NA(g,x),g.globalCompositeOperation="source-in",g.fillStyle=i?n.getPattern(g,this,zr(t),cs.FILL):n,g.fillRect(0,0,l,u),g.restore(),t.save(),t.transform(...d),t.scale(1,-1),bg(t,f.canvas,0,0,l,u,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Ue("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,i){if(!this.contentVisible)return;const r=this.getObject(e);if(!r){Ue("Dependent image isn't ready yet");return}const o=r.width,l=r.height,u=[];for(let d=0,f=i.length;d<f;d+=2)u.push({transform:[t,0,0,n,i[d],i[d+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(r,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:i}=e,r=this.cachedCanvases.getCanvas("inlineImage",n,i),o=r.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",r.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,i=this.ctx;if(this.save(),!es){const{filter:l}=i;l!=="none"&&l!==""&&(i.filter="none")}i.scale(1/t,-1/n);let r;if(e.bitmap)r=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)r=e;else{const u=this.cachedCanvases.getCanvas("inlineImage",t,n).context;jA(u,e),r=this.applyTransferMapsToCanvas(u)}const o=this._scaleImage(r,zr(i));i.imageSmoothingEnabled=TA(Ht(i),e.interpolate),bg(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const r=e.width,o=e.height,u=this.cachedCanvases.getCanvas("inlineImage",r,o).context;jA(u,e),i=this.applyTransferMapsToCanvas(u)}for(const r of t)n.save(),n.transform(...r.transform),n.scale(1,-1),bg(n,i,r.x,r.y,r.w,r.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===PA?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ht(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:r}=this.ctx.getTransform();let o,l;if(n===0&&i===0){const u=Math.abs(t),d=Math.abs(r);if(u===d)if(e===0)o=l=1/u;else{const f=u*e;o=l=f<1?1/f:1}else if(e===0)o=1/u,l=1/d;else{const f=u*e,g=d*e;o=f<1?1/f:1,l=g<1?1/g:1}}else{const u=Math.abs(t*r-n*i),d=Math.hypot(t,n),f=Math.hypot(i,r);if(e===0)o=f/u,l=d/u;else{const g=e*u;o=f>g?f/g:1,l=d>g?d/g:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[i,r]=this.getScaleForStroking();if(t.lineWidth=n||1,i===1&&r===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(i,r),o.length>0){const l=Math.max(i,r);t.setLineDash(o.map(u=>u/l)),t.lineDashOffset/=l}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Ia=new WeakSet,Hb=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Vb=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let hu=Aw;for(const s in Li)hu.prototype[s]!==void 0&&(hu.prototype[Li[s]]=hu.prototype[s]);var Df,Ff;class xo{static get workerPort(){return m(this,Df)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");P(this,Df,e)}static get workerSrc(){return m(this,Ff)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");P(this,Ff,e)}}Df=new WeakMap,Ff=new WeakMap,D(xo,Df,null),D(xo,Ff,"");const _g={UNKNOWN:0,DATA:1,ERROR:2},tn={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Fs(s){switch(s instanceof Error||typeof s=="object"&&s!==null||Lt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),s.name){case"AbortException":return new Ec(s.message);case"MissingPDFException":return new Cc(s.message);case"PasswordException":return new fb(s.message,s.code);case"UnexpectedResponseException":return new dx(s.message,s.status);case"UnknownErrorException":return new pb(s.message,s.details);default:return new pb(s.message,s.toString())}}var Tu,xi,Mj,Dj,Fj,Hg;class Ih{constructor(e,t,n){D(this,xi);D(this,Tu,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",L(this,xi,Mj).bind(this),{signal:m(this,Tu).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[i]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(o){r.reject(o)}return r.promise}sendWithStream(e,t,n,i){const r=this.streamId++,o=this.sourceName,l=this.targetName,u=this.comObj;return new ReadableStream({start:d=>{const f=Promise.withResolvers();return this.streamControllers[r]={controller:d,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:o,targetName:l,action:e,streamId:r,data:t,desiredSize:d.desiredSize},i),f.promise},pull:d=>{const f=Promise.withResolvers();return this.streamControllers[r].pullCall=f,u.postMessage({sourceName:o,targetName:l,stream:tn.PULL,streamId:r,desiredSize:d.desiredSize}),f.promise},cancel:d=>{mn(d instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[r].cancelCall=f,this.streamControllers[r].isClosed=!0,u.postMessage({sourceName:o,targetName:l,stream:tn.CANCEL,streamId:r,reason:Fs(d)}),f.promise}},n)}destroy(){var e;(e=m(this,Tu))==null||e.abort(),P(this,Tu,null)}}Tu=new WeakMap,xi=new WeakSet,Mj=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){L(this,xi,Fj).call(this,e);return}if(e.callback){const n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===_g.DATA)i.resolve(e.data);else if(e.callback===_g.ERROR)i.reject(Fs(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,r=this.comObj;new Promise(function(o){o(t(e.data))}).then(function(o){r.postMessage({sourceName:n,targetName:i,callback:_g.DATA,callbackId:e.callbackId,data:o})},function(o){r.postMessage({sourceName:n,targetName:i,callback:_g.ERROR,callbackId:e.callbackId,reason:Fs(o)})});return}if(e.streamId){L(this,xi,Dj).call(this,e);return}t(e.data)},Dj=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,r=this.comObj,o=this,l=this.actionHandler[e.action],u={enqueue(d,f=1,g){if(this.isCancelled)return;const x=this.desiredSize;this.desiredSize-=f,x>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:n,targetName:i,stream:tn.ENQUEUE,streamId:t,chunk:d},g)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:tn.CLOSE,streamId:t}),delete o.streamSinks[t])},error(d){mn(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:tn.ERROR,streamId:t,reason:Fs(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[t]=u,new Promise(function(d){d(l(e.data,u))}).then(function(){r.postMessage({sourceName:n,targetName:i,stream:tn.START_COMPLETE,streamId:t,success:!0})},function(d){r.postMessage({sourceName:n,targetName:i,stream:tn.START_COMPLETE,streamId:t,reason:Fs(d)})})},Fj=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,r=this.comObj,o=this.streamControllers[t],l=this.streamSinks[t];switch(e.stream){case tn.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Fs(e.reason));break;case tn.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Fs(e.reason));break;case tn.PULL:if(!l){r.postMessage({sourceName:n,targetName:i,stream:tn.PULL_COMPLETE,streamId:t,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,new Promise(function(u){var d;u((d=l.onPull)==null?void 0:d.call(l))}).then(function(){r.postMessage({sourceName:n,targetName:i,stream:tn.PULL_COMPLETE,streamId:t,success:!0})},function(u){r.postMessage({sourceName:n,targetName:i,stream:tn.PULL_COMPLETE,streamId:t,reason:Fs(u)})});break;case tn.ENQUEUE:if(mn(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case tn.CLOSE:if(mn(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),L(this,xi,Hg).call(this,o,t);break;case tn.ERROR:mn(o,"error should have stream controller"),o.controller.error(Fs(e.reason)),L(this,xi,Hg).call(this,o,t);break;case tn.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Fs(e.reason)),L(this,xi,Hg).call(this,o,t);break;case tn.CANCEL:if(!l)break;new Promise(function(u){var d;u((d=l.onCancel)==null?void 0:d.call(l,Fs(e.reason)))}).then(function(){r.postMessage({sourceName:n,targetName:i,stream:tn.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){r.postMessage({sourceName:n,targetName:i,stream:tn.CANCEL_COMPLETE,streamId:t,reason:Fs(u)})}),l.sinkCapability.reject(Fs(e.reason)),l.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Hg=async function(e,t){var n,i,r;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(i=e.pullCall)==null?void 0:i.promise,(r=e.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[t]};var Il,Of;class G6{constructor({parsedData:e,rawData:t}){D(this,Il);D(this,Of);P(this,Il,e),P(this,Of,t)}getRaw(){return m(this,Of)}get(e){return m(this,Il).get(e)??null}getAll(){return dw(m(this,Il))}has(e){return m(this,Il).has(e)}}Il=new WeakMap,Of=new WeakMap;const su=Symbol("INTERNAL");var zf,Bf,Hf,Pu;class X6{constructor(e,{name:t,intent:n,usage:i,rbGroups:r}){D(this,zf,!1);D(this,Bf,!1);D(this,Hf,!1);D(this,Pu,!0);P(this,zf,!!(e&Gs.DISPLAY)),P(this,Bf,!!(e&Gs.PRINT)),this.name=t,this.intent=n,this.usage=i,this.rbGroups=r}get visible(){if(m(this,Hf))return m(this,Pu);if(!m(this,Pu))return!1;const{print:e,view:t}=this.usage;return m(this,zf)?(t==null?void 0:t.viewState)!=="OFF":m(this,Bf)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==su&&Lt("Internal method `_setVisible` called."),P(this,Hf,n),P(this,Pu,t)}}zf=new WeakMap,Bf=new WeakMap,Hf=new WeakMap,Pu=new WeakMap;var la,mt,Ru,Lu,Vf,$b;class K6{constructor(e,t=Gs.DISPLAY){D(this,Vf);D(this,la,null);D(this,mt,new Map);D(this,Ru,null);D(this,Lu,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,P(this,Lu,e.order);for(const n of e.groups)m(this,mt).set(n.id,new X6(t,n));if(e.baseState==="OFF")for(const n of m(this,mt).values())n._setVisible(su,!1);for(const n of e.on)m(this,mt).get(n)._setVisible(su,!0);for(const n of e.off)m(this,mt).get(n)._setVisible(su,!1);P(this,Ru,this.getHash())}}isVisible(e){if(m(this,mt).size===0)return!0;if(!e)return ux("Optional content group not defined."),!0;if(e.type==="OCG")return m(this,mt).has(e.id)?m(this,mt).get(e.id).visible:(Ue(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return L(this,Vf,$b).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!m(this,mt).has(t))return Ue(`Optional content group not found: ${t}`),!0;if(m(this,mt).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!m(this,mt).has(t))return Ue(`Optional content group not found: ${t}`),!0;if(!m(this,mt).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!m(this,mt).has(t))return Ue(`Optional content group not found: ${t}`),!0;if(!m(this,mt).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!m(this,mt).has(t))return Ue(`Optional content group not found: ${t}`),!0;if(m(this,mt).get(t).visible)return!1}return!0}return Ue(`Unknown optional content policy ${e.policy}.`),!0}return Ue(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var r;const i=m(this,mt).get(e);if(!i){Ue(`Optional content group not found: ${e}`);return}if(n&&t&&i.rbGroups.length)for(const o of i.rbGroups)for(const l of o)l!==e&&((r=m(this,mt).get(l))==null||r._setVisible(su,!1,!0));i._setVisible(su,!!t,!0),P(this,la,null)}setOCGState({state:e,preserveRB:t}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const r=m(this,mt).get(i);if(r)switch(n){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!r.visible,t);break}}P(this,la,null)}get hasInitialVisibility(){return m(this,Ru)===null||this.getHash()===m(this,Ru)}getOrder(){return m(this,mt).size?m(this,Lu)?m(this,Lu).slice():[...m(this,mt).keys()]:null}getGroups(){return m(this,mt).size>0?dw(m(this,mt)):null}getGroup(e){return m(this,mt).get(e)||null}getHash(){if(m(this,la)!==null)return m(this,la);const e=new Cj;for(const[t,n]of m(this,mt))e.update(`${t}:${n.visible}`);return P(this,la,e.hexdigest())}}la=new WeakMap,mt=new WeakMap,Ru=new WeakMap,Lu=new WeakMap,Vf=new WeakSet,$b=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const r=e[i];let o;if(Array.isArray(r))o=L(this,Vf,$b).call(this,r);else if(m(this,mt).has(r))o=m(this,mt).get(r).visible;else return Ue(`Optional content group not found: ${r}`),!0;switch(n){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return n==="And"};class Y6{constructor(e,{disableRange:t=!1,disableStream:n=!1}){mn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:r,progressiveDone:o,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=l,(r==null?void 0:r.length)>0){const u=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((u,d)=>{this._onReceiveData({begin:u,chunk:d})}),e.addProgressListener((u,d)=>{this._onProgress({loaded:u,total:d})}),e.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(r){return r._begin!==e?!1:(r._enqueue(n),!0)});mn(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,i,r;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(r=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||r.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){mn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new J6(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Q6(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class J6{constructor(e,t,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=pw(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Q6{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Z6(s){let e=!0,t=n("filename\\*","i").exec(s);if(t){t=t[1];let f=l(t);return f=unescape(f),f=u(f),f=d(f),r(f)}if(t=o(s),t){const f=d(t);return r(f)}if(t=n("filename","i").exec(s),t){t=t[1];let f=l(t);return f=d(f),r(f)}function n(f,g){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function i(f,g){if(f){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const x=new TextDecoder(f,{fatal:!0}),y=hx(g);g=x.decode(y),e=!1}catch{}}return g}function r(f){return e&&/[\x80-\xff]/.test(f)&&(f=i("utf-8",f),e&&(f=i("iso-8859-1",f))),f}function o(f){const g=[];let x;const y=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(x=y.exec(f))!==null;){let[,w,S,C]=x;if(w=parseInt(w,10),w in g){if(w===0)break;continue}g[w]=[S,C]}const b=[];for(let w=0;w<g.length&&w in g;++w){let[S,C]=g[w];C=l(C),S&&(C=unescape(C),w===0&&(C=u(C))),b.push(C)}return b.join("")}function l(f){if(f.startsWith('"')){const g=f.slice(1).split('\\"');for(let x=0;x<g.length;++x){const y=g[x].indexOf('"');y!==-1&&(g[x]=g[x].slice(0,y),g.length=x+1),g[x]=g[x].replaceAll(/\\(.)/g,"$1")}f=g.join('"')}return f}function u(f){const g=f.indexOf("'");if(g===-1)return f;const x=f.slice(0,g),b=f.slice(g+1).replace(/^[^']*'/,"");return i(x,b)}function d(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,x,y,b){if(y==="q"||y==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,S){return String.fromCharCode(parseInt(S,16))}),i(x,b);try{b=atob(b)}catch{}return i(x,b)})}return""}function yw(s,e){const t=new Headers;if(!s||!e||typeof e!="object")return t;for(const n in e){const i=e[n];i!==void 0&&t.append(n,i)}return t}function bw({responseHeaders:s,isHttp:e,rangeChunkSize:t,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(s.get("Content-Length"),10);return!Number.isInteger(r)||(i.suggestedLength=r,r<=2*t)||n||!e||s.get("Accept-Ranges")!=="bytes"||(s.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function ww(s){const e=s.get("Content-Disposition");if(e){let t=Z6(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(pw(t))return t}return null}function mx(s,e){return s===404||s===0&&e.startsWith("file:")?new Cc('Missing PDF "'+e+'".'):new dx(`Unexpected server response (${s}) while retrieving PDF "${e}".`,s)}function Oj(s){return s===200||s===206}function zj(s,e,t){return{method:"GET",headers:s,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Bj(s){return s instanceof Uint8Array?s.buffer:s instanceof ArrayBuffer?s:(Ue(`getArrayBuffer - unexpected data format: ${s}`),new Uint8Array(s).buffer)}class RA{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=yw(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return mn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new e8(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new t8(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class e8{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),i=t.url;fetch(i,zj(n,this._withCredentials,this._abortController)).then(r=>{if(!Oj(r.status))throw mx(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();const o=r.headers,{allowRangeRequests:l,suggestedLength:u}=bw({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=u||this._contentLength,this._filename=ww(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ec("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Bj(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class t8{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const r=new Headers(e.headers);r.append("Range",`bytes=${t}-${n-1}`);const o=i.url;fetch(o,zj(r,this._withCredentials,this._abortController)).then(l=>{if(!Oj(l.status))throw mx(l.status,o);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:Bj(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const zy=200,By=206;function n8(s){const e=s.response;return typeof e!="string"?e:hx(e).buffer}class s8{constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=yw(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const i={begin:e,end:t};for(const r in n)i[r]=n[r];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[r,o]of this.headers)t.setRequestHeader(r,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=By):i.expectedStatus=zy,t.responseType="arraybuffer",e.onError&&(t.onerror=function(r){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var i;const n=this.pendingRequests[e];n&&((i=n.onProgress)==null||i.call(n,t))}onStateChange(e,t){var u,d,f;const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(u=n.onError)==null||u.call(n,i.status);return}const r=i.status||zy;if(!(r===zy&&n.expectedStatus===By)&&r!==n.expectedStatus){(d=n.onError)==null||d.call(n,i.status);return}const l=n8(i);if(r===By){const g=i.getResponseHeader("Content-Range"),x=/bytes (\d+)-(\d+)\/(\d+)/.exec(g);n.onDone({begin:parseInt(x[1],10),chunk:l})}else l?n.onDone({begin:0,chunk:l}):(f=n.onError)==null||f.call(n,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class i8{constructor(e){this._source=e,this._manager=new s8(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return mn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new r8(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new o8(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class r8{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(o=>{const[l,...u]=o.split(": ");return[l,u.join(": ")]})),{allowRangeRequests:i,suggestedLength:r}=bw({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=ww(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=mx(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class o8{constructor(e,t,n){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=mx(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const a8=/^[a-z][a-z0-9\-+.]+:/i;function l8(s){if(a8.test(s))return new URL(s);const e=Ra.get("url");return new URL(e.pathToFileURL(s))}function Hj(s,e,t){return s.protocol==="http:"?Ra.get("http").request(s,{headers:e},t):Ra.get("https").request(s,{headers:e},t)}class c8{constructor(e){this.source=e,this.url=l8(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=yw(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return mn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new h8(this):new u8(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new f8(this,e,t):new d8(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Vj{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ec("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class $j{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class u8 extends Vj{constructor(e){super(e);const t=Object.fromEntries(e.headers),n=i=>{if(i.statusCode===404){const u=new Cc(`Missing PDF "${this._url}".`);this._storedError=u,this._headersCapability.reject(u);return}this._headersCapability.resolve(),this._setReadableStream(i);const r=new Headers(this._readableStream.headers),{allowRangeRequests:o,suggestedLength:l}=bw({responseHeaders:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=ww(r)};this._request=Hj(this._url,t,n),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class d8 extends $j{constructor(e,t,n){super(e);const i=Object.fromEntries(e.headers);i.Range=`bytes=${t}-${n-1}`;const r=o=>{if(o.statusCode===404){const l=new Cc(`Missing PDF "${this._url}".`);this._storedError=l;return}this._setReadableStream(o)};this._request=Hj(this._url,i,r),this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class h8 extends Vj{constructor(e){super(e);const t=Ra.get("fs");t.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new Cc(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class f8 extends $j{constructor(e,t,n){super(e);const i=Ra.get("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:n-1}))}}const p8=1e5,_s=30,m8=.8;var XA,ca,Es,$f,Uf,Ml,Qr,Wf,qf,Dl,Iu,Mu,ua,Du,Gf,Fu,Fl,Xf,Kf,Ut,Ol,zl,Yf,da,Ou,_o,Uj,Wj,Wb,Qs,Vg,qb,qj,Gj;let Ub=(Ut=class{constructor({textContentSource:e,container:t,viewport:n}){D(this,_o);D(this,ca,Promise.withResolvers());D(this,Es,null);D(this,$f,!1);D(this,Uf,!!((XA=globalThis.FontInspector)!=null&&XA.enabled));D(this,Ml,null);D(this,Qr,null);D(this,Wf,0);D(this,qf,0);D(this,Dl,null);D(this,Iu,null);D(this,Mu,0);D(this,ua,0);D(this,Du,Object.create(null));D(this,Gf,[]);D(this,Fu,null);D(this,Fl,[]);D(this,Xf,new WeakMap);D(this,Kf,null);var u;if(e instanceof ReadableStream)P(this,Fu,e);else if(typeof e=="object")P(this,Fu,new ReadableStream({start(d){d.enqueue(e),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');P(this,Es,P(this,Iu,t)),P(this,ua,n.scale*(globalThis.devicePixelRatio||1)),P(this,Mu,n.rotation),P(this,Qr,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:r,pageX:o,pageY:l}=n.rawDims;P(this,Kf,[1,0,0,-1,-o,l+r]),P(this,qf,i),P(this,Wf,r),L(u=Ut,Qs,qj).call(u),gc(t,n),m(this,ca).promise.finally(()=>{m(Ut,Ou).delete(this),P(this,Qr,null),P(this,Du,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=ds.platform;return Ze(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{m(this,Dl).read().then(({value:t,done:n})=>{if(n){m(this,ca).resolve();return}m(this,Ml)??P(this,Ml,t.lang),Object.assign(m(this,Du),t.styles),L(this,_o,Uj).call(this,t.items),e()},m(this,ca).reject)};return P(this,Dl,m(this,Fu).getReader()),m(Ut,Ou).add(this),e(),m(this,ca).promise}update({viewport:e,onBefore:t=null}){var r;const n=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==m(this,Mu)&&(t==null||t(),P(this,Mu,i),gc(m(this,Iu),{rotation:i})),n!==m(this,ua)){t==null||t(),P(this,ua,n);const o={div:null,properties:null,ctx:L(r=Ut,Qs,Vg).call(r,m(this,Ml))};for(const l of m(this,Fl))o.properties=m(this,Xf).get(l),o.div=l,L(this,_o,Wb).call(this,o)}}cancel(){var t;const e=new Ec("TextLayer task cancelled.");(t=m(this,Dl))==null||t.cancel(e).catch(()=>{}),P(this,Dl,null),m(this,ca).reject(e)}get textDivs(){return m(this,Fl)}get textContentItemsStr(){return m(this,Gf)}static cleanup(){if(!(m(this,Ou).size>0)){m(this,Ol).clear();for(const{canvas:e}of m(this,zl).values())e.remove();m(this,zl).clear()}}},ca=new WeakMap,Es=new WeakMap,$f=new WeakMap,Uf=new WeakMap,Ml=new WeakMap,Qr=new WeakMap,Wf=new WeakMap,qf=new WeakMap,Dl=new WeakMap,Iu=new WeakMap,Mu=new WeakMap,ua=new WeakMap,Du=new WeakMap,Gf=new WeakMap,Fu=new WeakMap,Fl=new WeakMap,Xf=new WeakMap,Kf=new WeakMap,Ol=new WeakMap,zl=new WeakMap,Yf=new WeakMap,da=new WeakMap,Ou=new WeakMap,_o=new WeakSet,Uj=function(e){var i,r;if(m(this,$f))return;(r=m(this,Qr)).ctx??(r.ctx=L(i=Ut,Qs,Vg).call(i,m(this,Ml)));const t=m(this,Fl),n=m(this,Gf);for(const o of e){if(t.length>p8){Ue("Ignoring additional textDivs for performance reasons."),P(this,$f,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const l=m(this,Es);P(this,Es,document.createElement("span")),m(this,Es).classList.add("markedContent"),o.id!==null&&m(this,Es).setAttribute("id",`${o.id}`),l.append(m(this,Es))}else o.type==="endMarkedContent"&&P(this,Es,m(this,Es).parentNode);continue}n.push(o.str),L(this,_o,Wj).call(this,o)}},Wj=function(e){var w;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};m(this,Fl).push(t);const i=Ae.transform(m(this,Kf),e.transform);let r=Math.atan2(i[1],i[0]);const o=m(this,Du)[e.fontName];o.vertical&&(r+=Math.PI/2);let l=m(this,Uf)&&o.fontSubstitution||o.fontFamily;l=Ut.fontFamilyMap.get(l)||l;const u=Math.hypot(i[2],i[3]),d=u*L(w=Ut,Qs,Gj).call(w,l,m(this,Ml));let f,g;r===0?(f=i[4],g=i[5]-d):(f=i[4]+d*Math.sin(r),g=i[5]-d*Math.cos(r));const x="calc(var(--scale-factor)*",y=t.style;m(this,Es)===m(this,Iu)?(y.left=`${(100*f/m(this,qf)).toFixed(2)}%`,y.top=`${(100*g/m(this,Wf)).toFixed(2)}%`):(y.left=`${x}${f.toFixed(2)}px)`,y.top=`${x}${g.toFixed(2)}px)`),y.fontSize=`${x}${(m(Ut,da)*u).toFixed(2)}px)`,y.fontFamily=l,n.fontSize=u,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,m(this,Uf)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),r!==0&&(n.angle=r*(180/Math.PI));let b=!1;if(e.str.length>1)b=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const S=Math.abs(e.transform[0]),C=Math.abs(e.transform[3]);S!==C&&Math.max(S,C)/Math.min(S,C)>1.5&&(b=!0)}if(b&&(n.canvasWidth=o.vertical?e.height:e.width),m(this,Xf).set(t,n),m(this,Qr).div=t,m(this,Qr).properties=n,L(this,_o,Wb).call(this,m(this,Qr)),n.hasText&&m(this,Es).append(t),n.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),m(this,Es).append(S)}},Wb=function(e){var l;const{div:t,properties:n,ctx:i}=e,{style:r}=t;let o="";if(m(Ut,da)>1&&(o=`scale(${1/m(Ut,da)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:u}=r,{canvasWidth:d,fontSize:f}=n;L(l=Ut,Qs,qb).call(l,i,f*m(this,ua),u);const{width:g}=i.measureText(t.textContent);g>0&&(o=`scaleX(${d*m(this,ua)/g}) ${o}`)}n.angle!==0&&(o=`rotate(${n.angle}deg) ${o}`),o.length>0&&(r.transform=o)},Qs=new WeakSet,Vg=function(e=null){let t=m(this,zl).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),m(this,zl).set(e,t),m(this,Yf).set(t,{size:0,family:""})}return t},qb=function(e,t,n){const i=m(this,Yf).get(e);t===i.size&&n===i.family||(e.font=`${t}px ${n}`,i.size=t,i.family=n)},qj=function(){if(m(this,da)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),P(this,da,e.getBoundingClientRect().height),e.remove()},Gj=function(e,t){const n=m(this,Ol).get(e);if(n)return n;const i=L(this,Qs,Vg).call(this,t);i.canvas.width=i.canvas.height=_s,L(this,Qs,qb).call(this,i,_s,e);const r=i.measureText("");let o=r.fontBoundingBoxAscent,l=Math.abs(r.fontBoundingBoxDescent);if(o){const f=o/(o+l);return m(this,Ol).set(e,f),i.canvas.width=i.canvas.height=0,f}i.strokeStyle="red",i.clearRect(0,0,_s,_s),i.strokeText("g",0,0);let u=i.getImageData(0,0,_s,_s).data;l=0;for(let f=u.length-1-3;f>=0;f-=4)if(u[f]>0){l=Math.ceil(f/4/_s);break}i.clearRect(0,0,_s,_s),i.strokeText("A",0,_s),u=i.getImageData(0,0,_s,_s).data,o=0;for(let f=0,g=u.length;f<g;f+=4)if(u[f]>0){o=_s-Math.floor(f/4/_s);break}i.canvas.width=i.canvas.height=0;const d=o?o/(o+l):m8;return m(this,Ol).set(e,d),d},D(Ut,Qs),D(Ut,Ol,new Map),D(Ut,zl,new Map),D(Ut,Yf,new WeakMap),D(Ut,da,null),D(Ut,Ou,new Set),Ut);class pf{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function i(r){var u;if(!r)return;let o=null;const l=r.name;if(l==="#text")o=r.value;else if(pf.shouldBuildText(l))(u=r==null?void 0:r.attributes)!=null&&u.textContent?o=r.attributes.textContent:r.value&&(o=r.value);else return;if(o!==null&&t.push({str:o}),!!r.children)for(const d of r.children)i(d)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const g8=65536,x8=100,v8=5e3,y8=es?P6:j6,b8=es?R6:Nj,w8=es?T6:N6,_8=es?L6:Lj;function S8(s={}){typeof s=="string"||s instanceof URL?s={url:s}:(s instanceof ArrayBuffer||ArrayBuffer.isView(s))&&(s={data:s});const e=new Gb,{docId:t}=e,n=s.url?C8(s.url):null,i=s.data?E8(s.data):null,r=s.httpHeaders||null,o=s.withCredentials===!0,l=s.password??null,u=s.range instanceof Xj?s.range:null,d=Number.isInteger(s.rangeChunkSize)&&s.rangeChunkSize>0?s.rangeChunkSize:g8;let f=s.worker instanceof fu?s.worker:null;const g=s.verbosity,x=typeof s.docBaseUrl=="string"&&!px(s.docBaseUrl)?s.docBaseUrl:null,y=typeof s.cMapUrl=="string"?s.cMapUrl:null,b=s.cMapPacked!==!1,w=s.CMapReaderFactory||b8,S=typeof s.standardFontDataUrl=="string"?s.standardFontDataUrl:null,C=s.StandardFontDataFactory||_8,j=s.stopAtErrors!==!0,A=Number.isInteger(s.maxImageSize)&&s.maxImageSize>-1?s.maxImageSize:-1,k=s.isEvalSupported!==!1,T=typeof s.isOffscreenCanvasSupported=="boolean"?s.isOffscreenCanvasSupported:!es,I=typeof s.isChrome=="boolean"?s.isChrome:!ds.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),M=Number.isInteger(s.canvasMaxAreaInBytes)?s.canvasMaxAreaInBytes:-1,F=typeof s.disableFontFace=="boolean"?s.disableFontFace:es,B=s.fontExtraProperties===!0,O=s.enableXfa===!0,W=s.ownerDocument||globalThis.document,J=s.disableRange===!0,ie=s.disableStream===!0,se=s.disableAutoFetch===!0,$=s.pdfBug===!0,ee=s.CanvasFactory||y8,V=s.FilterFactory||w8,G=s.enableHWA===!0,X=u?u.length:s.length??NaN,ne=typeof s.useSystemFonts=="boolean"?s.useSystemFonts:!es&&!F,H=typeof s.useWorkerFetch=="boolean"?s.useWorkerFetch:w===Nj&&C===Lj&&y&&S&&kh(y,document.baseURI)&&kh(S,document.baseURI);s.canvasFactory&&bA("`canvasFactory`-instance option, please use `CanvasFactory` instead."),s.filterFactory&&bA("`filterFactory`-instance option, please use `FilterFactory` instead.");const Y=null;r6(g);const ce={canvasFactory:new ee({ownerDocument:W,enableHWA:G}),filterFactory:new V({docId:t,ownerDocument:W}),cMapReaderFactory:H?null:new w({baseUrl:y,isCompressed:b}),standardFontDataFactory:H?null:new C({baseUrl:S})};if(!f){const de={verbosity:g,port:xo.workerPort};f=de.port?fu.fromPort(de):new fu(de),e._worker=f}const fe={docId:t,apiVersion:"4.8.69",data:i,password:l,disableAutoFetch:se,rangeChunkSize:d,length:X,docBaseUrl:x,enableXfa:O,evaluatorOptions:{maxImageSize:A,disableFontFace:F,ignoreErrors:j,isEvalSupported:k,isOffscreenCanvasSupported:T,isChrome:I,canvasMaxAreaInBytes:M,fontExtraProperties:B,useSystemFonts:ne,cMapUrl:H?y:null,standardFontDataUrl:H?S:null}},ye={disableFontFace:F,fontExtraProperties:B,ownerDocument:W,pdfBug:$,styleElement:Y,loadingParams:{disableAutoFetch:se,enableXfa:O}};return f.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const de=f.messageHandler.sendWithPromise("GetDocRequest",fe,i?[i.buffer]:null);let xe;if(u)xe=new Y6(u,{disableRange:J,disableStream:ie});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");let ke;es?ke=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&kh(n)?RA:c8:ke=kh(n)?RA:i8,xe=new ke({url:n,length:X,httpHeaders:r,withCredentials:o,rangeChunkSize:d,disableRange:J,disableStream:ie})}return de.then(ke=>{if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Me=new Ih(t,ke,f.port),Re=new N8(Me,e,xe,ye,ce);e._transport=Re,Me.send("Ready",null)})}).catch(e._capability.reject),e}function C8(s){if(s instanceof URL)return s.href;try{return new URL(s,window.location).href}catch{if(es&&typeof s=="string")return s}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function E8(s){if(es&&typeof Buffer<"u"&&s instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength)return s;if(typeof s=="string")return hx(s);if(s instanceof ArrayBuffer||ArrayBuffer.isView(s)||typeof s=="object"&&!isNaN(s==null?void 0:s.length))return new Uint8Array(s);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function LA(s){return typeof s=="object"&&Number.isInteger(s==null?void 0:s.num)&&s.num>=0&&Number.isInteger(s==null?void 0:s.gen)&&s.gen>=0}var B0;const H0=class H0{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${is(H0,B0)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,n;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};B0=new WeakMap,D(H0,B0,0);let Gb=H0,Xj=class{constructor(e,t,n=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Lt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class A8{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ze(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ha,Zr,fi,iu,$g;class k8{constructor(e,t,n,i=!1){D(this,fi);D(this,ha,null);D(this,Zr,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new yA:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new Kj,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:r=!1}={}){return new Hp({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:r})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ze(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:i=Yo.ENABLE,transform:r=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:f=null,isEditing:g=!1}){var k,T;(k=this._stats)==null||k.time("Overall");const x=this._transport.getRenderingIntent(n,i,f,g),{renderingIntent:y,cacheKey:b}=x;P(this,Zr,!1),L(this,fi,$g).call(this),l||(l=this._transport.getOptionalContentConfig(y));let w=this._intentStates.get(b);w||(w=Object.create(null),this._intentStates.set(b,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const S=!!(y&Gs.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(T=this._stats)==null||T.time("Page Request"),this._pumpOperatorList(x));const C=I=>{var M;w.renderTasks.delete(j),(this._maybeCleanupAfterRender||S)&&P(this,Zr,!0),L(this,fi,iu).call(this,!S),I?(j.capability.reject(I),this._abortOperatorList({intentState:w,reason:I instanceof Error?I:new Error(I)})):j.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(M=globalThis.Stats)!=null&&M.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},j=new Kb({callback:C,params:{canvasContext:e,viewport:t,transform:r,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!S,pdfBug:this._pdfBug,pageColors:d});(w.renderTasks||(w.renderTasks=new Set)).add(j);const A=j.task;return Promise.all([w.displayReadyCapability.promise,l]).then(([I,M])=>{var F;if(this.destroyed){C();return}if((F=this._stats)==null||F.time("Rendering"),!(M.renderingIntent&y))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");j.initializeGraphics({transparency:I,optionalContentConfig:M}),j.operatorListChanged()}).catch(C),A}getOperatorList({intent:e="display",annotationMode:t=Yo.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var d;function r(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(u))}const o=this._transport.getRenderingIntent(e,t,n,i,!0);let l=this._intentStates.get(o.cacheKey);l||(l=Object.create(null),this._intentStates.set(o.cacheKey,l));let u;return l.opListReadCapability||(u=Object.create(null),u.operatorListChanged=r,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||(l.renderTasks=new Set)).add(u),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(d=this._stats)==null||d.time("Page Request"),this._pumpOperatorList(o)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>pf.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,i){function r(){o.read().then(function({value:u,done:d}){if(d){n(l);return}l.lang??(l.lang=u.lang),Object.assign(l.styles,u.styles),l.items.push(...u.items),r()},i)}const o=t.getReader(),l={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),P(this,Zr,!1),L(this,fi,$g).call(this),Promise.all(e)}cleanup(e=!1){P(this,Zr,!0);const t=L(this,fi,iu).call(this,!1);return e&&t&&this._stats&&(this._stats=new yA),t}_startRenderPage(e,t){var i,r;const n=this._intentStates.get(t);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(r=n.displayReadyCapability)==null||r.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&L(this,fi,iu).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:i}){const{map:r,transfer:o}=n,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r,modifiedIds:i},o).getReader(),d=this._intentStates.get(t);d.streamReader=u;const f=()=>{u.read().then(({value:g,done:x})=>{if(x){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,d),f())},g=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const x of d.renderTasks)x.operatorListChanged();L(this,fi,iu).call(this,!0)}if(d.displayReadyCapability)d.displayReadyCapability.reject(g);else if(d.opListReadCapability)d.opListReadCapability.reject(g);else throw g}})};f()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof fw){let i=x8;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Ec(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,r]of this._intentStates)if(r===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}ha=new WeakMap,Zr=new WeakMap,fi=new WeakSet,iu=function(e=!1){if(L(this,fi,$g).call(this),!m(this,Zr)||this.destroyed)return!1;if(e)return P(this,ha,setTimeout(()=>{P(this,ha,null),L(this,fi,iu).call(this,!1)},v8)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),P(this,Zr,!1),!0},$g=function(){m(this,ha)&&(clearTimeout(m(this,ha)),P(this,ha,null))};var eo,V0;class j8{constructor(){D(this,eo,new Map);D(this,V0,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};m(this,V0).then(()=>{for(const[i]of m(this,eo))i.call(this,n)})}addEventListener(e,t,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:r}=n;if(r.aborted){Ue("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);i=()=>r.removeEventListener("abort",o),r.addEventListener("abort",o)}m(this,eo).set(t,i)}removeEventListener(e,t){const n=m(this,eo).get(t);n==null||n(),m(this,eo).delete(t)}terminate(){for(const[,e]of m(this,eo))e==null||e();m(this,eo).clear()}}eo=new WeakMap,V0=new WeakMap;var $0,Bl,Hl,zu,Ug,Bu,Wg;const Mt=class Mt{constructor({name:e=null,port:t=null,verbosity:n=o6()}={}){D(this,zu);var i;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=m(Mt,Hl))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(m(Mt,Hl)||P(Mt,Hl,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return es?Promise.all([Ra.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Ih("main","worker",e),this._messageHandler.on("ready",function(){}),L(this,zu,Ug).call(this)}_initialize(){if(m(Mt,Bl)||m(Mt,Bu,Wg)){this._setupFakeWorker();return}let{workerSrc:e}=Mt;try{Mt._isSameOrigin(window.location.href,e)||(e=Mt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Ih("main","worker",t),i=()=>{r.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:r.signal}),n.on("test",l=>{if(r.abort(),this.destroyed||!l){i();return}this._messageHandler=n,this._port=t,this._webWorker=t,L(this,zu,Ug).call(this)}),n.on("ready",l=>{if(r.abort(),this.destroyed){i();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const l=new Uint8Array;n.send("test",l,[l.buffer])};o();return}catch{ux("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){m(Mt,Bl)||(Ue("Setting up fake worker."),P(Mt,Bl,!0)),Mt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new j8;this._port=t;const n=`fake${is(Mt,$0)._++}`,i=new Ih(n+"_worker",n,t);e.setup(i,t),this._messageHandler=new Ih(n,n+"_worker",t),L(this,zu,Ug).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=m(Mt,Hl))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(n=m(this,Hl))==null?void 0:n.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Mt(e)}static get workerSrc(){if(xo.workerSrc)return xo.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ze(this,"_setupFakeWorkerGlobal",(async()=>m(this,Bu,Wg)?m(this,Bu,Wg):(await import(this.workerSrc)).WorkerMessageHandler)())}};$0=new WeakMap,Bl=new WeakMap,Hl=new WeakMap,zu=new WeakSet,Ug=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Bu=new WeakSet,Wg=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},D(Mt,Bu),D(Mt,$0,0),D(Mt,Bl,!1),D(Mt,Hl),es&&(P(Mt,Bl,!0),xo.workerSrc||(xo.workerSrc="./pdf.worker.mjs")),Mt._isSameOrigin=(e,t)=>{let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}const i=new URL(t,n);return n.origin===i.origin},Mt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let fu=Mt;var to,xr,Hu,Vu,vr,Vl,Mh;class N8{constructor(e,t,n,i,r){D(this,Vl);D(this,to,new Map);D(this,xr,new Map);D(this,Hu,new Map);D(this,Vu,new Map);D(this,vr,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Kj,this.fontLoader=new A6({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ze(this,"annotationStorage",new xw)}getRenderingIntent(e,t=Yo.ENABLE,n=null,i=!1,r=!1){let o=Gs.DISPLAY,l=Mb;switch(e){case"any":o=Gs.ANY;break;case"display":break;case"print":o=Gs.PRINT;break;default:Ue(`getRenderingIntent - invalid intent: ${e}`)}const u=o&Gs.PRINT&&n instanceof Aj?n:this.annotationStorage;switch(t){case Yo.DISABLE:o+=Gs.ANNOTATIONS_DISABLE;break;case Yo.ENABLE:break;case Yo.ENABLE_FORMS:o+=Gs.ANNOTATIONS_FORMS;break;case Yo.ENABLE_STORAGE:o+=Gs.ANNOTATIONS_STORAGE,l=u.serializable;break;default:Ue(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(o+=Gs.IS_EDITING),r&&(o+=Gs.OPLIST);const{ids:d,hash:f}=u.modifiedIds,g=[o,l.hash,f];return{renderingIntent:o,cacheKey:g.join("_"),annotationStorageSerializable:l,modifiedIds:d}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=m(this,vr))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of m(this,xr).values())e.push(i._destroy());m(this,xr).clear(),m(this,Hu).clear(),m(this,Vu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),m(this,to).clear(),this.filterFactory.destroy(),Ub.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Ec("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,i)=>{mn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},i.onPull=()=>{this._fullReader.read().then(function({value:r,done:o}){if(o){i.close();return}mn(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{i.error(r)})},i.onCancel=r=>{this._fullReader.cancel(r),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async n=>{var l;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:r,contentLength:o}=this._fullReader;return(!i||!r)&&(this._lastProgress&&((l=t.onProgress)==null||l.call(t,this._lastProgress)),this._fullReader.onProgress=u=>{var d;(d=t.onProgress)==null||d.call(t,{loaded:u.loaded,total:u.total})}),{isStreamingSupported:i,isRangeSupported:r,contentLength:o}}),e.on("GetRangeReader",(n,i)=>{mn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(n.begin,n.end);if(!r){i.close();return}i.onPull=()=>{r.read().then(function({value:o,done:l}){if(l){i.close();return}mn(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{r.cancel(o),i.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new A8(n,this))}),e.on("DocException",function(n){let i;switch(n.name){case"PasswordException":i=new fb(n.message,n.code);break;case"InvalidPDFException":i=new Qk(n.message);break;case"MissingPDFException":i=new Cc(n.message);break;case"UnexpectedResponseException":i=new dx(n.message,n.status);break;case"UnknownErrorException":i=new pb(n.message,n.details);break;default:Lt("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",n=>{if(P(this,vr,Promise.withResolvers()),t.onPassword){const i=r=>{r instanceof Error?m(this,vr).reject(r):m(this,vr).resolve({password:r})};try{t.onPassword(i,n.code)}catch(r){m(this,vr).reject(r)}}else m(this,vr).reject(new fb(n.message,n.code));return m(this,vr).promise}),e.on("DataLoaded",n=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;m(this,xr).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,r])=>{var o;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":const{disableFontFace:l,fontExtraProperties:u,pdfBug:d}=this._params;if("error"in r){const y=r.error;Ue(`Error during font loading: ${y}`),this.commonObjs.resolve(n,y);break}const f=d&&((o=globalThis.FontInspector)!=null&&o.enabled)?(y,b)=>globalThis.FontInspector.fontAdded(y,b):null,g=new k6(r,{disableFontFace:l,inspectFont:f});this.fontLoader.bind(g).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!u&&g.data&&(g.data=null),this.commonObjs.resolve(n,g)});break;case"CopyLocalImage":const{imageRef:x}=r;mn(x,"The imageRef must be defined.");for(const y of m(this,xr).values())for(const[,b]of y.objs)if((b==null?void 0:b.ref)===x)return b.dataLen?(this.commonObjs.resolve(n,structuredClone(b)),b.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,r);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,r,o])=>{var u;if(this.destroyed)return;const l=m(this,xr).get(i);if(!l.objs.has(n)){if(l._intentStates.size===0){(u=o==null?void 0:o.bitmap)==null||u.close();return}switch(r){case"Image":l.objs.resolve(n,o),(o==null?void 0:o.dataLen)>t6&&(l._maybeCleanupAfterRender=!0);break;case"Pattern":l.objs.resolve(n,o);break;default:throw new Error(`Got unknown object type ${r}`)}}}),e.on("DocProgress",n=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),e.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Ue("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=m(this,Hu).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&m(this,Vu).set(r.refStr,e);const o=new k8(t,r,this,this._params.pdfBug);return m(this,xr).set(t,o),o});return m(this,Hu).set(t,i),i}getPageIndex(e){return LA(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return L(this,Vl,Mh).call(this,"GetFieldObjects")}hasJSActions(){return L(this,Vl,Mh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return L(this,Vl,Mh).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return L(this,Vl,Mh).call(this,"GetOptionalContentConfig").then(t=>new K6(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=m(this,to).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(i=>{var r,o;return{info:i[0],metadata:i[1]?new G6(i[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return m(this,to).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of m(this,xr).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),m(this,to).clear(),this.filterFactory.destroy(!0),Ub.cleanup()}}cachedPageNumber(e){if(!LA(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return m(this,Vu).get(t)??null}}to=new WeakMap,xr=new WeakMap,Hu=new WeakMap,Vu=new WeakMap,vr=new WeakMap,Vl=new WeakSet,Mh=function(e,t=null){const n=m(this,to).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return m(this,to).set(e,i),i};const Sg=Symbol("INITIAL_DATA");var zi,Jf,Xb;class Kj{constructor(){D(this,Jf);D(this,zi,Object.create(null))}get(e,t=null){if(t){const i=L(this,Jf,Xb).call(this,e);return i.promise.then(()=>t(i.data)),null}const n=m(this,zi)[e];if(!n||n.data===Sg)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=m(this,zi)[e];return!!t&&t.data!==Sg}resolve(e,t=null){const n=L(this,Jf,Xb).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in m(this,zi)){const{data:n}=m(this,zi)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}P(this,zi,Object.create(null))}*[Symbol.iterator](){for(const e in m(this,zi)){const{data:t}=m(this,zi)[e];t!==Sg&&(yield[e,t])}}}zi=new WeakMap,Jf=new WeakSet,Xb=function(e){var t;return(t=m(this,zi))[e]||(t[e]={...Promise.withResolvers(),data:Sg})};var fa;class T8{constructor(e){D(this,fa,null);P(this,fa,e),this.onContinue=null}get promise(){return m(this,fa).capability.promise}cancel(e=0){m(this,fa).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=m(this,fa).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=m(this,fa);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}fa=new WeakMap;var pa,$l;const dl=class dl{constructor({callback:e,params:t,objs:n,commonObjs:i,annotationCanvasMap:r,operatorList:o,pageIndex:l,canvasFactory:u,filterFactory:d,useRequestAnimationFrame:f=!1,pdfBug:g=!1,pageColors:x=null}){D(this,pa,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=l,this.canvasFactory=u,this.filterFactory=d,this._pdfBug=g,this.pageColors=x,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new T8(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,u;if(this.cancelled)return;if(this._canvas){if(m(dl,$l).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");m(dl,$l).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:i,transform:r,background:o}=this.params;this.gfx=new hu(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:i,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),m(this,pa)&&(window.cancelAnimationFrame(m(this,pa)),P(this,pa,null)),m(dl,$l).delete(this._canvas),this.callback(e||new fw(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?P(this,pa,window.requestAnimationFrame(()=>{P(this,pa,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),m(dl,$l).delete(this._canvas),this.callback())))}};pa=new WeakMap,$l=new WeakMap,D(dl,$l,new WeakSet);let Kb=dl;const P8="4.8.69",R8="3634dab10";function IA(s){return Math.floor(Math.max(0,Math.min(1,s))*255).toString(16).padStart(2,"0")}function bh(s){return Math.max(0,Math.min(255,255*s))}class MA{static CMYK_G([e,t,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=bh(e),[e,e,e]}static G_HTML([e]){const t=IA(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(bh)}static RGB_HTML(e){return`#${e.map(IA).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,n,i]){return[bh(1-Math.min(1,e+i)),bh(1-Math.min(1,n+i)),bh(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const i=1-e,r=1-t,o=1-n,l=Math.min(i,r,o);return["CMYK",i,r,o,l]}}class L8{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Lt("Abstract method `_createSVG` called.")}}class _w extends L8{_createSVG(e){return document.createElementNS(Vr,e)}}class Yj{static setupStorage(e,t,n,i,r){const o=i.getValue(t,{value:null});switch(n.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),r==="print")break;e.addEventListener("input",l=>{i.setValue(t,{value:l.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(o.value===n.attributes.xfaOn?e.setAttribute("checked",!0):o.value===n.attributes.xfaOff&&e.removeAttribute("checked"),r==="print")break;e.addEventListener("change",l=>{i.setValue(t,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),r==="print")break;e.addEventListener("input",l=>{i.setValue(t,{value:l.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const l of n.children)l.attributes.value===o.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const u=l.target.options,d=u.selectedIndex===-1?"":u[u.selectedIndex].value;i.setValue(t,{value:d})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:i,linkService:r}){const{attributes:o}=t,l=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[u,d]of Object.entries(o))if(d!=null)switch(u){case"class":d.length&&e.setAttribute(u,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!l||u!=="href"&&u!=="newWindow")&&e.setAttribute(u,d)}l&&r.addLinkAttributes(e,o.href,o.newWindow),n&&o.dataId&&this.setupStorage(e,o.dataId,t,n)}static render(e){var g,x;const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,r=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:r,linkService:n});const l=r!=="richText",u=e.div;if(u.append(o),e.viewport){const y=`matrix(${e.viewport.transform.join(",")})`;u.style.transform=y}l&&u.setAttribute("class","xfaLayer xfaFont");const d=[];if(i.children.length===0){if(i.value){const y=document.createTextNode(i.value);o.append(y),l&&pf.shouldBuildText(i.name)&&d.push(y)}return{textDivs:d}}const f=[[i,-1,o]];for(;f.length>0;){const[y,b,w]=f.at(-1);if(b+1===y.children.length){f.pop();continue}const S=y.children[++f.at(-1)[1]];if(S===null)continue;const{name:C}=S;if(C==="#text"){const A=document.createTextNode(S.value);d.push(A),w.append(A);continue}const j=(g=S==null?void 0:S.attributes)!=null&&g.xmlns?document.createElementNS(S.attributes.xmlns,C):document.createElement(C);if(w.append(j),S.attributes&&this.setAttributes({html:j,element:S,storage:t,intent:r,linkService:n}),((x=S.children)==null?void 0:x.length)>0)f.push([S,-1,j]);else if(S.value){const A=document.createTextNode(S.value);l&&pf.shouldBuildText(C)&&d.push(A),j.append(A)}}for(const y of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))y.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const $p=1e3,I8=9,vc=new WeakSet;function vo(s){return{width:s[2]-s[0],height:s[3]-s[1]}}class M8{static create(e){switch(e.data.annotationType){case un.LINK:return new Jj(e);case un.TEXT:return new D8(e);case un.WIDGET:switch(e.data.fieldType){case"Tx":return new F8(e);case"Btn":return e.data.radioButton?new eN(e):e.data.checkBox?new z8(e):new B8(e);case"Ch":return new H8(e);case"Sig":return new O8(e)}return new Ac(e);case un.POPUP:return new Jb(e);case un.FREETEXT:return new rN(e);case un.LINE:return new $8(e);case un.SQUARE:return new U8(e);case un.CIRCLE:return new W8(e);case un.POLYLINE:return new oN(e);case un.CARET:return new G8(e);case un.INK:return new Sw(e);case un.POLYGON:return new q8(e);case un.HIGHLIGHT:return new aN(e);case un.UNDERLINE:return new X8(e);case un.SQUIGGLY:return new K8(e);case un.STRIKEOUT:return new Y8(e);case un.STAMP:return new lN(e);case un.FILEATTACHMENT:return new J8(e);default:return new Qt(e)}}}var Ul,$u,Uu,Qf,Yb;const kw=class kw{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){D(this,Qf);D(this,Ul,null);D(this,$u,!1);D(this,Uu,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e!=null&&e.str||t!=null&&t.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return kw._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;m(this,Ul)||P(this,Ul,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&L(this,Qf,Yb).call(this,t),(n=m(this,Uu))==null||n.popup.updateEdited(e)}resetEdited(){var e;m(this,Ul)&&(L(this,Qf,Yb).call(this,m(this,Ul).rect),(e=m(this,Uu))==null||e.popup.resetEdited(),P(this,Ul,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",t.id),this instanceof Ac||(r.tabIndex=$p);const{style:o}=r;if(o.zIndex=this.parent.zIndex++,t.alternativeText&&(r.title=t.alternativeText),t.noRotate&&r.classList.add("norotate"),!t.rect||this instanceof Jb){const{rotation:w}=t;return!t.hasOwnCanvas&&w!==0&&this.setRotation(w,r),r}const{width:l,height:u}=vo(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const w=t.borderStyle.horizontalCornerRadius,S=t.borderStyle.verticalCornerRadius;if(w>0||S>0){const j=`calc(${w}px * var(--scale-factor)) / calc(${S}px * var(--scale-factor))`;o.borderRadius=j}else if(this instanceof eN){const j=`calc(${l}px * var(--scale-factor)) / calc(${u}px * var(--scale-factor))`;o.borderRadius=j}switch(t.borderStyle.style){case vh.SOLID:o.borderStyle="solid";break;case vh.DASHED:o.borderStyle="dashed";break;case vh.BEVELED:Ue("Unimplemented border style: beveled");break;case vh.INSET:Ue("Unimplemented border style: inset");break;case vh.UNDERLINE:o.borderBottomStyle="solid";break}const C=t.borderColor||null;C?(P(this,$u,!0),o.borderColor=Ae.makeHexColor(C[0]|0,C[1]|0,C[2]|0)):o.borderWidth=0}const d=Ae.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:f,pageHeight:g,pageX:x,pageY:y}=i.rawDims;o.left=`${100*(d[0]-x)/f}%`,o.top=`${100*(d[1]-y)/g}%`;const{rotation:b}=t;return t.hasOwnCanvas||b===0?(o.width=`${100*l/f}%`,o.height=`${100*u/g}%`):this.setRotation(b,r),r}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:r,height:o}=vo(this.data.rect);let l,u;e%180===0?(l=100*r/n,u=100*o/i):(l=100*o/n,u=100*r/i),t.style.width=`${l}%`,t.style.height=`${u}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,i)=>{const r=i.detail[t],o=r[0],l=r.slice(1);i.target.style[n]=MA[`${o}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[n]:MA[`${o}_rgb`](l)})};return Ze(this,"_commonActions",{display:t=>{const{display:n}=t.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const r=e[i]||n[i];r==null||r(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,r]of Object.entries(t)){const o=n[i];if(o){const l={detail:{[i]:r},target:e};o(l),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,r]=this.data.rect.map(w=>Math.fround(w));if(e.length===8){const[w,S,C,j]=e.subarray(2,6);if(i===w&&r===S&&t===C&&n===j)return}const{style:o}=this.container;let l;if(m(this,$u)){const{borderColor:w,borderWidth:S}=o;o.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const u=i-t,d=r-n,{svgFactory:f}=this,g=f.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0);const x=f.createElement("defs");g.append(x);const y=f.createElement("clipPath"),b=`clippath_${this.data.id}`;y.setAttribute("id",b),y.setAttribute("clipPathUnits","objectBoundingBox"),x.append(y);for(let w=2,S=e.length;w<S;w+=8){const C=e[w],j=e[w+1],A=e[w+2],k=e[w+3],T=f.createElement("rect"),I=(A-t)/u,M=(r-j)/d,F=(C-A)/u,B=(j-k)/d;T.setAttribute("x",I),T.setAttribute("y",M),T.setAttribute("width",F),T.setAttribute("height",B),y.append(T),l==null||l.push(`<rect vector-effect="non-scaling-stroke" x="${I}" y="${M}" width="${F}" height="${B}"/>`)}m(this,$u)&&(l.push("</g></svg>')"),o.backgroundImage=l.join("")),this.container.append(g),this.container.style.clipPath=`url(#${b})`}_createPopup(){const{data:e}=this,t=P(this,Uu,new Jb({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Lt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:r,id:o,exportValues:l}of i){if(r===-1||o===t)continue;const u=typeof l=="string"?l:null,d=document.querySelector(`[data-element-id="${o}"]`);if(d&&!vc.has(d)){Ue(`_getElementsByName - element not allowed: ${o}`);continue}n.push({id:o,exportValue:u,domElement:d})}return n}for(const i of document.getElementsByName(e)){const{exportValue:r}=i,o=i.getAttribute("data-element-id");o!==t&&vc.has(i)&&n.push({id:o,exportValue:r,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Ul=new WeakMap,$u=new WeakMap,Uu=new WeakMap,Qf=new WeakSet,Yb=function(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:o,pageX:l,pageY:u}}}}=this;n==null||n.splice(0,4,...e);const{width:d,height:f}=vo(e);t.left=`${100*(e[0]-l)/r}%`,t.top=`${100*(o-e[3]+u)/o}%`,i===0?(t.width=`${100*d/r}%`,t.height=`${100*f/o}%`):this.setRotation(i)};let Qt=kw;var Xs,ol,Qj,Zj;class Jj extends Qt{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});D(this,Xs);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let r=!1;return t.url?(n.addLinkAttributes(i,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(i,t.action),r=!0):t.attachment?(L(this,Xs,Qj).call(this,i,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(L(this,Xs,Zj).call(this,i,t.setOCGState),r=!0):t.dest?(this._bindLink(i,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),r=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&L(this,Xs,ol).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),L(this,Xs,ol).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(n.actions)){const o=i.get(r);o&&(t[o]=()=>{var l;return(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:r}}),!1})}t.onclick||(t.onclick=()=>!1),L(this,Xs,ol).call(this)}_bindResetFormAction(t,n){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),L(this,Xs,ol).call(this),!this._fieldObjects){Ue('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var g;i==null||i();const{fields:r,refs:o,include:l}=n,u=[];if(r.length!==0||o.length!==0){const x=new Set(o);for(const y of r){const b=this._fieldObjects[y]||[];for(const{id:w}of b)x.add(w)}for(const y of Object.values(this._fieldObjects))for(const b of y)x.has(b.id)===l&&u.push(b)}else for(const x of Object.values(this._fieldObjects))u.push(...x);const d=this.annotationStorage,f=[];for(const x of u){const{id:y}=x;switch(f.push(y),x.type){case"text":{const w=x.defaultValue||"";d.setValue(y,{value:w});break}case"checkbox":case"radiobutton":{const w=x.defaultValue===x.exportValues;d.setValue(y,{value:w});break}case"combobox":case"listbox":{const w=x.defaultValue||"";d.setValue(y,{value:w});break}default:continue}const b=document.querySelector(`[data-element-id="${y}"]`);if(b){if(!vc.has(b)){Ue(`_bindResetFormAction - element not allowed: ${y}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}})),!1}}}Xs=new WeakSet,ol=function(){this.container.setAttribute("data-internal-link","")},Qj=function(t,n,i=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var r;return(r=this.downloadManager)==null||r.openOrDownloadData(n.content,n.filename,i),!1},L(this,Xs,ol).call(this)},Zj=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),L(this,Xs,ol).call(this)};class D8 extends Qt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Ac extends Qt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return ds.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,r){n.includes("mouse")?e.addEventListener(n,o=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(n,o=>{var l;if(n==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}r&&((l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(o)}}))})}_setEventListeners(e,t,n,i){var r,o,l;for(const[u,d]of n)(d==="Action"||(r=this.data.actions)!=null&&r[d])&&((d==="Focus"||d==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,u,d,i),d==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):d==="Blur"&&!((l=this.data.actions)!=null&&l.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ae.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||I8,r=e.style;let o;const l=2,u=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l),f=Math.round(d/(My*i))||1,g=d/f;o=Math.min(i,u(g/My))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l);o=Math.min(i,u(d/My))}r.fontSize=`calc(${o}px * var(--scale-factor))`,r.color=Ae.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(r.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class F8 extends Ac{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,i){const r=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=n),r.setValue(o.id,{[i]:n})}render(){var i,r;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let l=o.value||"";const u=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;u&&l.length>u&&(l=l.slice(0,u));let d=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const f={userValue:l,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=d??l,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",d??l),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),vc.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=$p,this._setRequired(n,this.data.required),u&&(n.maxLength=u),n.addEventListener("input",x=>{e.setValue(t,{value:x.target.value}),this.setPropertyOnSiblings(n,"value",x.target.value,"value"),f.formattedValue=null}),n.addEventListener("resetform",x=>{const y=this.data.defaultFieldValue??"";n.value=f.userValue=y,f.formattedValue=null});let g=x=>{const{formattedValue:y}=f;y!=null&&(x.target.value=y),x.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",y=>{var w;if(f.focused)return;const{target:b}=y;f.userValue&&(b.value=f.userValue),f.lastCommittedValue=b.value,f.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(f.focused=!0)}),n.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const b={value(w){f.userValue=w.detail.value??"",e.setValue(t,{value:f.userValue.toString()}),w.target.value=f.userValue},formattedValue(w){const{formattedValue:S}=w.detail;f.formattedValue=S,S!=null&&w.target!==document.activeElement&&(w.target.value=S),e.setValue(t,{formattedValue:S})},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var A;const{charLimit:S}=w.detail,{target:C}=w;if(S===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",S);let j=f.userValue;!j||j.length<=S||(j=j.slice(0,S),C.value=f.userValue=j,e.setValue(t,{value:j}),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:j,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(b,y)}),n.addEventListener("keydown",y=>{var S;f.commitKey=1;let b=-1;if(y.key==="Escape"?b=0:y.key==="Enter"&&!this.data.multiLine?b=2:y.key==="Tab"&&(f.commitKey=3),b===-1)return;const{value:w}=y.target;f.lastCommittedValue!==w&&(f.lastCommittedValue=w,f.userValue=w,(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:b,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const x=g;g=null,n.addEventListener("blur",y=>{var w,S;if(!f.focused||!y.relatedTarget)return;(w=this.data.actions)!=null&&w.Blur||(f.focused=!1);const{value:b}=y.target;f.userValue=b,f.lastCommittedValue!==b&&((S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:f.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}})),x(y)}),(r=this.data.actions)!=null&&r.Keystroke&&n.addEventListener("beforeinput",y=>{var T;f.lastCommittedValue=null;const{data:b,target:w}=y,{value:S,selectionStart:C,selectionEnd:j}=w;let A=C,k=j;switch(y.inputType){case"deleteWordBackward":{const I=S.substring(0,C).match(/\w*[^\w]*$/);I&&(A-=I[0].length);break}case"deleteWordForward":{const I=S.substring(C).match(/^[^\w]*\w*/);I&&(k+=I[0].length);break}case"deleteContentBackward":C===j&&(A-=1);break;case"deleteContentForward":C===j&&(k+=1);break}y.preventDefault(),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,change:b||"",willCommit:!1,selStart:A,selEnd:k}})}),this._setEventListeners(n,f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(g&&n.addEventListener("blur",g),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/u;n.classList.add("comb"),n.style.letterSpacing=`calc(${y}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class O8 extends Ac{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class z8 extends Ac{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return vc.add(r),r.setAttribute("data-element-id",n),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",t.exportValue),r.tabIndex=$p,r.addEventListener("change",o=>{const{name:l,checked:u}=o.target;for(const d of this._getElementsByName(l,n)){const f=u&&d.exportValue===t.exportValue;d.domElement&&(d.domElement.checked=f),e.setValue(d.id,{value:f})}e.setValue(n,{value:u})}),r.addEventListener("resetform",o=>{const l=t.defaultFieldValue||"Off";o.target.checked=l===t.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",o=>{const l={value(u){u.target.checked=u.detail.value!=="Off",e.setValue(n,{value:u.target.checked})}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class eN extends Ac{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,n))e.setValue(o.id,{value:!1});const r=document.createElement("input");if(vc.add(r),r.setAttribute("data-element-id",n),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=$p,r.addEventListener("change",o=>{const{name:l,checked:u}=o.target;for(const d of this._getElementsByName(l,n))e.setValue(d.id,{value:!1});e.setValue(n,{value:u})}),r.addEventListener("resetform",o=>{const l=t.defaultFieldValue;o.target.checked=l!=null&&l===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;r.addEventListener("updatefromsandbox",l=>{const u={value:d=>{const f=o===d.detail.value;for(const g of this._getElementsByName(d.target.name)){const x=f&&g.id===n;g.domElement&&(g.domElement.checked=x),e.setValue(g.id,{value:x})}}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class B8 extends Jj{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class H8 extends Ac{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");vc.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=$p;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",f=>{const g=this.data.defaultFieldValue;for(const x of i.options)x.selected=x.value===g});for(const f of this.data.options){const g=document.createElement("option");g.textContent=f.displayValue,g.value=f.exportValue,n.value.includes(f.exportValue)&&(g.setAttribute("selected",!0),r=!1),i.append(g)}let o=null;if(r){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),i.prepend(f),o=()=>{f.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const l=f=>{const g=f?"value":"textContent",{options:x,multiple:y}=i;return y?Array.prototype.filter.call(x,b=>b.selected).map(b=>b[g]):x.selectedIndex===-1?null:x[x.selectedIndex][g]};let u=l(!1);const d=f=>{const g=f.target.options;return Array.prototype.map.call(g,x=>({displayValue:x.textContent,exportValue:x.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",f=>{const g={value(x){o==null||o();const y=x.detail.value,b=new Set(Array.isArray(y)?y:[y]);for(const w of i.options)w.selected=b.has(w.value);e.setValue(t,{value:l(!0)}),u=l(!1)},multipleSelection(x){i.multiple=!0},remove(x){const y=i.options,b=x.detail.remove;y[b].selected=!1,i.remove(b),y.length>0&&Array.prototype.findIndex.call(y,S=>S.selected)===-1&&(y[0].selected=!0),e.setValue(t,{value:l(!0),items:d(x)}),u=l(!1)},clear(x){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),u=l(!1)},insert(x){const{index:y,displayValue:b,exportValue:w}=x.detail.insert,S=i.children[y],C=document.createElement("option");C.textContent=b,C.value=w,S?S.before(C):i.append(C),e.setValue(t,{value:l(!0),items:d(x)}),u=l(!1)},items(x){const{items:y}=x.detail;for(;i.length!==0;)i.remove(0);for(const b of y){const{displayValue:w,exportValue:S}=b,C=document.createElement("option");C.textContent=w,C.value=S,i.append(C)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:l(!0),items:d(x)}),u=l(!1)},indices(x){const y=new Set(x.detail.indices);for(const b of x.target.options)b.selected=y.has(b.index);e.setValue(t,{value:l(!0)}),u=l(!1)},editable(x){x.target.disabled=!x.detail.editable}};this._dispatchEventFromSandbox(g,f)}),i.addEventListener("input",f=>{var y;const g=l(!0),x=l(!1);e.setValue(t,{value:g}),f.preventDefault(),(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:u,change:x,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):i.addEventListener("input",function(f){e.setValue(t,{value:l(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Jb extends Qt{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:Qt._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new V8({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(n=>`${hw}${n}`).join(",")),this.container}}var Wu,U0,W0,qu,Wl,$t,no,Gu,Zf,ep,Xu,so,Bi,io,tp,ro,np,ql,Gl,wt,qg,Qb,tN,nN,sN,iN,Gg,Xg,Zb;class V8{constructor({container:e,color:t,elements:n,titleObj:i,modificationDate:r,contentsObj:o,richText:l,parent:u,rect:d,parentRect:f,open:g}){D(this,wt);D(this,Wu,L(this,wt,sN).bind(this));D(this,U0,L(this,wt,Zb).bind(this));D(this,W0,L(this,wt,Xg).bind(this));D(this,qu,L(this,wt,Gg).bind(this));D(this,Wl,null);D(this,$t,null);D(this,no,null);D(this,Gu,null);D(this,Zf,null);D(this,ep,null);D(this,Xu,null);D(this,so,!1);D(this,Bi,null);D(this,io,null);D(this,tp,null);D(this,ro,null);D(this,np,null);D(this,ql,null);D(this,Gl,!1);var x;P(this,$t,e),P(this,np,i),P(this,no,o),P(this,ro,l),P(this,ep,u),P(this,Wl,t),P(this,tp,d),P(this,Xu,f),P(this,Zf,n),P(this,Gu,mw.toDateObject(r)),this.trigger=n.flatMap(y=>y.getElementsToTriggerPopup());for(const y of this.trigger)y.addEventListener("click",m(this,qu)),y.addEventListener("mouseenter",m(this,W0)),y.addEventListener("mouseleave",m(this,U0)),y.classList.add("popupTriggerArea");for(const y of n)(x=y.container)==null||x.addEventListener("keydown",m(this,Wu));m(this,$t).hidden=!0,g&&L(this,wt,Gg).call(this)}render(){if(m(this,Bi))return;const e=P(this,Bi,document.createElement("div"));if(e.className="popup",m(this,Wl)){const r=e.style.outlineColor=Ae.makeHexColor(...m(this,Wl));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`:e.style.backgroundColor=Ae.makeHexColor(...m(this,Wl).map(l=>Math.floor(.7*(255-l)+l)))}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=m(this,np),e.append(t),m(this,Gu)){const r=document.createElement("span");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:m(this,Gu).valueOf()})),t.append(r)}const i=m(this,wt,qg);if(i)Yj.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(m(this,no));e.append(r)}m(this,$t).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let r=0,o=i.length;r<o;++r){const l=i[r];n.append(document.createTextNode(l)),r<o-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;m(this,ql)||P(this,ql,{contentsObj:m(this,no),richText:m(this,ro)}),e&&P(this,io,null),t&&(P(this,ro,L(this,wt,nN).call(this,t)),P(this,no,null)),(n=m(this,Bi))==null||n.remove(),P(this,Bi,null)}resetEdited(){var e;m(this,ql)&&({contentsObj:is(this,no)._,richText:is(this,ro)._}=m(this,ql),P(this,ql,null),(e=m(this,Bi))==null||e.remove(),P(this,Bi,null),P(this,io,null))}forceHide(){P(this,Gl,this.isVisible),m(this,Gl)&&(m(this,$t).hidden=!0)}maybeShow(){m(this,Gl)&&(m(this,Bi)||L(this,wt,Xg).call(this),P(this,Gl,!1),m(this,$t).hidden=!1)}get isVisible(){return m(this,$t).hidden===!1}}Wu=new WeakMap,U0=new WeakMap,W0=new WeakMap,qu=new WeakMap,Wl=new WeakMap,$t=new WeakMap,no=new WeakMap,Gu=new WeakMap,Zf=new WeakMap,ep=new WeakMap,Xu=new WeakMap,so=new WeakMap,Bi=new WeakMap,io=new WeakMap,tp=new WeakMap,ro=new WeakMap,np=new WeakMap,ql=new WeakMap,Gl=new WeakMap,wt=new WeakSet,qg=function(){const e=m(this,ro),t=m(this,no);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&m(this,ro).html||null},Qb=function(){var e,t,n;return((n=(t=(e=m(this,wt,qg))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},tN=function(){var e,t,n;return((n=(t=(e=m(this,wt,qg))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},nN=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:m(this,wt,tN),fontSize:m(this,wt,Qb)?`calc(${m(this,wt,Qb)}px * var(--scale-factor))`:""}};for(const r of e.split(`
`))t.push({name:"span",value:r,attributes:i});return n},sN=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&m(this,so))&&L(this,wt,Gg).call(this)},iN=function(){if(m(this,io)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:r}}}=m(this,ep);let o=!!m(this,Xu),l=o?m(this,Xu):m(this,tp);for(const b of m(this,Zf))if(!l||Ae.intersect(b.data.rect,l)!==null){l=b.data.rect,o=!0;break}const u=Ae.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),f=o?l[2]-l[0]+5:0,g=u[0]+f,x=u[1];P(this,io,[100*(g-i)/t,100*(x-r)/n]);const{style:y}=m(this,$t);y.left=`${m(this,io)[0]}%`,y.top=`${m(this,io)[1]}%`},Gg=function(){P(this,so,!m(this,so)),m(this,so)?(L(this,wt,Xg).call(this),m(this,$t).addEventListener("click",m(this,qu)),m(this,$t).addEventListener("keydown",m(this,Wu))):(L(this,wt,Zb).call(this),m(this,$t).removeEventListener("click",m(this,qu)),m(this,$t).removeEventListener("keydown",m(this,Wu)))},Xg=function(){m(this,Bi)||this.render(),this.isVisible?m(this,so)&&m(this,$t).classList.add("focused"):(L(this,wt,iN).call(this),m(this,$t).hidden=!1,m(this,$t).style.zIndex=parseInt(m(this,$t).style.zIndex)+1e3)},Zb=function(){m(this,$t).classList.remove("focused"),!(m(this,so)||!this.isVisible)&&(m(this,$t).hidden=!0,m(this,$t).style.zIndex=parseInt(m(this,$t).style.zIndex)-1e3)};class rN extends Qt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ze.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var sp;class $8 extends Qt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});D(this,sp,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:i}=vo(t.rect),r=this.svgFactory.create(n,i,!0),o=P(this,sp,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,sp)}addHighlightArea(){this.container.classList.add("highlightArea")}}sp=new WeakMap;var ip;class U8 extends Qt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});D(this,ip,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:i}=vo(t.rect),r=this.svgFactory.create(n,i,!0),o=t.borderStyle.width,l=P(this,ip,this.svgFactory.createElement("svg:rect"));return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",n-o),l.setAttribute("height",i-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,ip)}addHighlightArea(){this.container.classList.add("highlightArea")}}ip=new WeakMap;var rp;class W8 extends Qt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});D(this,rp,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:i}=vo(t.rect),r=this.svgFactory.create(n,i,!0),o=t.borderStyle.width,l=P(this,rp,this.svgFactory.createElement("svg:ellipse"));return l.setAttribute("cx",n/2),l.setAttribute("cy",i/2),l.setAttribute("rx",n/2-o/2),l.setAttribute("ry",i/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,rp)}addHighlightArea(){this.container.classList.add("highlightArea")}}rp=new WeakMap;var op;class oN extends Qt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});D(this,op,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:i,popupRef:r}}=this;if(!n)return this.container;const{width:o,height:l}=vo(t),u=this.svgFactory.create(o,l,!0);let d=[];for(let g=0,x=n.length;g<x;g+=2){const y=n[g]-t[0],b=t[3]-n[g+1];d.push(`${y},${b}`)}d=d.join(" ");const f=P(this,op,this.svgFactory.createElement(this.svgElementName));return f.setAttribute("points",d),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,op)}addHighlightArea(){this.container.classList.add("highlightArea")}}op=new WeakMap;class q8 extends oN{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class G8 extends Qt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var ap;class Sw extends Qt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});D(this,ap,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?ze.HIGHLIGHT:ze.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:n,borderStyle:i,popupRef:r}}=this,{width:o,height:l}=vo(t),u=this.svgFactory.create(o,l,!0);for(const d of n){let f=[];for(let x=0,y=d.length;x<y;x+=2){const b=d[x]-t[0],w=t[3]-d[x+1];f.push(`${b},${w}`)}f=f.join(" ");const g=this.svgFactory.createElement(this.svgElementName);m(this,ap).push(g),g.setAttribute("points",f),g.setAttribute("stroke-width",i.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),u.append(g)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(u),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return m(this,ap)}addHighlightArea(){this.container.classList.add("highlightArea")}}ap=new WeakMap;class aN extends Qt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ze.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class X8 extends Qt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class K8 extends Qt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Y8 extends Qt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class lN extends Qt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ze.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var lp,cp,e1;class J8 extends Qt{constructor(t){var i;super(t,{isRenderable:!0});D(this,cp);D(this,lp,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",L(this,cp,e1).bind(this)),P(this,lp,i);const{isMac:r}=ds.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&L(this,cp,e1).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return m(this,lp)}addHighlightArea(){this.container.classList.add("highlightArea")}}lp=new WeakMap,cp=new WeakSet,e1=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var up,Xl,Kl,dp,bc,cN,t1,KA;let Q8=(KA=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:i,page:r,viewport:o,structTreeLayer:l}){D(this,bc);D(this,up,null);D(this,Xl,null);D(this,Kl,new Map);D(this,dp,null);this.div=e,P(this,up,t),P(this,Xl,n),P(this,dp,l||null),this.page=r,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return m(this,Kl).size>0}async render(e){var o;const{annotations:t}=e,n=this.div;gc(n,this.viewport);const i=new Map,r={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new _w,annotationStorage:e.annotationStorage||new xw,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const u=l.annotationType===un.POPUP;if(u){const g=i.get(l.id);if(!g)continue;r.elements=g}else{const{width:g,height:x}=vo(l.rect);if(g<=0||x<=0)continue}r.data=l;const d=M8.create(r);if(!d.isRenderable)continue;if(!u&&l.popupRef){const g=i.get(l.popupRef);g?g.push(d):i.set(l.popupRef,[d])}const f=d.render();l.hidden&&(f.style.visibility="hidden"),await L(this,bc,cN).call(this,f,l.id),d._isEditable&&(m(this,Kl).set(d.data.id,d),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(d))}L(this,bc,t1).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,gc(t,{rotation:e.rotation}),L(this,bc,t1).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(m(this,Kl).values())}getEditableAnnotation(e){return m(this,Kl).get(e)}},up=new WeakMap,Xl=new WeakMap,Kl=new WeakMap,dp=new WeakMap,bc=new WeakSet,cN=async function(e,t){var o,l;const n=e.firstChild||e,i=n.id=`${hw}${t}`,r=await((o=m(this,dp))==null?void 0:o.getAriaAttributes(i));if(r)for(const[u,d]of r)n.setAttribute(u,d);this.div.append(e),(l=m(this,up))==null||l.moveElementInDOM(this.div,e,n,!1)},t1=function(){if(!m(this,Xl))return;const e=this.div;for(const[t,n]of m(this,Xl)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:r}=i;r?r.nodeName==="CANVAS"?r.replaceWith(n):r.classList.contains("annotationContent")?r.after(n):r.before(n):i.append(n)}m(this,Xl).clear()},KA);const Cg=/\r\n?|\n/g;var Hi,Hs,hp,Yl,Vs,rn,uN,dN,hN,Kg,bo,Yg,Jg,fN,s1,pN;const kt=class kt extends xt{constructor(t){super({...t,name:"freeTextEditor"});D(this,rn);D(this,Hi);D(this,Hs,"");D(this,hp,`${this.id}-editor`);D(this,Yl,null);D(this,Vs);P(this,Hi,t.color||kt._defaultColor||xt._defaultLineColor),P(this,Vs,t.fontSize||kt._defaultFontSize)}static get _keyboardManager(){const t=kt.prototype,n=o=>o.isEmpty(),i=xc.TRANSLATE_SMALL,r=xc.TRANSLATE_BIG;return Ze(this,"_keyboardManager",new Vp([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:n}]]))}static initialize(t,n){xt.initialize(t,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case Ie.FREETEXT_SIZE:kt._defaultFontSize=n;break;case Ie.FREETEXT_COLOR:kt._defaultColor=n;break}}updateParams(t,n){switch(t){case Ie.FREETEXT_SIZE:L(this,rn,uN).call(this,n);break;case Ie.FREETEXT_COLOR:L(this,rn,dN).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Ie.FREETEXT_SIZE,kt._defaultFontSize],[Ie.FREETEXT_COLOR,kt._defaultColor||xt._defaultLineColor]]}get propertiesToUpdate(){return[[Ie.FREETEXT_SIZE,m(this,Vs)],[Ie.FREETEXT_COLOR,m(this,Hi)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-kt._internalPadding*t,-(kt._internalPadding+m(this,Vs))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(ze.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),P(this,Yl,new AbortController);const t=this._uiManager.combinedSignal(m(this,Yl));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",m(this,hp)),this._isDraggable=!0,(t=m(this,Yl))==null||t.abort(),P(this,Yl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=m(this,Hs),n=P(this,Hs,L(this,rn,hN).call(this).trimEnd());if(t===n)return;const i=r=>{if(P(this,Hs,r),!r){this.remove();return}L(this,rn,Jg).call(this),this._uiManager.rebuild(this),L(this,rn,Kg).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(t)},mustExec:!1}),L(this,rn,Kg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){kt._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",m(this,hp)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${m(this,Vs)}px * var(--scale-factor))`,i.color=m(this,Hi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),A0(this,this.div,["dblclick","keydown"]),this.width){const[r,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[f,g]=this.pageDimensions,[x,y]=this.pageTranslation;let b,w;switch(this.rotation){case 0:b=t+(l[0]-x)/f,w=n+this.height-(l[1]-y)/g;break;case 90:b=t+(l[0]-x)/f,w=n-(l[1]-y)/g,[u,d]=[d,-u];break;case 180:b=t-this.width+(l[0]-x)/f,w=n-(l[1]-y)/g,[u,d]=[-u,-d];break;case 270:b=t+(l[0]-x-this.height*g)/f,w=n+(l[1]-y-this.width*f)/g,[u,d]=[-d,u];break}this.setAt(b*r,w*o,u,d)}else this.setAt(t*r,n*o,this.width*r,this.height*o);L(this,rn,Jg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var b,w,S;const n=t.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const r=L(b=kt,bo,s1).call(b,n.getData("text")||"").replaceAll(Cg,`
`);if(!r)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!r.includes(`
`)){l.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:u,startOffset:d}=l,f=[],g=[];if(u.nodeType===Node.TEXT_NODE){const C=u.parentElement;if(g.push(u.nodeValue.slice(d).replaceAll(Cg,"")),C!==this.editorDiv){let j=f;for(const A of this.editorDiv.childNodes){if(A===C){j=g;continue}j.push(L(w=kt,bo,Yg).call(w,A))}}f.push(u.nodeValue.slice(0,d).replaceAll(Cg,""))}else if(u===this.editorDiv){let C=f,j=0;for(const A of this.editorDiv.childNodes)j++===d&&(C=g),C.push(L(S=kt,bo,Yg).call(S,A))}P(this,Hs,`${f.join(`
`)}${r}${g.join(`
`)}`),L(this,rn,Jg).call(this);const x=new Range;let y=f.reduce((C,j)=>C+j.length,0);for(const{firstChild:C}of this.editorDiv.childNodes)if(C.nodeType===Node.TEXT_NODE){const j=C.nodeValue.length;if(y<=j){x.setStart(C,y),x.setEnd(C,y);break}y-=j}o.removeAllRanges(),o.addRange(x)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,i){var l;let r=null;if(t instanceof rN){const{data:{defaultAppearanceData:{fontSize:u,fontColor:d},rect:f,rotation:g,id:x,popupRef:y},textContent:b,textPosition:w,parent:{page:{pageNumber:S}}}=t;if(!b||b.length===0)return null;r=t={annotationType:ze.FREETEXT,color:Array.from(d),fontSize:u,value:b.join(`
`),position:w,pageIndex:S-1,rect:f.slice(0),rotation:g,id:x,deleted:!1,popupRef:y}}const o=await super.deserialize(t,n,i);return P(o,Vs,t.fontSize),P(o,Hi,Ae.makeHexColor(...t.color)),P(o,Hs,L(l=kt,bo,s1).call(l,t.value)),o.annotationElementId=t.id||null,o._initialData=r,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=kt._internalPadding*this.parentScale,i=this.getRect(n,n),r=xt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:m(this,Hi)),o={annotationType:ze.FREETEXT,color:r,fontSize:m(this,Vs),value:L(this,rn,fN).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!L(this,rn,pN).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:i}=n;i.fontSize=`calc(${m(this,Vs)}px * var(--scale-factor))`,i.color=m(this,Hi),n.replaceChildren();for(const o of m(this,Hs).split(`
`)){const l=document.createElement("div");l.append(o?document.createTextNode(o):document.createElement("br")),n.append(l)}const r=kt._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(r,r),popupContent:m(this,Hs)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Hi=new WeakMap,Hs=new WeakMap,hp=new WeakMap,Yl=new WeakMap,Vs=new WeakMap,rn=new WeakSet,uN=function(t){const n=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-m(this,Vs))*this.parentScale),P(this,Vs,r),L(this,rn,Kg).call(this)},i=m(this,Vs);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ie.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},dN=function(t){const n=r=>{P(this,Hi,this.editorDiv.style.color=r)},i=m(this,Hi);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ie.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},hN=function(){var i;const t=[];this.editorDiv.normalize();let n=null;for(const r of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&r.nodeName==="BR"||(t.push(L(i=kt,bo,Yg).call(i,r)),n=r);return t.join(`
`)},Kg=function(){const[t,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:o}=this,l=o.style.display,u=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/n):(this.width=i.height/t,this.height=i.width/n),this.fixAndSetPosition()},bo=new WeakSet,Yg=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Cg,"")},Jg=function(){if(this.editorDiv.replaceChildren(),!!m(this,Hs))for(const t of m(this,Hs).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},fN=function(){return m(this,Hs).replaceAll(" "," ")},s1=function(t){return t.replaceAll(" "," ")},pN=function(t){const{value:n,fontSize:i,color:r,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==i||t.color.some((l,u)=>l!==r[u])||t.pageIndex!==o},D(kt,bo),ae(kt,"_freeTextDefaultContent",""),ae(kt,"_internalPadding",0),ae(kt,"_defaultColor",null),ae(kt,"_defaultFontSize",10),ae(kt,"_type","freetext"),ae(kt,"_editorType",ze.FREETEXT);let n1=kt;class mN{toSVGPath(){Lt("Abstract method `toSVGPath` must be implemented.")}get box(){Lt("Abstract getter `box` must be implemented.")}serialize(e,t){Lt("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Lt("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Lt("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var $s,Vi,Ku,Yu,yr,Ge,Jl,Ql,fp,pp,Ju,Qu,ma,mp,q0,G0,gn,Dh,gN,xN,vN,yN,bN,wN;const Ur=class Ur{constructor({x:e,y:t},n,i,r,o,l=0){D(this,gn);D(this,$s);D(this,Vi,[]);D(this,Ku);D(this,Yu);D(this,yr,[]);D(this,Ge,new Float64Array(18));D(this,Jl);D(this,Ql);D(this,fp);D(this,pp);D(this,Ju);D(this,Qu);D(this,ma,[]);P(this,$s,n),P(this,Qu,r*i),P(this,Yu,o),m(this,Ge).set([NaN,NaN,NaN,NaN,e,t],6),P(this,Ku,l),P(this,pp,m(Ur,mp)*i),P(this,fp,m(Ur,G0)*i),P(this,Ju,i),m(this,ma).push(e,t)}isEmpty(){return isNaN(m(this,Ge)[8])}add({x:e,y:t}){var B;P(this,Jl,e),P(this,Ql,t);const[n,i,r,o]=m(this,$s);let[l,u,d,f]=m(this,Ge).subarray(8,12);const g=e-d,x=t-f,y=Math.hypot(g,x);if(y<m(this,fp))return!1;const b=y-m(this,pp),w=b/y,S=w*g,C=w*x;let j=l,A=u;l=d,u=f,d+=S,f+=C,(B=m(this,ma))==null||B.push(e,t);const k=-C/b,T=S/b,I=k*m(this,Qu),M=T*m(this,Qu);return m(this,Ge).set(m(this,Ge).subarray(2,8),0),m(this,Ge).set([d+I,f+M],4),m(this,Ge).set(m(this,Ge).subarray(14,18),12),m(this,Ge).set([d-I,f-M],16),isNaN(m(this,Ge)[6])?(m(this,yr).length===0&&(m(this,Ge).set([l+I,u+M],2),m(this,yr).push(NaN,NaN,NaN,NaN,(l+I-n)/r,(u+M-i)/o),m(this,Ge).set([l-I,u-M],14),m(this,Vi).push(NaN,NaN,NaN,NaN,(l-I-n)/r,(u-M-i)/o)),m(this,Ge).set([j,A,l,u,d,f],6),!this.isEmpty()):(m(this,Ge).set([j,A,l,u,d,f],6),Math.abs(Math.atan2(A-u,j-l)-Math.atan2(C,S))<Math.PI/2?([l,u,d,f]=m(this,Ge).subarray(2,6),m(this,yr).push(NaN,NaN,NaN,NaN,((l+d)/2-n)/r,((u+f)/2-i)/o),[l,u,j,A]=m(this,Ge).subarray(14,18),m(this,Vi).push(NaN,NaN,NaN,NaN,((j+l)/2-n)/r,((A+u)/2-i)/o),!0):([j,A,l,u,d,f]=m(this,Ge).subarray(0,6),m(this,yr).push(((j+5*l)/6-n)/r,((A+5*u)/6-i)/o,((5*l+d)/6-n)/r,((5*u+f)/6-i)/o,((l+d)/2-n)/r,((u+f)/2-i)/o),[d,f,l,u,j,A]=m(this,Ge).subarray(12,18),m(this,Vi).push(((j+5*l)/6-n)/r,((A+5*u)/6-i)/o,((5*l+d)/6-n)/r,((5*u+f)/6-i)/o,((l+d)/2-n)/r,((u+f)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=m(this,yr),t=m(this,Vi);if(isNaN(m(this,Ge)[6])&&!this.isEmpty())return L(this,gn,gN).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);L(this,gn,vN).call(this,n);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return L(this,gn,xN).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,i,r,o){return new _N(e,t,n,i,r,o)}getOutlines(){var g;const e=m(this,yr),t=m(this,Vi),n=m(this,Ge),[i,r,o,l]=m(this,$s),u=new Float64Array((((g=m(this,ma))==null?void 0:g.length)??0)+2);for(let x=0,y=u.length-2;x<y;x+=2)u[x]=(m(this,ma)[x]-i)/o,u[x+1]=(m(this,ma)[x+1]-r)/l;if(u[u.length-2]=(m(this,Jl)-i)/o,u[u.length-1]=(m(this,Ql)-r)/l,isNaN(n[6])&&!this.isEmpty())return L(this,gn,yN).call(this,u);const d=new Float64Array(m(this,yr).length+24+m(this,Vi).length);let f=e.length;for(let x=0;x<f;x+=2){if(isNaN(e[x])){d[x]=d[x+1]=NaN;continue}d[x]=e[x],d[x+1]=e[x+1]}f=L(this,gn,wN).call(this,d,f);for(let x=t.length-6;x>=6;x-=6)for(let y=0;y<6;y+=2){if(isNaN(t[x+y])){d[f]=d[f+1]=NaN,f+=2;continue}d[f]=t[x+y],d[f+1]=t[x+y+1],f+=2}return L(this,gn,bN).call(this,d,f),this.newFreeDrawOutline(d,u,m(this,$s),m(this,Ju),m(this,Ku),m(this,Yu))}};$s=new WeakMap,Vi=new WeakMap,Ku=new WeakMap,Yu=new WeakMap,yr=new WeakMap,Ge=new WeakMap,Jl=new WeakMap,Ql=new WeakMap,fp=new WeakMap,pp=new WeakMap,Ju=new WeakMap,Qu=new WeakMap,ma=new WeakMap,mp=new WeakMap,q0=new WeakMap,G0=new WeakMap,gn=new WeakSet,Dh=function(){const e=m(this,Ge).subarray(4,6),t=m(this,Ge).subarray(16,18),[n,i,r,o]=m(this,$s);return[(m(this,Jl)+(e[0]-t[0])/2-n)/r,(m(this,Ql)+(e[1]-t[1])/2-i)/o,(m(this,Jl)+(t[0]-e[0])/2-n)/r,(m(this,Ql)+(t[1]-e[1])/2-i)/o]},gN=function(){const[e,t,n,i]=m(this,$s),[r,o,l,u]=L(this,gn,Dh).call(this);return`M${(m(this,Ge)[2]-e)/n} ${(m(this,Ge)[3]-t)/i} L${(m(this,Ge)[4]-e)/n} ${(m(this,Ge)[5]-t)/i} L${r} ${o} L${l} ${u} L${(m(this,Ge)[16]-e)/n} ${(m(this,Ge)[17]-t)/i} L${(m(this,Ge)[14]-e)/n} ${(m(this,Ge)[15]-t)/i} Z`},xN=function(e){const t=m(this,Vi);e.push(`L${t[4]} ${t[5]} Z`)},vN=function(e){const[t,n,i,r]=m(this,$s),o=m(this,Ge).subarray(4,6),l=m(this,Ge).subarray(16,18),[u,d,f,g]=L(this,gn,Dh).call(this);e.push(`L${(o[0]-t)/i} ${(o[1]-n)/r} L${u} ${d} L${f} ${g} L${(l[0]-t)/i} ${(l[1]-n)/r}`)},yN=function(e){const t=m(this,Ge),[n,i,r,o]=m(this,$s),[l,u,d,f]=L(this,gn,Dh).call(this),g=new Float64Array(36);return g.set([NaN,NaN,NaN,NaN,(t[2]-n)/r,(t[3]-i)/o,NaN,NaN,NaN,NaN,(t[4]-n)/r,(t[5]-i)/o,NaN,NaN,NaN,NaN,l,u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(t[16]-n)/r,(t[17]-i)/o,NaN,NaN,NaN,NaN,(t[14]-n)/r,(t[15]-i)/o],0),this.newFreeDrawOutline(g,e,m(this,$s),m(this,Ju),m(this,Ku),m(this,Yu))},bN=function(e,t){const n=m(this,Vi);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},wN=function(e,t){const n=m(this,Ge).subarray(4,6),i=m(this,Ge).subarray(16,18),[r,o,l,u]=m(this,$s),[d,f,g,x]=L(this,gn,Dh).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-r)/l,(n[1]-o)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,g,x,NaN,NaN,NaN,NaN,(i[0]-r)/l,(i[1]-o)/u],t),t+=24},D(Ur,mp,8),D(Ur,q0,2),D(Ur,G0,m(Ur,mp)+m(Ur,q0));let j0=Ur;var Zu,Zl,oo,gp,Us,xp,Kt,Ns,Fh,Oh,SN;class _N extends mN{constructor(t,n,i,r,o,l){super();D(this,Ns);D(this,Zu);D(this,Zl,null);D(this,oo);D(this,gp);D(this,Us);D(this,xp);D(this,Kt);P(this,Kt,t),P(this,Us,n),P(this,Zu,i),P(this,xp,r),P(this,oo,o),P(this,gp,l),L(this,Ns,SN).call(this,l);const{x:u,y:d,width:f,height:g}=m(this,Zl);for(let x=0,y=t.length;x<y;x+=2)t[x]=(t[x]-u)/f,t[x+1]=(t[x+1]-d)/g;for(let x=0,y=n.length;x<y;x+=2)n[x]=(n[x]-u)/f,n[x+1]=(n[x+1]-d)/g}toSVGPath(){const t=[`M${m(this,Kt)[4]} ${m(this,Kt)[5]}`];for(let n=6,i=m(this,Kt).length;n<i;n+=6){if(isNaN(m(this,Kt)[n])){t.push(`L${m(this,Kt)[n+4]} ${m(this,Kt)[n+5]}`);continue}t.push(`C${m(this,Kt)[n]} ${m(this,Kt)[n+1]} ${m(this,Kt)[n+2]} ${m(this,Kt)[n+3]} ${m(this,Kt)[n+4]} ${m(this,Kt)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,i,r],o){const l=i-t,u=r-n;let d,f;switch(o){case 0:d=L(this,Ns,Fh).call(this,m(this,Kt),t,r,l,-u),f=L(this,Ns,Fh).call(this,m(this,Us),t,r,l,-u);break;case 90:d=L(this,Ns,Oh).call(this,m(this,Kt),t,n,l,u),f=L(this,Ns,Oh).call(this,m(this,Us),t,n,l,u);break;case 180:d=L(this,Ns,Fh).call(this,m(this,Kt),i,n,-l,u),f=L(this,Ns,Fh).call(this,m(this,Us),i,n,-l,u);break;case 270:d=L(this,Ns,Oh).call(this,m(this,Kt),i,r,-l,-u),f=L(this,Ns,Oh).call(this,m(this,Us),i,r,-l,-u);break}return{outline:Array.from(d),points:[Array.from(f)]}}get box(){return m(this,Zl)}newOutliner(t,n,i,r,o,l=0){return new j0(t,n,i,r,o,l)}getNewOutline(t,n){const{x:i,y:r,width:o,height:l}=m(this,Zl),[u,d,f,g]=m(this,Zu),x=o*f,y=l*g,b=i*f+u,w=r*g+d,S=this.newOutliner({x:m(this,Us)[0]*x+b,y:m(this,Us)[1]*y+w},m(this,Zu),m(this,xp),t,m(this,gp),n??m(this,oo));for(let C=2;C<m(this,Us).length;C+=2)S.add({x:m(this,Us)[C]*x+b,y:m(this,Us)[C+1]*y+w});return S.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Zu=new WeakMap,Zl=new WeakMap,oo=new WeakMap,gp=new WeakMap,Us=new WeakMap,xp=new WeakMap,Kt=new WeakMap,Ns=new WeakSet,Fh=function(t,n,i,r,o){const l=new Float64Array(t.length);for(let u=0,d=t.length;u<d;u+=2)l[u]=n+t[u]*r,l[u+1]=i+t[u+1]*o;return l},Oh=function(t,n,i,r,o){const l=new Float64Array(t.length);for(let u=0,d=t.length;u<d;u+=2)l[u]=n+t[u+1]*r,l[u+1]=i+t[u]*o;return l},SN=function(t){const n=m(this,Kt);let i=n[4],r=n[5],o=i,l=r,u=i,d=r,f=i,g=r;const x=t?Math.max:Math.min;for(let C=6,j=n.length;C<j;C+=6){if(isNaN(n[C]))o=Math.min(o,n[C+4]),l=Math.min(l,n[C+5]),u=Math.max(u,n[C+4]),d=Math.max(d,n[C+5]),g<n[C+5]?(f=n[C+4],g=n[C+5]):g===n[C+5]&&(f=x(f,n[C+4]));else{const A=Ae.bezierBoundingBox(i,r,...n.slice(C,C+6));o=Math.min(o,A[0]),l=Math.min(l,A[1]),u=Math.max(u,A[2]),d=Math.max(d,A[3]),g<A[3]?(f=A[2],g=A[3]):g===A[3]&&(f=x(f,A[2]))}i=n[C+4],r=n[C+5]}const y=o-m(this,oo),b=l-m(this,oo),w=u-o+2*m(this,oo),S=d-l+2*m(this,oo);P(this,Zl,{x:y,y:b,width:w,height:S,lastPoint:[f,g]})};var vp,ga,$i,fs,CN,Qg,EN,AN,i1;class DA{constructor(e,t=0,n=0,i=!0){D(this,fs);D(this,vp);D(this,ga,[]);D(this,$i,[]);let r=1/0,o=-1/0,l=1/0,u=-1/0;const f=10**-4;for(const{x:C,y:j,width:A,height:k}of e){const T=Math.floor((C-t)/f)*f,I=Math.ceil((C+A+t)/f)*f,M=Math.floor((j-t)/f)*f,F=Math.ceil((j+k+t)/f)*f,B=[T,M,F,!0],O=[I,M,F,!1];m(this,ga).push(B,O),r=Math.min(r,T),o=Math.max(o,I),l=Math.min(l,M),u=Math.max(u,F)}const g=o-r+2*n,x=u-l+2*n,y=r-n,b=l-n,w=m(this,ga).at(i?-1:-2),S=[w[0],w[2]];for(const C of m(this,ga)){const[j,A,k]=C;C[0]=(j-y)/g,C[1]=(A-b)/x,C[2]=(k-b)/x}P(this,vp,{x:y,y:b,width:g,height:x,lastPoint:S})}getOutlines(){m(this,ga).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of m(this,ga))t[3]?(e.push(...L(this,fs,i1).call(this,t)),L(this,fs,EN).call(this,t)):(L(this,fs,AN).call(this,t),e.push(...L(this,fs,i1).call(this,t)));return L(this,fs,CN).call(this,e)}}vp=new WeakMap,ga=new WeakMap,$i=new WeakMap,fs=new WeakSet,CN=function(e){const t=[],n=new Set;for(const o of e){const[l,u,d]=o;t.push([l,u,o],[l,d,o])}t.sort((o,l)=>o[1]-l[1]||o[0]-l[0]);for(let o=0,l=t.length;o<l;o+=2){const u=t[o][2],d=t[o+1][2];u.push(d),d.push(u),n.add(u),n.add(d)}const i=[];let r;for(;n.size>0;){const o=n.values().next().value;let[l,u,d,f,g]=o;n.delete(o);let x=l,y=u;for(r=[l,d],i.push(r);;){let b;if(n.has(f))b=f;else if(n.has(g))b=g;else break;n.delete(b),[l,u,d,f,g]=b,x!==l&&(r.push(x,y,l,y===u?u:d),x=l),y=y===u?d:u}r.push(x,y)}return new Z8(i,m(this,vp))},Qg=function(e){const t=m(this,$i);let n=0,i=t.length-1;for(;n<=i;){const r=n+i>>1,o=t[r][0];if(o===e)return r;o<e?n=r+1:i=r-1}return i+1},EN=function([,e,t]){const n=L(this,fs,Qg).call(this,e);m(this,$i).splice(n,0,[e,t])},AN=function([,e,t]){const n=L(this,fs,Qg).call(this,e);for(let i=n;i<m(this,$i).length;i++){const[r,o]=m(this,$i)[i];if(r!==e)break;if(r===e&&o===t){m(this,$i).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[r,o]=m(this,$i)[i];if(r!==e)break;if(r===e&&o===t){m(this,$i).splice(i,1);return}}},i1=function(e){const[t,n,i]=e,r=[[t,n,i]],o=L(this,fs,Qg).call(this,i);for(let l=0;l<o;l++){const[u,d]=m(this,$i)[l];for(let f=0,g=r.length;f<g;f++){const[,x,y]=r[f];if(!(d<=x||y<=u)){if(x>=u){if(y>d)r[f][1]=d;else{if(g===1)return[];r.splice(f,1),f--,g--}continue}r[f][2]=u,y>d&&r.push([t,d,y])}}}return r};var yp,ed;class Z8 extends mN{constructor(t,n){super();D(this,yp);D(this,ed);P(this,ed,t),P(this,yp,n)}toSVGPath(){const t=[];for(const n of m(this,ed)){let[i,r]=n;t.push(`M${i} ${r}`);for(let o=2;o<n.length;o+=2){const l=n[o],u=n[o+1];l===i?(t.push(`V${u}`),r=u):u===r&&(t.push(`H${l}`),i=l)}t.push("Z")}return t.join(" ")}serialize([t,n,i,r],o){const l=[],u=i-t,d=r-n;for(const f of m(this,ed)){const g=new Array(f.length);for(let x=0;x<f.length;x+=2)g[x]=t+f[x]*u,g[x+1]=r-f[x+1]*d;l.push(g)}return l}get box(){return m(this,yp)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}yp=new WeakMap,ed=new WeakMap;class r1 extends j0{newFreeDrawOutline(e,t,n,i,r,o){return new ez(e,t,n,i,r,o)}get classNamesForDrawing(){return["highlight","free"]}}class ez extends _N{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,n,i,r,o=0){return new r1(e,t,n,i,r,o)}}var Ui,ec,td,hn,bp,nd,wp,_p,xa,Wi,sd,Sp,bt,o1,a1,l1,al,kN,Ko;const Ss=class Ss{constructor({editor:e=null,uiManager:t=null}){D(this,bt);D(this,Ui,null);D(this,ec,null);D(this,td);D(this,hn,null);D(this,bp,!1);D(this,nd,!1);D(this,wp,null);D(this,_p);D(this,xa,null);D(this,Wi,null);D(this,sd);var n;e?(P(this,nd,!1),P(this,sd,Ie.HIGHLIGHT_COLOR),P(this,wp,e)):(P(this,nd,!0),P(this,sd,Ie.HIGHLIGHT_DEFAULT_COLOR)),P(this,Wi,(e==null?void 0:e._uiManager)||t),P(this,_p,m(this,Wi)._eventBus),P(this,td,(e==null?void 0:e.color)||((n=m(this,Wi))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),m(Ss,Sp)||P(Ss,Sp,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ze(this,"_keyboardManager",new Vp([[["Escape","mac+Escape"],Ss.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ss.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ss.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ss.prototype._moveToPrevious],[["Home","mac+Home"],Ss.prototype._moveToBeginning],[["End","mac+End"],Ss.prototype._moveToEnd]]))}renderButton(){const e=P(this,Ui,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=m(this,Wi)._signal;e.addEventListener("click",L(this,bt,al).bind(this),{signal:t}),e.addEventListener("keydown",L(this,bt,l1).bind(this),{signal:t});const n=P(this,ec,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=m(this,td),e.append(n),e}renderMainDropdown(){const e=P(this,hn,L(this,bt,o1).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===m(this,Ui)){L(this,bt,al).call(this,e);return}const t=e.target.getAttribute("data-color");t&&L(this,bt,a1).call(this,t,e)}_moveToNext(e){var t,n;if(!m(this,bt,Ko)){L(this,bt,al).call(this,e);return}if(e.target===m(this,Ui)){(t=m(this,hn).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=m(this,hn))==null?void 0:t.firstChild)||e.target===m(this,Ui)){m(this,bt,Ko)&&this._hideDropdownFromKeyboard();return}m(this,bt,Ko)||L(this,bt,al).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!m(this,bt,Ko)){L(this,bt,al).call(this,e);return}(t=m(this,hn).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!m(this,bt,Ko)){L(this,bt,al).call(this,e);return}(t=m(this,hn).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=m(this,hn))==null||e.classList.add("hidden"),(t=m(this,xa))==null||t.abort(),P(this,xa,null)}_hideDropdownFromKeyboard(){var e;if(!m(this,nd)){if(!m(this,bt,Ko)){(e=m(this,wp))==null||e.unselect();return}this.hideDropdown(),m(this,Ui).focus({preventScroll:!0,focusVisible:m(this,bp)})}}updateColor(e){if(m(this,ec)&&(m(this,ec).style.backgroundColor=e),!m(this,hn))return;const t=m(this,Wi).highlightColors.values();for(const n of m(this,hn).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=m(this,Ui))==null||e.remove(),P(this,Ui,null),P(this,ec,null),(t=m(this,hn))==null||t.remove(),P(this,hn,null)}};Ui=new WeakMap,ec=new WeakMap,td=new WeakMap,hn=new WeakMap,bp=new WeakMap,nd=new WeakMap,wp=new WeakMap,_p=new WeakMap,xa=new WeakMap,Wi=new WeakMap,sd=new WeakMap,Sp=new WeakMap,bt=new WeakSet,o1=function(){const e=document.createElement("div"),t=m(this,Wi)._signal;e.addEventListener("contextmenu",bi,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,i]of m(this,Wi).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=n,r.setAttribute("data-l10n-id",m(Ss,Sp)[n]);const o=document.createElement("span");r.append(o),o.className="swatch",o.style.backgroundColor=i,r.setAttribute("aria-selected",i===m(this,td)),r.addEventListener("click",L(this,bt,a1).bind(this,i),{signal:t}),e.append(r)}return e.addEventListener("keydown",L(this,bt,l1).bind(this),{signal:t}),e},a1=function(e,t){t.stopPropagation(),m(this,_p).dispatch("switchannotationeditorparams",{source:this,type:m(this,sd),value:e})},l1=function(e){Ss._keyboardManager.exec(this,e)},al=function(e){if(m(this,bt,Ko)){this.hideDropdown();return}if(P(this,bp,e.detail===0),m(this,xa)||(P(this,xa,new AbortController),window.addEventListener("pointerdown",L(this,bt,kN).bind(this),{signal:m(this,Wi).combinedSignal(m(this,xa))})),m(this,hn)){m(this,hn).classList.remove("hidden");return}const t=P(this,hn,L(this,bt,o1).call(this));m(this,Ui).append(t)},kN=function(e){var t;(t=m(this,hn))!=null&&t.contains(e.target)||this.hideDropdown()},Ko=function(){return m(this,hn)&&!m(this,hn).classList.contains("hidden")},D(Ss,Sp,null);let N0=Ss;var id,Cp,ao,tc,rd,ui,Ep,Ap,nc,qi,Xn,As,od,lo,fn,ad,di,kp,Oe,c1,Zg,jN,NN,TN,u1,ll,pi,ru,PN,e0,zh,RN,LN,IN,MN,DN;const at=class at extends xt{constructor(t){super({...t,name:"highlightEditor"});D(this,Oe);D(this,id,null);D(this,Cp,0);D(this,ao);D(this,tc,null);D(this,rd,null);D(this,ui,null);D(this,Ep,null);D(this,Ap,0);D(this,nc,null);D(this,qi,null);D(this,Xn,null);D(this,As,!1);D(this,od,null);D(this,lo);D(this,fn,null);D(this,ad,"");D(this,di);D(this,kp,"");this.color=t.color||at._defaultColor,P(this,di,t.thickness||at._defaultThickness),P(this,lo,t.opacity||at._defaultOpacity),P(this,ao,t.boxes||null),P(this,kp,t.methodOfCreation||""),P(this,ad,t.text||""),this._isDraggable=!1,t.highlightId>-1?(P(this,As,!0),L(this,Oe,Zg).call(this,t),L(this,Oe,ll).call(this)):m(this,ao)&&(P(this,id,t.anchorNode),P(this,Cp,t.anchorOffset),P(this,Ep,t.focusNode),P(this,Ap,t.focusOffset),L(this,Oe,c1).call(this),L(this,Oe,ll).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=at.prototype;return Ze(this,"_keyboardManager",new Vp([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:m(this,As)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:m(this,di),methodOfCreation:m(this,kp)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var i;xt.initialize(t,n),at._defaultColor||(at._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case Ie.HIGHLIGHT_DEFAULT_COLOR:at._defaultColor=n;break;case Ie.HIGHLIGHT_THICKNESS:at._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return m(this,od)}updateParams(t,n){switch(t){case Ie.HIGHLIGHT_COLOR:L(this,Oe,jN).call(this,n);break;case Ie.HIGHLIGHT_THICKNESS:L(this,Oe,NN).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Ie.HIGHLIGHT_DEFAULT_COLOR,at._defaultColor],[Ie.HIGHLIGHT_THICKNESS,at._defaultThickness]]}get propertiesToUpdate(){return[[Ie.HIGHLIGHT_COLOR,this.color||at._defaultColor],[Ie.HIGHLIGHT_THICKNESS,m(this,di)||at._defaultThickness],[Ie.HIGHLIGHT_FREE,m(this,As)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(P(this,rd,new N0({editor:this})),t.addColorPicker(m(this,rd))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(L(this,Oe,zh).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,L(this,Oe,zh).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){L(this,Oe,u1).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(L(this,Oe,ll).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?L(this,Oe,u1).call(this):t&&(L(this,Oe,ll).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var r,o,l;const{drawLayer:n}=this.parent;let i;m(this,As)?(t=(t-this.rotation+360)%360,i=L(r=at,pi,ru).call(r,m(this,qi).box,t)):i=L(o=at,pi,ru).call(o,this,t),n.rotate(m(this,Xn),t),n.rotate(m(this,fn),t),n.updateBox(m(this,Xn),i),n.updateBox(m(this,fn),L(l=at,pi,ru).call(l,m(this,ui).box,t))}render(){if(this.div)return this.div;const t=super.render();m(this,ad)&&(t.setAttribute("aria-label",m(this,ad)),t.setAttribute("role","mark")),m(this,As)?t.classList.add("free"):this.div.addEventListener("keydown",L(this,Oe,PN).bind(this),{signal:this._uiManager._signal});const n=P(this,nc,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=m(this,tc);const[i,r]=this.parentDimensions;return this.setDims(this.width*i,this.height*r),A0(this,m(this,nc),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(m(this,fn),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(m(this,fn),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:L(this,Oe,e0).call(this,!0);break;case 1:case 3:L(this,Oe,e0).call(this,!1);break}}select(){var t,n;super.select(),m(this,fn)&&((t=this.parent)==null||t.drawLayer.removeClass(m(this,fn),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(m(this,fn),"selected"))}unselect(){var t;super.unselect(),m(this,fn)&&((t=this.parent)==null||t.drawLayer.removeClass(m(this,fn),"selected"),m(this,As)||L(this,Oe,e0).call(this,!1))}get _mustFixPosition(){return!m(this,As)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(m(this,Xn),t),this.parent.drawLayer.show(m(this,fn),t))}static startHighlighting(t,n,{target:i,x:r,y:o}){const{x:l,y:u,width:d,height:f}=i.getBoundingClientRect(),g=new AbortController,x=t.combinedSignal(g),y=w=>{w.preventDefault(),w.stopPropagation()},b=w=>{g.abort(),L(this,pi,MN).call(this,t,w)};window.addEventListener("blur",b,{signal:x}),window.addEventListener("pointerup",b,{signal:x}),window.addEventListener("pointerdown",y,{capture:!0,passive:!1,signal:x}),window.addEventListener("contextmenu",bi,{signal:x}),i.addEventListener("pointermove",L(this,pi,IN).bind(this,t),{signal:x}),this._freeHighlight=new r1({x:r,y:o},[l,u,d,f],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,n,i){var w,S,C,j;let r=null;if(t instanceof aN){const{data:{quadPoints:A,rect:k,rotation:T,id:I,color:M,opacity:F,popupRef:B},parent:{page:{pageNumber:O}}}=t;r=t={annotationType:ze.HIGHLIGHT,color:Array.from(M),opacity:F,quadPoints:A,boxes:null,pageIndex:O-1,rect:k.slice(0),rotation:T,id:I,deleted:!1,popupRef:B}}else if(t instanceof Sw){const{data:{inkLists:A,rect:k,rotation:T,id:I,color:M,borderStyle:{rawWidth:F},popupRef:B},parent:{page:{pageNumber:O}}}=t;r=t={annotationType:ze.HIGHLIGHT,color:Array.from(M),thickness:F,inkLists:A,boxes:null,pageIndex:O-1,rect:k.slice(0),rotation:T,id:I,deleted:!1,popupRef:B}}const{color:o,quadPoints:l,inkLists:u,opacity:d}=t,f=await super.deserialize(t,n,i);f.color=Ae.makeHexColor(...o),P(f,lo,d||1),u&&P(f,di,t.thickness),f.annotationElementId=t.id||null,f._initialData=r;const[g,x]=f.pageDimensions,[y,b]=f.pageTranslation;if(l){const A=P(f,ao,[]);for(let k=0;k<l.length;k+=8)A.push({x:(l[k]-y)/g,y:1-(l[k+1]-b)/x,width:(l[k+2]-l[k])/g,height:(l[k+1]-l[k+5])/x});L(w=f,Oe,c1).call(w),L(S=f,Oe,ll).call(S),f.rotate(f.rotation)}else if(u){P(f,As,!0);const A=u[0],k={x:A[0]-y,y:x-(A[1]-b)},T=new r1(k,[0,0,g,x],1,m(f,di)/2,!0,.001);for(let F=0,B=A.length;F<B;F+=2)k.x=A[F]-y,k.y=x-(A[F+1]-b),T.add(k);const{id:I,clipPathId:M}=n.drawLayer.draw(T,f.color,f._defaultOpacity,!0);L(C=f,Oe,Zg).call(C,{highlightOutlines:T.getOutlines(),highlightId:I,clipPathId:M}),L(j=f,Oe,ll).call(j)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),i=xt._colorManager.convert(this.color),r={annotationType:ze.HIGHLIGHT,color:i,opacity:m(this,lo),thickness:m(this,di),quadPoints:L(this,Oe,RN).call(this),outlines:L(this,Oe,LN).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:L(this,Oe,zh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!L(this,Oe,DN).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};id=new WeakMap,Cp=new WeakMap,ao=new WeakMap,tc=new WeakMap,rd=new WeakMap,ui=new WeakMap,Ep=new WeakMap,Ap=new WeakMap,nc=new WeakMap,qi=new WeakMap,Xn=new WeakMap,As=new WeakMap,od=new WeakMap,lo=new WeakMap,fn=new WeakMap,ad=new WeakMap,di=new WeakMap,kp=new WeakMap,Oe=new WeakSet,c1=function(){const t=new DA(m(this,ao),.001);P(this,qi,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=m(this,qi).box;const n=new DA(m(this,ao),.0025,.001,this._uiManager.direction==="ltr");P(this,ui,n.getOutlines());const{lastPoint:i}=m(this,ui).box;P(this,od,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},Zg=function({highlightOutlines:t,highlightId:n,clipPathId:i}){var g,x;if(P(this,qi,t),P(this,ui,t.getNewOutline(m(this,di)/2+1.5,.0025)),n>=0)P(this,Xn,n),P(this,tc,i),this.parent.drawLayer.finalizeLine(n,t),P(this,fn,this.parent.drawLayer.drawOutline(m(this,ui)));else if(this.parent){const y=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(m(this,Xn),t),this.parent.drawLayer.updateBox(m(this,Xn),L(g=at,pi,ru).call(g,m(this,qi).box,(y-this.rotation+360)%360)),this.parent.drawLayer.updateLine(m(this,fn),m(this,ui)),this.parent.drawLayer.updateBox(m(this,fn),L(x=at,pi,ru).call(x,m(this,ui).box,y))}const{x:o,y:l,width:u,height:d}=t.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=u,this.height=d;break;case 90:{const[y,b]=this.parentDimensions;this.x=l,this.y=1-o,this.width=u*b/y,this.height=d*y/b;break}case 180:this.x=1-o,this.y=1-l,this.width=u,this.height=d;break;case 270:{const[y,b]=this.parentDimensions;this.x=1-l,this.y=o,this.width=u*b/y,this.height=d*y/b;break}}const{lastPoint:f}=m(this,ui).box;P(this,od,[(f[0]-o)/u,(f[1]-l)/d])},jN=function(t){const n=(o,l)=>{var u,d,f;this.color=o,(u=this.parent)==null||u.drawLayer.changeColor(m(this,Xn),o),(d=m(this,rd))==null||d.updateColor(o),P(this,lo,l),(f=this.parent)==null||f.drawLayer.changeOpacity(m(this,Xn),l)},i=this.color,r=m(this,lo);this.addCommands({cmd:n.bind(this,t,at._defaultOpacity),undo:n.bind(this,i,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ie.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},NN=function(t){const n=m(this,di),i=r=>{P(this,di,r),L(this,Oe,TN).call(this,r)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ie.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},TN=function(t){if(!m(this,As))return;L(this,Oe,Zg).call(this,{highlightOutlines:m(this,qi).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)},u1=function(){m(this,Xn)===null||!this.parent||(this.parent.drawLayer.remove(m(this,Xn)),P(this,Xn,null),this.parent.drawLayer.remove(m(this,fn)),P(this,fn,null))},ll=function(t=this.parent){m(this,Xn)===null&&({id:is(this,Xn)._,clipPathId:is(this,tc)._}=t.drawLayer.draw(m(this,qi),this.color,m(this,lo)),P(this,fn,t.drawLayer.drawOutline(m(this,ui))),m(this,nc)&&(m(this,nc).style.clipPath=m(this,tc)))},pi=new WeakSet,ru=function({x:t,y:n,width:i,height:r},o){switch(o){case 90:return{x:1-n-r,y:t,width:r,height:i};case 180:return{x:1-t-i,y:1-n-r,width:i,height:r};case 270:return{x:n,y:1-t-i,width:r,height:i}}return{x:t,y:n,width:i,height:r}},PN=function(t){at._keyboardManager.exec(this,t)},e0=function(t){if(!m(this,id))return;const n=window.getSelection();t?n.setPosition(m(this,id),m(this,Cp)):n.setPosition(m(this,Ep),m(this,Ap))},zh=function(){return m(this,As)?this.rotation:0},RN=function(){if(m(this,As))return null;const[t,n]=this.pageDimensions,[i,r]=this.pageTranslation,o=m(this,ao),l=new Float32Array(o.length*8);let u=0;for(const{x:d,y:f,width:g,height:x}of o){const y=d*t+i,b=(1-f-x)*n+r;l[u]=l[u+4]=y,l[u+1]=l[u+3]=b,l[u+2]=l[u+6]=y+g*t,l[u+5]=l[u+7]=b+x*n,u+=8}return l},LN=function(t){return m(this,qi).serialize(t,L(this,Oe,zh).call(this))},IN=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},MN=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},DN=function(t){const{color:n}=this._initialData;return t.color.some((i,r)=>i!==n[r])},D(at,pi),ae(at,"_defaultColor",null),ae(at,"_defaultOpacity",1),ae(at,"_defaultThickness",12),ae(at,"_type","highlight"),ae(at,"_editorType",ze.HIGHLIGHT),ae(at,"_freeHighlightId",-1),ae(at,"_freeHighlight",null),ae(at,"_freeHighlightClipId","");let T0=at;var sc,ic,br,co,hi,rc,oc,ac,uo,ld,lc,cc,va,ge,FN,ON,zN,BN,h1,HN,f1,VN,$N,UN,WN,qN,cl,p1,m1,g1,t0,n0,ou,x1,s0,So,GN,v1,XN,KN,y1,i0,Bh;const Ot=class Ot extends xt{constructor(t){super({...t,name:"inkEditor"});D(this,ge);D(this,sc,0);D(this,ic,0);D(this,br,null);D(this,co,new Path2D);D(this,hi,!1);D(this,rc,null);D(this,oc,!1);D(this,ac,!1);D(this,uo,null);D(this,ld,null);D(this,lc,0);D(this,cc,0);D(this,va,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,n){xt.initialize(t,n)}static updateDefaultParams(t,n){switch(t){case Ie.INK_THICKNESS:Ot._defaultThickness=n;break;case Ie.INK_COLOR:Ot._defaultColor=n;break;case Ie.INK_OPACITY:Ot._defaultOpacity=n/100;break}}updateParams(t,n){switch(t){case Ie.INK_THICKNESS:L(this,ge,FN).call(this,n);break;case Ie.INK_COLOR:L(this,ge,ON).call(this,n);break;case Ie.INK_OPACITY:L(this,ge,zN).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Ie.INK_THICKNESS,Ot._defaultThickness],[Ie.INK_COLOR,Ot._defaultColor||xt._defaultLineColor],[Ie.INK_OPACITY,Math.round(Ot._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Ie.INK_THICKNESS,this.thickness||Ot._defaultThickness],[Ie.INK_COLOR,this.color||Ot._defaultColor||xt._defaultLineColor],[Ie.INK_OPACITY,Math.round(100*(this.opacity??Ot._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(L(this,ge,t0).call(this),L(this,ge,n0).call(this)),this.isAttachedToDOM||(this.parent.add(this),L(this,ge,ou).call(this)),L(this,ge,Bh).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,m(this,br)&&(clearTimeout(m(this,br)),P(this,br,null)),(t=m(this,uo))==null||t.disconnect(),P(this,uo,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,n]=this.parentDimensions,i=this.width*t,r=this.height*n;this.setDimensions(i,r)}enableEditMode(){m(this,hi)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,L(this,ge,p1).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),L(this,ge,m1).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){m(this,hi)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),P(this,hi,!0),this.div.classList.add("disabled"),L(this,ge,Bh).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||m(this,hi)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),L(this,ge,HN).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),L(this,ge,f1).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),L(this,ge,g1).call(this,t)}canvasPointerleave(t){L(this,ge,g1).call(this,t)}get isResizable(){return!this.isEmpty()&&m(this,hi)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,r,o,l]=L(this,ge,BN).call(this);if(this.setAt(i,r,0,0),this.setDims(o,l),L(this,ge,t0).call(this),this.width){const[u,d]=this.parentDimensions;this.setAspectRatio(this.width*u,this.height*d),this.setAt(t*u,n*d,this.width*u,this.height*d),P(this,ac,!0),L(this,ge,ou).call(this),this.setDims(this.width*u,this.height*d),L(this,ge,cl).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return L(this,ge,n0).call(this),this.div}setDimensions(t,n){const i=Math.round(t),r=Math.round(n);if(m(this,lc)===i&&m(this,cc)===r)return;P(this,lc,i),P(this,cc,r),this.canvas.style.visibility="hidden";const[o,l]=this.parentDimensions;this.width=t/o,this.height=n/l,this.fixAndSetPosition(),m(this,hi)&&L(this,ge,x1).call(this,t,n),L(this,ge,ou).call(this),L(this,ge,cl).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,n,i){var S,C,j;if(t instanceof Sw)return null;const r=await super.deserialize(t,n,i);r.thickness=t.thickness,r.color=Ae.makeHexColor(...t.color),r.opacity=t.opacity;const[o,l]=r.pageDimensions,u=r.width*o,d=r.height*l,f=r.parentScale,g=t.thickness/2;P(r,hi,!0),P(r,lc,Math.round(u)),P(r,cc,Math.round(d));const{paths:x,rect:y,rotation:b}=t;for(let{bezier:A}of x){A=L(S=Ot,So,XN).call(S,A,y,b);const k=[];r.paths.push(k);let T=f*(A[0]-g),I=f*(A[1]-g);for(let F=2,B=A.length;F<B;F+=6){const O=f*(A[F]-g),W=f*(A[F+1]-g),J=f*(A[F+2]-g),ie=f*(A[F+3]-g),se=f*(A[F+4]-g),$=f*(A[F+5]-g);k.push([[T,I],[O,W],[J,ie],[se,$]]),T=se,I=$}const M=L(this,So,GN).call(this,k);r.bezierPath2D.push(M)}const w=L(C=r,ge,y1).call(C);return P(r,ic,Math.max(xt.MIN_SIZE,w[2]-w[0])),P(r,sc,Math.max(xt.MIN_SIZE,w[3]-w[1])),L(j=r,ge,x1).call(j,u,d),r}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),n=xt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:ze.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:L(this,ge,KN).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};sc=new WeakMap,ic=new WeakMap,br=new WeakMap,co=new WeakMap,hi=new WeakMap,rc=new WeakMap,oc=new WeakMap,ac=new WeakMap,uo=new WeakMap,ld=new WeakMap,lc=new WeakMap,cc=new WeakMap,va=new WeakMap,ge=new WeakSet,FN=function(t){const n=r=>{this.thickness=r,L(this,ge,Bh).call(this)},i=this.thickness;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ie.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},ON=function(t){const n=r=>{this.color=r,L(this,ge,cl).call(this)},i=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ie.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},zN=function(t){const n=r=>{this.opacity=r,L(this,ge,cl).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ie.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},BN=function(){const{parentRotation:t,parentDimensions:[n,i]}=this;switch(t){case 90:return[0,i,i,n];case 180:return[n,i,n,i];case 270:return[n,0,i,n];default:return[0,0,n,i]}},h1=function(){const{ctx:t,color:n,opacity:i,thickness:r,parentScale:o,scaleFactor:l}=this;t.lineWidth=r*o/l,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${n}${_6(i)}`},HN=function(t,n){this.canvas.addEventListener("contextmenu",bi,{signal:this._uiManager._signal}),L(this,ge,m1).call(this),P(this,rc,new AbortController);const i=this._uiManager.combinedSignal(m(this,rc));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,m(this,ac)||(P(this,ac,!0),L(this,ge,ou).call(this),this.thickness||(this.thickness=Ot._defaultThickness),this.color||(this.color=Ot._defaultColor||xt._defaultLineColor),this.opacity??(this.opacity=Ot._defaultOpacity)),this.currentPath.push([t,n]),P(this,oc,!1),L(this,ge,h1).call(this),P(this,va,()=>{L(this,ge,UN).call(this),m(this,va)&&window.requestAnimationFrame(m(this,va))}),window.requestAnimationFrame(m(this,va))},f1=function(t,n){const[i,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&n===r)return;const o=this.currentPath;let l=m(this,co);if(o.push([t,n]),P(this,oc,!0),o.length<=2){l.moveTo(...o[0]),l.lineTo(t,n);return}o.length===3&&(P(this,co,l=new Path2D),l.moveTo(...o[0])),L(this,ge,WN).call(this,l,...o.at(-3),...o.at(-2),t,n)},VN=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);m(this,co).lineTo(...t)},$N=function(t,n){P(this,va,null),t=Math.min(Math.max(t,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),L(this,ge,f1).call(this,t,n),L(this,ge,VN).call(this);let i;if(this.currentPath.length!==1)i=L(this,ge,qN).call(this);else{const d=[t,n];i=[[d,d.slice(),d.slice(),d]]}const r=m(this,co),o=this.currentPath;this.currentPath=[],P(this,co,new Path2D);const l=()=>{this.allRawPaths.push(o),this.paths.push(i),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},u=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(L(this,ge,t0).call(this),L(this,ge,n0).call(this)),L(this,ge,Bh).call(this))};this.addCommands({cmd:l,undo:u,mustExec:!0})},UN=function(){if(!m(this,oc))return;P(this,oc,!1);const t=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),i=n.map(l=>l[0]),r=n.map(l=>l[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...r)-t,Math.max(...r)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const l of this.bezierPath2D)o.stroke(l);o.stroke(m(this,co)),o.restore()},WN=function(t,n,i,r,o,l,u){const d=(n+r)/2,f=(i+o)/2,g=(r+l)/2,x=(o+u)/2;t.bezierCurveTo(d+2*(r-d)/3,f+2*(o-f)/3,g+2*(r-g)/3,x+2*(o-x)/3,g,x)},qN=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const n=[];let i,[r,o]=t[0];for(i=1;i<t.length-2;i++){const[y,b]=t[i],[w,S]=t[i+1],C=(y+w)/2,j=(b+S)/2,A=[r+2*(y-r)/3,o+2*(b-o)/3],k=[C+2*(y-C)/3,j+2*(b-j)/3];n.push([[r,o],A,k,[C,j]]),[r,o]=[C,j]}const[l,u]=t[i],[d,f]=t[i+1],g=[r+2*(l-r)/3,o+2*(u-o)/3],x=[d+2*(l-d)/3,f+2*(u-f)/3];return n.push([[r,o],g,x,[d,f]]),n},cl=function(){if(this.isEmpty()){L(this,ge,s0).call(this);return}L(this,ge,h1).call(this);const{canvas:t,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),L(this,ge,s0).call(this);for(const i of this.bezierPath2D)n.stroke(i)},p1=function(){if(m(this,ld))return;P(this,ld,new AbortController);const t=this._uiManager.combinedSignal(m(this,ld));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},m1=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},g1=function(t){var n;(n=m(this,rc))==null||n.abort(),P(this,rc,null),L(this,ge,p1).call(this),m(this,br)&&clearTimeout(m(this,br)),P(this,br,setTimeout(()=>{P(this,br,null),this.canvas.removeEventListener("contextmenu",bi)},10)),L(this,ge,$N).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},t0=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},n0=function(){P(this,uo,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),m(this,uo).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=m(this,uo))==null||t.disconnect(),P(this,uo,null)},{once:!0})},ou=function(){if(!m(this,ac))return;const[t,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*n),L(this,ge,s0).call(this)},x1=function(t,n){const i=L(this,ge,i0).call(this),r=(t-i)/m(this,ic),o=(n-i)/m(this,sc);this.scaleFactor=Math.min(r,o)},s0=function(){const t=L(this,ge,i0).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},So=new WeakSet,GN=function(t){const n=new Path2D;for(let i=0,r=t.length;i<r;i++){const[o,l,u,d]=t[i];i===0&&n.moveTo(...o),n.bezierCurveTo(l[0],l[1],u[0],u[1],d[0],d[1])}return n},v1=function(t,n,i){const[r,o,l,u]=n;switch(i){case 0:for(let d=0,f=t.length;d<f;d+=2)t[d]+=r,t[d+1]=u-t[d+1];break;case 90:for(let d=0,f=t.length;d<f;d+=2){const g=t[d];t[d]=t[d+1]+r,t[d+1]=g+o}break;case 180:for(let d=0,f=t.length;d<f;d+=2)t[d]=l-t[d],t[d+1]+=o;break;case 270:for(let d=0,f=t.length;d<f;d+=2){const g=t[d];t[d]=l-t[d+1],t[d+1]=u-g}break;default:throw new Error("Invalid rotation")}return t},XN=function(t,n,i){const[r,o,l,u]=n;switch(i){case 0:for(let d=0,f=t.length;d<f;d+=2)t[d]-=r,t[d+1]=u-t[d+1];break;case 90:for(let d=0,f=t.length;d<f;d+=2){const g=t[d];t[d]=t[d+1]-o,t[d+1]=g-r}break;case 180:for(let d=0,f=t.length;d<f;d+=2)t[d]=l-t[d],t[d+1]-=o;break;case 270:for(let d=0,f=t.length;d<f;d+=2){const g=t[d];t[d]=u-t[d+1],t[d+1]=l-g}break;default:throw new Error("Invalid rotation")}return t},KN=function(t,n,i,r){var f,g;const o=[],l=this.thickness/2,u=t*n+l,d=t*i+l;for(const x of this.paths){const y=[],b=[];for(let w=0,S=x.length;w<S;w++){const[C,j,A,k]=x[w];if(C[0]===k[0]&&C[1]===k[1]&&S===1){const ie=t*C[0]+u,se=t*C[1]+d;y.push(ie,se),b.push(ie,se);break}const T=t*C[0]+u,I=t*C[1]+d,M=t*j[0]+u,F=t*j[1]+d,B=t*A[0]+u,O=t*A[1]+d,W=t*k[0]+u,J=t*k[1]+d;w===0&&(y.push(T,I),b.push(T,I)),y.push(M,F,B,O,W,J),b.push(M,F),w===S-1&&b.push(W,J)}o.push({bezier:L(f=Ot,So,v1).call(f,y,r,this.rotation),points:L(g=Ot,So,v1).call(g,b,r,this.rotation)})}return o},y1=function(){let t=1/0,n=-1/0,i=1/0,r=-1/0;for(const o of this.paths)for(const[l,u,d,f]of o){const g=Ae.bezierBoundingBox(...l,...u,...d,...f);t=Math.min(t,g[0]),i=Math.min(i,g[1]),n=Math.max(n,g[2]),r=Math.max(r,g[3])}return[t,i,n,r]},i0=function(){return m(this,hi)?Math.ceil(this.thickness*this.parentScale):0},Bh=function(t=!1){if(this.isEmpty())return;if(!m(this,hi)){L(this,ge,cl).call(this);return}const n=L(this,ge,y1).call(this),i=L(this,ge,i0).call(this);P(this,ic,Math.max(xt.MIN_SIZE,n[2]-n[0])),P(this,sc,Math.max(xt.MIN_SIZE,n[3]-n[1]));const r=Math.ceil(i+m(this,ic)*this.scaleFactor),o=Math.ceil(i+m(this,sc)*this.scaleFactor),[l,u]=this.parentDimensions;this.width=r/l,this.height=o/u,this.setAspectRatio(r,o);const d=this.translationX,f=this.translationY;this.translationX=-n[0],this.translationY=-n[1],L(this,ge,ou).call(this),L(this,ge,cl).call(this),P(this,lc,r),P(this,cc,o),this.setDims(r,o);const g=t?i/this.scaleFactor/2:0;this.translate(d-this.translationX-g,f-this.translationY-g)},D(Ot,So),ae(Ot,"_defaultColor",null),ae(Ot,"_defaultOpacity",1),ae(Ot,"_defaultThickness",1),ae(Ot,"_type","ink"),ae(Ot,"_editorType",ze.INK);let d1=Ot;var Bt,Mn,ya,ho,ba,cd,wr,fo,_r,Ws,ud,Qe,Hh,Vh,r0,w1,YN,o0,_1,a0,JN,QN;const Qh=class Qh extends xt{constructor(t){super({...t,name:"stampEditor"});D(this,Qe);D(this,Bt,null);D(this,Mn,null);D(this,ya,null);D(this,ho,null);D(this,ba,null);D(this,cd,"");D(this,wr,null);D(this,fo,null);D(this,_r,null);D(this,Ws,!1);D(this,ud,!1);P(this,ho,t.bitmapUrl),P(this,ba,t.bitmapFile)}static initialize(t,n){xt.initialize(t,n)}static get supportedTypes(){return Ze(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Ze(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(ze.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:o,height:l}=t||this.copyCanvas(null,null,!0).imageData,u=await i.guess({name:"altText",request:{data:r,width:o,height:l,channels:r.length/(o*l)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const d=u.output;return await this.setGuessedAltText(d),n&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}remove(){var t,n;m(this,Mn)&&(P(this,Bt,null),this._uiManager.imageManager.deleteId(m(this,Mn)),(t=m(this,wr))==null||t.remove(),P(this,wr,null),(n=m(this,fo))==null||n.disconnect(),P(this,fo,null),m(this,_r)&&(clearTimeout(m(this,_r)),P(this,_r,null))),super.remove()}rebuild(){if(!this.parent){m(this,Mn)&&L(this,Qe,r0).call(this);return}super.rebuild(),this.div!==null&&(m(this,Mn)&&m(this,wr)===null&&L(this,Qe,r0).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(m(this,ya)||m(this,Bt)||m(this,ho)||m(this,ba)||m(this,Mn))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),m(this,Bt)?L(this,Qe,w1).call(this):L(this,Qe,r0).call(this),this.width&&!this.annotationElementId){const[i,r]=this.parentDimensions;this.setAt(t*i,n*r,this.width*i,this.height*r)}return this.div}copyCanvas(t,n,i=!1){var y;t||(t=224);const{width:r,height:o}=m(this,Bt),l=new gb;let u=m(this,Bt),d=r,f=o,g=null;if(n){if(r>n||o>n){const F=Math.min(n/r,n/o);d=Math.floor(r*F),f=Math.floor(o*F)}g=document.createElement("canvas");const b=g.width=Math.ceil(d*l.sx),w=g.height=Math.ceil(f*l.sy);m(this,Ws)||(u=L(this,Qe,o0).call(this,b,w));const S=g.getContext("2d");S.filter=this._uiManager.hcmFilter;let C="white",j="#cfcfd8";this._uiManager.hcmFilter!=="none"?j="black":(y=window.matchMedia)!=null&&y.call(window,"(prefers-color-scheme: dark)").matches&&(C="#8f8f9d",j="#42414d");const A=15,k=A*l.sx,T=A*l.sy,I=new OffscreenCanvas(k*2,T*2),M=I.getContext("2d");M.fillStyle=C,M.fillRect(0,0,k*2,T*2),M.fillStyle=j,M.fillRect(0,0,k,T),M.fillRect(k,T,k,T),S.fillStyle=S.createPattern(I,"repeat"),S.fillRect(0,0,b,w),S.drawImage(u,0,0,u.width,u.height,0,0,b,w)}let x=null;if(i){let b,w;if(l.symmetric&&u.width<t&&u.height<t)b=u.width,w=u.height;else if(u=m(this,Bt),r>t||o>t){const j=Math.min(t/r,t/o);b=Math.floor(r*j),w=Math.floor(o*j),m(this,Ws)||(u=L(this,Qe,o0).call(this,b,w))}const C=new OffscreenCanvas(b,w).getContext("2d",{willReadFrequently:!0});C.drawImage(u,0,0,u.width,u.height,0,0,b,w),x={width:b,height:w,data:C.getImageData(0,0,b,w).data}}return{canvas:g,width:d,height:f,imageData:x}}getImageForAltText(){return m(this,wr)}static async deserialize(t,n,i){var w;let r=null;if(t instanceof lN){const{data:{rect:S,rotation:C,id:j,structParent:A,popupRef:k},container:T,parent:{page:{pageNumber:I}}}=t,M=T.querySelector("canvas"),F=i.imageManager.getFromCanvas(T.id,M);M.remove();const B=((w=await n._structTree.getAriaAttributes(`${hw}${j}`))==null?void 0:w.get("aria-label"))||"";r=t={annotationType:ze.STAMP,bitmapId:F.id,bitmap:F.bitmap,pageIndex:I-1,rect:S.slice(0),rotation:C,id:j,deleted:!1,accessibilityData:{decorative:!1,altText:B},isSvg:!1,structParent:A,popupRef:k}}const o=await super.deserialize(t,n,i),{rect:l,bitmap:u,bitmapUrl:d,bitmapId:f,isSvg:g,accessibilityData:x}=t;f&&i.imageManager.isValidId(f)?(P(o,Mn,f),u&&P(o,Bt,u)):P(o,ho,d),P(o,Ws,g);const[y,b]=o.pageDimensions;return o.width=(l[2]-l[0])/y,o.height=(l[3]-l[1])/b,o.annotationElementId=t.id||null,x&&(o.altTextData=x),o._initialData=r,P(o,ud,!!r),o}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:ze.STAMP,bitmapId:m(this,Mn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:m(this,Ws),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=L(this,Qe,a0).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:r,altText:o}=this.serializeAltText(!1);if(!r&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const u=L(this,Qe,QN).call(this,i);if(u.isSame)return null;u.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,n===null)return i;n.stamps||(n.stamps=new Map);const l=m(this,Ws)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(m(this,Mn)))n.stamps.set(m(this,Mn),{area:l,serialized:i}),i.bitmap=L(this,Qe,a0).call(this,!1);else if(m(this,Ws)){const u=n.stamps.get(m(this,Mn));l>u.area&&(u.area=l,u.serialized.bitmap.close(),u.serialized.bitmap=L(this,Qe,a0).call(this,!1))}return i}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};Bt=new WeakMap,Mn=new WeakMap,ya=new WeakMap,ho=new WeakMap,ba=new WeakMap,cd=new WeakMap,wr=new WeakMap,fo=new WeakMap,_r=new WeakMap,Ws=new WeakMap,ud=new WeakMap,Qe=new WeakSet,Hh=function(t,n=!1){if(!t){this.remove();return}P(this,Bt,t.bitmap),n||(P(this,Mn,t.id),P(this,Ws,t.isSvg)),t.file&&P(this,cd,t.file.name),L(this,Qe,w1).call(this)},Vh=function(){if(P(this,ya,null),this._uiManager.enableWaiting(!1),!!m(this,wr)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,Bt)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,Bt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},r0=function(){if(m(this,Mn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(m(this,Mn)).then(i=>L(this,Qe,Hh).call(this,i,!0)).finally(()=>L(this,Qe,Vh).call(this));return}if(m(this,ho)){const i=m(this,ho);P(this,ho,null),this._uiManager.enableWaiting(!0),P(this,ya,this._uiManager.imageManager.getFromUrl(i).then(r=>L(this,Qe,Hh).call(this,r)).finally(()=>L(this,Qe,Vh).call(this)));return}if(m(this,ba)){const i=m(this,ba);P(this,ba,null),this._uiManager.enableWaiting(!0),P(this,ya,this._uiManager.imageManager.getFromFile(i).then(r=>L(this,Qe,Hh).call(this,r)).finally(()=>L(this,Qe,Vh).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Qh.supportedTypesStr;const n=this._uiManager._signal;P(this,ya,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),L(this,Qe,Hh).call(this,r)}i()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>L(this,Qe,Vh).call(this))),t.click()},w1=function(){const{div:t}=this;let{width:n,height:i}=m(this,Bt);const[r,o]=this.pageDimensions,l=.75;if(this.width)n=this.width*r,i=this.height*o;else if(n>l*r||i>l*o){const g=Math.min(l*r/n,l*o/i);n*=g,i*=g}const[u,d]=this.parentDimensions;this.setDims(n*u/r,i*d/o),this._uiManager.enableWaiting(!1);const f=P(this,wr,document.createElement("canvas"));f.setAttribute("role","img"),this.addContainer(f),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),L(this,Qe,_1).call(this,n,i),L(this,Qe,JN).call(this),m(this,ud)||(this.parent.addUndoableEditor(this),P(this,ud,!0)),this._reportTelemetry({action:"inserted_image"}),m(this,cd)&&f.setAttribute("aria-label",m(this,cd))},YN=function(t,n){var l;const[i,r]=this.parentDimensions;this.width=t/i,this.height=n/r,(l=this._initialOptions)!=null&&l.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,m(this,_r)!==null&&clearTimeout(m(this,_r)),P(this,_r,setTimeout(()=>{P(this,_r,null),L(this,Qe,_1).call(this,t,n)},200))},o0=function(t,n){const{width:i,height:r}=m(this,Bt);let o=i,l=r,u=m(this,Bt);for(;o>2*t||l>2*n;){const d=o,f=l;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*n&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const g=new OffscreenCanvas(o,l);g.getContext("2d").drawImage(u,0,0,d,f,0,0,o,l),u=g.transferToImageBitmap()}return u},_1=function(t,n){const i=new gb,r=Math.ceil(t*i.sx),o=Math.ceil(n*i.sy),l=m(this,wr);if(!l||l.width===r&&l.height===o)return;l.width=r,l.height=o;const u=m(this,Ws)?m(this,Bt):L(this,Qe,o0).call(this,r,o),d=l.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(u,0,0,u.width,u.height,0,0,r,o)},a0=function(t){if(t){if(m(this,Ws)){const r=this._uiManager.imageManager.getSvgUrl(m(this,Mn));if(r)return r}const n=document.createElement("canvas");return{width:n.width,height:n.height}=m(this,Bt),n.getContext("2d").drawImage(m(this,Bt),0,0),n.toDataURL()}if(m(this,Ws)){const[n,i]=this.pageDimensions,r=Math.round(this.width*n*Pa.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Pa.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(r,o);return l.getContext("2d").drawImage(m(this,Bt),0,0,m(this,Bt).width,m(this,Bt).height,0,0,r,o),l.transferToImageBitmap()}return structuredClone(m(this,Bt))},JN=function(){this._uiManager._signal&&(P(this,fo,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&L(this,Qe,YN).call(this,n.width,n.height)})),m(this,fo).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=m(this,fo))==null||t.disconnect(),P(this,fo,null)},{once:!0}))},QN=function(t){var d;const{rect:n,pageIndex:i,accessibilityData:{altText:r}}=this._initialData,o=t.rect.every((f,g)=>Math.abs(f-n[g])<1),l=t.pageIndex===i,u=(((d=t.accessibilityData)==null?void 0:d.alt)||"")===r;return{isSame:o&&l&&u,isSameAltText:u}},ae(Qh,"_type","stamp"),ae(Qh,"_editorType",ze.STAMP);let b1=Qh;var uc,dd,Sr,wa,po,qs,_a,hd,fd,Kn,mo,je,Sa,On,ZN,C1,E1,A1,l0;const Ri=class Ri{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:i,accessibilityManager:r,annotationLayer:o,drawLayer:l,textLayer:u,viewport:d,l10n:f}){D(this,On);D(this,uc);D(this,dd,!1);D(this,Sr,null);D(this,wa,null);D(this,po,null);D(this,qs,new Map);D(this,_a,!1);D(this,hd,!1);D(this,fd,!1);D(this,Kn,null);D(this,mo,null);D(this,je);const g=[...m(Ri,Sa).values()];if(!Ri._initialized){Ri._initialized=!0;for(const x of g)x.initialize(f,e)}e.registerEditorTypes(g),P(this,je,e),this.pageIndex=t,this.div=n,P(this,uc,r),P(this,Sr,o),this.viewport=d,P(this,Kn,u),this.drawLayer=l,this._structTree=i,m(this,je).addLayer(this)}get isEmpty(){return m(this,qs).size===0}get isInvisible(){return this.isEmpty&&m(this,je).getMode()===ze.NONE}updateToolbar(e){m(this,je).updateToolbar(e)}updateMode(e=m(this,je).getMode()){switch(L(this,On,l0).call(this),e){case ze.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ze.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case ze.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of m(Ri,Sa).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=m(this,Kn))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(m(this,je).getMode()!==ze.INK)return;if(!e){for(const n of m(this,qs).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){m(this,je).setEditingState(e)}addCommands(e){m(this,je).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=m(this,Sr))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of m(this,qs).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(m(this,je).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!m(this,Sr))return;const t=m(this,Sr).getEditableAnnotations();for(const n of t){if(n.hide(),m(this,je).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const i=await this.deserialize(n);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;P(this,fd,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const r of m(this,qs).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){e.set(r.annotationElementId,r);continue}else t.set(r.annotationElementId,r);(i=this.getEditableAnnotation(r.annotationElementId))==null||i.show(),r.remove()}if(m(this,Sr)){const r=m(this,Sr).getEditableAnnotations();for(const o of r){const{id:l}=o.data;if(m(this,je).isDeletedAnnotationElement(l))continue;let u=t.get(l);if(u){u.resetAnnotationElement(o),u.show(!1),o.show();continue}u=e.get(l),u&&(m(this,je).addChangedExistingAnnotation(u),u.renderAnnotationElement(o)&&u.show(!1)),o.show()}}L(this,On,l0).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const r of m(Ri,Sa).values())n.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),P(this,fd,!1)}getEditableAnnotation(e){var t;return((t=m(this,Sr))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){m(this,je).getActive()!==e&&m(this,je).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=m(this,Kn))!=null&&e.div&&!m(this,mo)){P(this,mo,new AbortController);const t=m(this,je).combinedSignal(m(this,mo));m(this,Kn).div.addEventListener("pointerdown",L(this,On,ZN).bind(this),{signal:t}),m(this,Kn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=m(this,Kn))!=null&&e.div&&m(this,mo)&&(m(this,mo).abort(),P(this,mo,null),m(this,Kn).div.classList.remove("highlighting"))}enableClick(){if(m(this,wa))return;P(this,wa,new AbortController);const e=m(this,je).combinedSignal(m(this,wa));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=m(this,wa))==null||e.abort(),P(this,wa,null)}attach(e){m(this,qs).set(e.id,e);const{annotationElementId:t}=e;t&&m(this,je).isDeletedAnnotationElement(t)&&m(this,je).removeDeletedAnnotationElement(e)}detach(e){var t;m(this,qs).delete(e.id),(t=m(this,uc))==null||t.removePointerInTextLayer(e.contentDiv),!m(this,fd)&&e.annotationElementId&&m(this,je).addDeletedAnnotationElement(e)}remove(e){this.detach(e),m(this,je).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,m(this,hd)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(m(this,je).addDeletedAnnotationElement(e.annotationElementId),xt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),m(this,je).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),m(this,je).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!m(this,po)&&(e._focusEventsAllowed=!1,P(this,po,setTimeout(()=>{P(this,po,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:m(this,je)._signal}),t.focus())},0))),e._structTreeParentId=(n=m(this,uc))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return m(this,je).getId()}combinedSignal(e){return m(this,je).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=m(this,On,C1))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){m(this,je).updateToolbar(e),m(this,je).updateMode(e);const{offsetX:n,offsetY:i}=L(this,On,A1).call(this),r=this.getNextId(),o=L(this,On,E1).call(this,{parent:this,id:r,x:n,y:i,uiManager:m(this,je),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=m(Ri,Sa).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,m(this,je)))||null}createAndAddNewEditor(e,t,n={}){const i=this.getNextId(),r=L(this,On,E1).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:m(this,je),isCentered:t,...n});return r&&this.add(r),r}addNewEditor(){this.createAndAddNewEditor(L(this,On,A1).call(this),!0)}setSelected(e){m(this,je).setSelected(e)}toggleSelected(e){m(this,je).toggleSelected(e)}unselect(e){m(this,je).unselect(e)}pointerup(e){const{isMac:t}=ds.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&m(this,_a)){if(P(this,_a,!1),!m(this,dd)){P(this,dd,!0);return}if(m(this,je).getMode()===ze.STAMP){m(this,je).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(m(this,je).getMode()===ze.HIGHLIGHT&&this.enableTextSelection(),m(this,_a)){P(this,_a,!1);return}const{isMac:t}=ds.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;P(this,_a,!0);const n=m(this,je).getActive();P(this,dd,!n||n.isEmpty())}findNewParent(e,t,n){const i=m(this,je).findParent(t,n);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=m(this,je).getActive())==null?void 0:e.parent)===this&&(m(this,je).commitOrRemove(),m(this,je).setActiveEditor(null)),m(this,po)&&(clearTimeout(m(this,po)),P(this,po,null));for(const n of m(this,qs).values())(t=m(this,uc))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,m(this,qs).clear(),m(this,je).removeLayer(this)}render({viewport:e}){this.viewport=e,gc(this.div,e);for(const t of m(this,je).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){m(this,je).commitOrRemove(),L(this,On,l0).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,gc(this.div,{rotation:n}),t!==n)for(const i of m(this,qs).values())i.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return m(this,je).viewParameters.realScale}};uc=new WeakMap,dd=new WeakMap,Sr=new WeakMap,wa=new WeakMap,po=new WeakMap,qs=new WeakMap,_a=new WeakMap,hd=new WeakMap,fd=new WeakMap,Kn=new WeakMap,mo=new WeakMap,je=new WeakMap,Sa=new WeakMap,On=new WeakSet,ZN=function(e){m(this,je).unselectAll();const{target:t}=e;if(t===m(this,Kn).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&m(this,Kn).div.contains(t)){const{isMac:n}=ds.platform;if(e.button!==0||e.ctrlKey&&n)return;m(this,je).showAllEditors("highlight",!0,!0),m(this,Kn).div.classList.add("free"),this.toggleDrawing(),T0.startHighlighting(this,m(this,je).direction==="ltr",{target:m(this,Kn).div,x:e.x,y:e.y}),m(this,Kn).div.addEventListener("pointerup",()=>{m(this,Kn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:m(this,je)._signal}),e.preventDefault()}},C1=function(){return m(Ri,Sa).get(m(this,je).getMode())},E1=function(e){const t=m(this,On,C1);return t?new t.prototype.constructor(e):null},A1=function(){const{x:e,y:t,width:n,height:i}=this.div.getBoundingClientRect(),r=Math.max(0,e),o=Math.max(0,t),l=Math.min(window.innerWidth,e+n),u=Math.min(window.innerHeight,t+i),d=(r+l)/2-e,f=(o+u)/2-t,[g,x]=this.viewport.rotation%180===0?[d,f]:[f,d];return{offsetX:g,offsetY:x}},l0=function(){P(this,hd,!0);for(const e of m(this,qs).values())e.isEmpty()&&e.remove();P(this,hd,!1)},ae(Ri,"_initialized",!1),D(Ri,Sa,new Map([n1,d1,b1,T0].map(e=>[e._editorType,e])));let S1=Ri;var Cr,jp,nn,go,Np,j1,wc,N1,eT;const Rn=class Rn{constructor({pageIndex:e}){D(this,wc);D(this,Cr,null);D(this,jp,0);D(this,nn,new Map);D(this,go,new Map);this.pageIndex=e}setParent(e){if(!m(this,Cr)){P(this,Cr,e);return}if(m(this,Cr)!==e){if(m(this,nn).size>0)for(const t of m(this,nn).values())t.remove(),e.append(t);P(this,Cr,e)}}static get _svgFactory(){return Ze(this,"_svgFactory",new _w)}draw(e,t,n,i=!1){const r=is(this,jp)._++,o=L(this,wc,N1).call(this,e.box);o.classList.add(...e.classNamesForDrawing);const l=Rn._svgFactory.createElement("defs");o.append(l);const u=Rn._svgFactory.createElement("path");l.append(u);const d=`path_p${this.pageIndex}_${r}`;u.setAttribute("id",d),u.setAttribute("d",e.toSVGPath()),i&&m(this,go).set(r,u);const f=L(this,wc,eT).call(this,l,d),g=Rn._svgFactory.createElement("use");return o.append(g),o.setAttribute("fill",t),o.setAttribute("fill-opacity",n),g.setAttribute("href",`#${d}`),m(this,nn).set(r,o),{id:r,clipPathId:`url(#${f})`}}drawOutline(e){const t=is(this,jp)._++,n=L(this,wc,N1).call(this,e.box);n.classList.add(...e.classNamesForOutlining);const i=Rn._svgFactory.createElement("defs");n.append(i);const r=Rn._svgFactory.createElement("path");i.append(r);const o=`path_p${this.pageIndex}_${t}`;r.setAttribute("id",o),r.setAttribute("d",e.toSVGPath()),r.setAttribute("vector-effect","non-scaling-stroke");let l;if(e.mustRemoveSelfIntersections){const f=Rn._svgFactory.createElement("mask");i.append(f),l=`mask_p${this.pageIndex}_${t}`,f.setAttribute("id",l),f.setAttribute("maskUnits","objectBoundingBox");const g=Rn._svgFactory.createElement("rect");f.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const x=Rn._svgFactory.createElement("use");f.append(x),x.setAttribute("href",`#${o}`),x.setAttribute("stroke","none"),x.setAttribute("fill","black"),x.setAttribute("fill-rule","nonzero"),x.classList.add("mask")}const u=Rn._svgFactory.createElement("use");n.append(u),u.setAttribute("href",`#${o}`),l&&u.setAttribute("mask",`url(#${l})`);const d=u.cloneNode();return n.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),m(this,nn).set(t,n),t}finalizeLine(e,t){const n=m(this,go).get(e);m(this,go).delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){m(this,nn).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){m(this,go).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var n;L(n=Rn,Np,j1).call(n,m(this,nn).get(e),t)}show(e,t){m(this,nn).get(e).classList.toggle("hidden",!t)}rotate(e,t){m(this,nn).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){m(this,nn).get(e).setAttribute("fill",t)}changeOpacity(e,t){m(this,nn).get(e).setAttribute("fill-opacity",t)}addClass(e,t){m(this,nn).get(e).classList.add(t)}removeClass(e,t){m(this,nn).get(e).classList.remove(t)}getSVGRoot(e){return m(this,nn).get(e)}remove(e){m(this,go).delete(e),m(this,Cr)!==null&&(m(this,nn).get(e).remove(),m(this,nn).delete(e))}destroy(){P(this,Cr,null);for(const e of m(this,nn).values())e.remove();m(this,nn).clear(),m(this,go).clear()}};Cr=new WeakMap,jp=new WeakMap,nn=new WeakMap,go=new WeakMap,Np=new WeakSet,j1=function(e,{x:t=0,y:n=0,width:i=1,height:r=1}={}){const{style:o}=e;o.top=`${100*n}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*r}%`},wc=new WeakSet,N1=function(e){var n;const t=Rn._svgFactory.create(1,1,!0);return m(this,Cr).append(t),t.setAttribute("aria-hidden",!0),L(n=Rn,Np,j1).call(n,t,e),t},eT=function(e,t){const n=Rn._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const r=Rn._svgFactory.createElement("use");return n.append(r),r.setAttribute("href",`#${t}`),r.classList.add("clip"),i},D(Rn,Np);let k1=Rn;var tz=De.AbortException,nz=De.AnnotationEditorLayer,sz=De.AnnotationEditorParamsType,iz=De.AnnotationEditorType,rz=De.AnnotationEditorUIManager,tT=De.AnnotationLayer,nT=De.AnnotationMode,oz=De.ColorPicker,az=De.DOMSVGFactory,lz=De.DrawLayer,cz=De.FeatureTest,Cw=De.GlobalWorkerOptions,uz=De.ImageKind,dz=De.InvalidPDFException,hz=De.MissingPDFException,fz=De.OPS,pz=De.OutputScale,mz=De.PDFDataRangeTransport,gz=De.PDFDateString,xz=De.PDFWorker,vz=De.PasswordResponses,yz=De.PermissionFlag,bz=De.PixelsPerInch,wz=De.RenderingCancelledException,sT=De.TextLayer,_z=De.UnexpectedResponseException,Sz=De.Util,Cz=De.VerbosityLevel,Ez=De.XfaLayer,Az=De.build,kz=De.createValidAbsoluteUrl,jz=De.fetchData,iT=De.getDocument,Nz=De.getFilenameFromUrl,Tz=De.getPdfFilenameFromUrl,Pz=De.getXfaPageViewport,Rz=De.isDataScheme,Lz=De.isPdfFile,Iz=De.noContextMenu,Mz=De.normalizeUnicode,Dz=De.setLayerDimensions,Fz=De.shadow,Oz=De.version;const zz=Object.freeze(Object.defineProperty({__proto__:null,AbortException:tz,AnnotationEditorLayer:nz,AnnotationEditorParamsType:sz,AnnotationEditorType:iz,AnnotationEditorUIManager:rz,AnnotationLayer:tT,AnnotationMode:nT,ColorPicker:oz,DOMSVGFactory:az,DrawLayer:lz,FeatureTest:cz,GlobalWorkerOptions:Cw,ImageKind:uz,InvalidPDFException:dz,MissingPDFException:hz,OPS:fz,OutputScale:pz,PDFDataRangeTransport:mz,PDFDateString:gz,PDFWorker:xz,PasswordResponses:vz,PermissionFlag:yz,PixelsPerInch:bz,RenderingCancelledException:wz,TextLayer:sT,UnexpectedResponseException:_z,Util:Sz,VerbosityLevel:Cz,XfaLayer:Ez,build:Az,createValidAbsoluteUrl:kz,fetchData:jz,getDocument:iT,getFilenameFromUrl:Nz,getPdfFilenameFromUrl:Tz,getXfaPageViewport:Pz,isDataScheme:Rz,isPdfFile:Lz,noContextMenu:Iz,normalizeUnicode:Mz,setLayerDimensions:Dz,shadow:Fz,version:Oz},Symbol.toStringTag,{value:"Module"}));var _n=function(s,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,r;n<i;n++)(r||!(n in e))&&(r||(r=Array.prototype.slice.call(e,0,n)),r[n]=e[n]);return s.concat(r||Array.prototype.slice.call(e))},Bz=["onCopy","onCut","onPaste"],Hz=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Vz=["onFocus","onBlur"],$z=["onInput","onInvalid","onReset","onSubmit"],Uz=["onLoad","onError"],Wz=["onKeyDown","onKeyPress","onKeyUp"],qz=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Gz=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Xz=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],Kz=["onSelect"],Yz=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Jz=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Qz=["onScroll"],Zz=["onWheel"],eB=["onAnimationStart","onAnimationEnd","onAnimationIteration"],tB=["onTransitionEnd"],nB=["onToggle"],sB=["onChange"],iB=_n(_n(_n(_n(_n(_n(_n(_n(_n(_n(_n(_n(_n(_n(_n(_n(_n(_n([],Bz,!0),Hz,!0),Vz,!0),$z,!0),Uz,!0),Wz,!0),qz,!0),Gz,!0),Xz,!0),Kz,!0),Yz,!0),Jz,!0),Qz,!0),Zz,!0),eB,!0),tB,!0),sB,!0),nB,!0);function rT(s,e){var t={};return iB.forEach(function(n){var i=s[n];i&&(e?t[n]=function(r){return i(r,e(n))}:t[n]=i)}),t}function Up(s){var e=!1,t=new Promise(function(n,i){s.then(function(r){return!e&&n(r)}).catch(function(r){return!e&&i(r)})});return{promise:t,cancel:function(){e=!0}}}var rB="Invariant failed";function St(s,e){if(!s)throw new Error(rB)}var Hy,FA;function oB(){if(FA)return Hy;FA=1;var s=function(){};return Hy=s,Hy}var aB=oB();const Jn=Tp(aB);var OA=Object.prototype.hasOwnProperty;function zA(s,e,t){for(t of s.keys())if(pu(t,e))return t}function pu(s,e){var t,n,i;if(s===e)return!0;if(s&&e&&(t=s.constructor)===e.constructor){if(t===Date)return s.getTime()===e.getTime();if(t===RegExp)return s.toString()===e.toString();if(t===Array){if((n=s.length)===e.length)for(;n--&&pu(s[n],e[n]););return n===-1}if(t===Set){if(s.size!==e.size)return!1;for(n of s)if(i=n,i&&typeof i=="object"&&(i=zA(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(s.size!==e.size)return!1;for(n of s)if(i=n[0],i&&typeof i=="object"&&(i=zA(e,i),!i)||!pu(n[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)s=new Uint8Array(s),e=new Uint8Array(e);else if(t===DataView){if((n=s.byteLength)===e.byteLength)for(;n--&&s.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(s)){if((n=s.byteLength)===e.byteLength)for(;n--&&s[n]===e[n];);return n===-1}if(!t||typeof s=="object"){n=0;for(t in s)if(OA.call(s,t)&&++n&&!OA.call(e,t)||!(t in e)||!pu(s[t],e[t]))return!1;return Object.keys(e).length===n}}return s!==s&&e!==e}const oT=N.createContext(null);function mu({children:s,type:e}){return h.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:s})}const lB="noopener noreferrer nofollow";class cB{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return St(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){St(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{St(this.pdfDocument),St(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{St(Array.isArray(t));const n=t[0];new Promise(i=>{St(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(r=>{i(r)}).catch(()=>{St(!1)}):typeof n=="number"?i(n):St(!1)}).then(i=>{const r=i+1;St(this.pdfViewer),St(r>=1&&r<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:r})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;St(this.pdfViewer),St(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||lB,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const BA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},gx=typeof window<"u",aT=gx&&window.location.protocol==="file:";function uB(s){return typeof s<"u"}function sl(s){return uB(s)&&s!==null}function dB(s){return typeof s=="string"}function hB(s){return s instanceof ArrayBuffer}function fB(s){return St(gx),s instanceof Blob}function T1(s){return dB(s)&&/^data:/.test(s)}function HA(s){St(T1(s));const[e="",t=""]=s.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function pB(){return gx&&window.devicePixelRatio||1}const lT="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function VA(){Jn(!aT,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${lT}`)}function mB(){Jn(!aT,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${lT}`)}function yc(s){s!=null&&s.cancel&&s.cancel()}function P1(s,e){return Object.defineProperty(s,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(s,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(s,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(s,"originalHeight",{get(){return this.view[3]},configurable:!0}),s}function gB(s){return s.name==="RenderingCancelledException"}function xB(s){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:r}=i.target;if(!r)return t(new Error("Error while reading a file."));switch(r.code){case r.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case r.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case r.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(s)})}function vB(s,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return s}}function vd(){return N.useReducer(vB,{value:void 0,error:void 0})}var yB=function(s,e,t,n){function i(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function l(f){try{d(n.next(f))}catch(g){o(g)}}function u(f){try{d(n.throw(f))}catch(g){o(g)}}function d(f){f.done?r(f.value):i(f.value).then(l,u)}d((n=n.apply(s,e||[])).next())})},$A=function(s,e){var t={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&e.indexOf(n)<0&&(t[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(s);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(s,n[i])&&(t[n[i]]=s[n[i]]);return t};const{PDFDataRangeTransport:bB}=zz,wB=(s,e)=>{switch(e){case BA.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");s(t);break}case BA.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");s(t);break}}};function UA(s){return typeof s=="object"&&s!==null&&("data"in s||"range"in s||"url"in s)}const _B=N.forwardRef(function(e,t){var{children:n,className:i,error:r="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:l,file:u,inputRef:d,imageResourcesPath:f,loading:g="Loading PDF…",noData:x="No PDF file specified.",onItemClick:y,onLoadError:b,onLoadProgress:w,onLoadSuccess:S,onPassword:C=wB,onSourceError:j,onSourceSuccess:A,options:k,renderMode:T,rotate:I}=e,M=$A(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[F,B]=vd(),{value:O,error:W}=F,[J,ie]=vd(),{value:se,error:$}=J,ee=N.useRef(new cB),V=N.useRef([]),G=N.useRef(void 0),X=N.useRef(void 0);u&&u!==G.current&&UA(u)&&(Jn(!pu(u,G.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),G.current=u),k&&k!==X.current&&(Jn(!pu(k,X.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),X.current=k);const ne=N.useRef({scrollPageIntoView:We=>{const{dest:nt,pageNumber:Ct,pageIndex:ot=Ct-1}=We;if(y){y({dest:nt,pageIndex:ot,pageNumber:Ct});return}const Ne=V.current[ot];if(Ne){Ne.scrollIntoView();return}Jn(!1,`An internal link leading to page ${Ct} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});N.useImperativeHandle(t,()=>({linkService:ee,pages:V,viewer:ne}),[]);function H(){A&&A()}function Y(){W&&(Jn(!1,W.toString()),j&&j(W))}function ce(){B({type:"RESET"})}N.useEffect(ce,[u,B]);const fe=N.useCallback(()=>yB(this,void 0,void 0,function*(){if(!u)return null;if(typeof u=="string")return T1(u)?{data:HA(u)}:(VA(),{url:u});if(u instanceof bB)return{range:u};if(hB(u))return{data:u};if(gx&&fB(u))return{data:yield xB(u)};if(St(typeof u=="object"),St(UA(u)),"url"in u&&typeof u.url=="string"){if(T1(u.url)){const{url:We}=u,nt=$A(u,["url"]),Ct=HA(We);return Object.assign({data:Ct},nt)}VA()}return u}),[u]);N.useEffect(()=>{const We=Up(fe());return We.promise.then(nt=>{B({type:"RESOLVE",value:nt})}).catch(nt=>{B({type:"REJECT",error:nt})}),()=>{yc(We)}},[fe,B]),N.useEffect(()=>{if(!(typeof O>"u")){if(O===!1){Y();return}H()}},[O]);function ye(){se&&(S&&S(se),V.current=new Array(se.numPages),ee.current.setDocument(se))}function de(){$&&(Jn(!1,$.toString()),b&&b($))}N.useEffect(function(){ie({type:"RESET"})},[ie,O]),N.useEffect(function(){if(!O)return;const nt=k?Object.assign(Object.assign({},O),k):O,Ct=iT(nt);w&&(Ct.onProgress=w),C&&(Ct.onPassword=C);const ot=Ct,Ne=ot.promise.then($e=>{ie({type:"RESOLVE",value:$e})}).catch($e=>{ot.destroyed||ie({type:"REJECT",error:$e})});return()=>{Ne.finally(()=>ot.destroy())}},[k,ie,O]),N.useEffect(()=>{if(!(typeof se>"u")){if(se===!1){de();return}ye()}},[se]),N.useEffect(function(){ee.current.setViewer(ne.current),ee.current.setExternalLinkRel(o),ee.current.setExternalLinkTarget(l)},[o,l]);const xe=N.useCallback((We,nt)=>{V.current[We]=nt},[]),ke=N.useCallback(We=>{delete V.current[We]},[]),Me=N.useMemo(()=>({imageResourcesPath:f,linkService:ee.current,onItemClick:y,pdf:se,registerPage:xe,renderMode:T,rotate:I,unregisterPage:ke}),[f,y,se,xe,T,I,ke]),Re=N.useMemo(()=>rT(M,()=>se),[M,se]);function ht(){return h.jsx(oT.Provider,{value:Me,children:n})}function Zt(){return u?se==null?h.jsx(mu,{type:"loading",children:typeof g=="function"?g():g}):se===!1?h.jsx(mu,{type:"error",children:typeof r=="function"?r():r}):ht():h.jsx(mu,{type:"no-data",children:typeof x=="function"?x():x})}return h.jsx("div",Object.assign({className:mi("react-pdf__Document",i),ref:d,style:{"--scale-factor":"1"}},Re,{children:Zt()}))});function cT(){return N.useContext(oT)}function uT(){for(var s=[],e=0;e<arguments.length;e++)s[e]=arguments[e];var t=s.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(r){t.forEach(function(o){typeof o=="function"?o(r):o&&(o.current=r)})}}const dT=N.createContext(null),hT={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},SB=/^H(\d+)$/;function CB(s){return s in hT}function xx(s){return"children"in s}function fT(s){return xx(s)?s.children.length===1&&0 in s.children&&"id"in s.children[0]:!1}function EB(s){const e={};if(xx(s)){const{role:t}=s,n=t.match(SB);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(CB(t)){const i=hT[t];i&&(e.role=i)}}return e}function pT(s){const e={};if(xx(s)){if(s.alt!==void 0&&(e["aria-label"]=s.alt),s.lang!==void 0&&(e.lang=s.lang),fT(s)){const[t]=s.children;if(t){const n=pT(t);return Object.assign(Object.assign({},e),n)}}}else"id"in s&&(e["aria-owns"]=s.id);return e}function AB(s){return s?Object.assign(Object.assign({},EB(s)),pT(s)):null}function mT({className:s,node:e}){const t=N.useMemo(()=>AB(e),[e]),n=N.useMemo(()=>!xx(e)||fT(e)?null:e.children.map((i,r)=>h.jsx(mT,{node:i},r)),[e]);return h.jsx("span",Object.assign({className:s},t,{children:n}))}function vx(){return N.useContext(dT)}function kB(){const s=vx();St(s);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=s,[n,i]=vd(),{value:r,error:o}=n,{customTextRenderer:l,page:u}=s;function d(){r&&t&&t(r)}function f(){o&&(Jn(!1,o.toString()),e&&e(o))}return N.useEffect(function(){i({type:"RESET"})},[i,u]),N.useEffect(function(){if(l||!u)return;const x=Up(u.getStructTree()),y=x;return x.promise.then(b=>{i({type:"RESOLVE",value:b})}).catch(b=>{i({type:"REJECT",error:b})}),()=>yc(y)},[l,u,i]),N.useEffect(()=>{if(r!==void 0){if(r===!1){f();return}d()}},[r]),r?h.jsx(mT,{className:"react-pdf__Page__structTree structTree",node:r}):null}const WA=nT;function jB(s){const e=vx();St(e);const t=Object.assign(Object.assign({},e),s),{_className:n,canvasBackground:i,devicePixelRatio:r=pB(),onRenderError:o,onRenderSuccess:l,page:u,renderForms:d,renderTextLayer:f,rotate:g,scale:x}=t,{canvasRef:y}=s;St(u);const b=N.useRef(null);function w(){u&&l&&l(P1(u,x))}function S(k){gB(k)||(Jn(!1,k.toString()),o&&o(k))}const C=N.useMemo(()=>u.getViewport({scale:x*r,rotation:g}),[r,u,g,x]),j=N.useMemo(()=>u.getViewport({scale:x,rotation:g}),[u,g,x]);N.useEffect(function(){if(!u)return;u.cleanup();const{current:T}=b;if(!T)return;T.width=C.width,T.height=C.height,T.style.width=`${Math.floor(j.width)}px`,T.style.height=`${Math.floor(j.height)}px`,T.style.visibility="hidden";const I={annotationMode:d?WA.ENABLE_FORMS:WA.ENABLE,canvasContext:T.getContext("2d",{alpha:!1}),viewport:C};i&&(I.background=i);const M=u.render(I),F=M;return M.promise.then(()=>{T.style.visibility="",w()}).catch(S),()=>yc(F)},[i,u,d,C,j]);const A=N.useCallback(()=>{const{current:k}=b;k&&(k.width=0,k.height=0)},[]);return N.useEffect(()=>A,[A]),h.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:uT(y,b),style:{display:"block",userSelect:"none"},children:f?h.jsx(kB,{}):null})}function NB(s){return"str"in s}function TB(){const s=vx();St(s);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:i,onRenderTextLayerSuccess:r,page:o,pageIndex:l,pageNumber:u,rotate:d,scale:f}=s;St(o);const[g,x]=vd(),{value:y,error:b}=g,w=N.useRef(null);Jn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function S(){y&&n&&n(y)}function C(){b&&(Jn(!1,b.toString()),t&&t(b))}N.useEffect(function(){x({type:"RESET"})},[o,x]),N.useEffect(function(){if(!o)return;const F=Up(o.getTextContent()),B=F;return F.promise.then(O=>{x({type:"RESOLVE",value:O})}).catch(O=>{x({type:"REJECT",error:O})}),()=>yc(B)},[o,x]),N.useEffect(()=>{if(y!==void 0){if(y===!1){C();return}S()}},[y]);const j=N.useCallback(()=>{r&&r()},[r]),A=N.useCallback(M=>{Jn(!1,M.toString()),i&&i(M)},[i]);function k(){const M=w.current;M&&M.classList.add("selecting")}function T(){const M=w.current;M&&M.classList.remove("selecting")}const I=N.useMemo(()=>o.getViewport({scale:f,rotation:d}),[o,d,f]);return N.useLayoutEffect(function(){if(!o||!y)return;const{current:F}=w;if(!F)return;F.innerHTML="";const B=o.streamTextContent({includeMarkedContent:!0}),O={container:F,textContentSource:B,viewport:I},W=new sT(O),J=W;return W.render().then(()=>{const ie=document.createElement("div");ie.className="endOfContent",F.append(ie);const se=F.querySelectorAll('[role="presentation"]');if(e){let $=0;y.items.forEach((ee,V)=>{if(!NB(ee))return;const G=se[$];if(!G)return;const X=e(Object.assign({pageIndex:l,pageNumber:u,itemIndex:V},ee));G.innerHTML=X,$+=ee.str&&ee.hasEOL?2:1})}j()}).catch(A),()=>yc(J)},[e,A,j,o,l,u,y,I]),h.jsx("div",{className:mi("react-pdf__Page__textContent","textLayer"),onMouseUp:T,onMouseDown:k,ref:w})}function PB(){const s=cT(),e=vx();St(e);const t=Object.assign(Object.assign({},s),e),{imageResourcesPath:n,linkService:i,onGetAnnotationsError:r,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:u,page:d,pdf:f,renderForms:g,rotate:x,scale:y=1}=t;St(f),St(d),St(i);const[b,w]=vd(),{value:S,error:C}=b,j=N.useRef(null);Jn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function A(){S&&o&&o(S)}function k(){C&&(Jn(!1,C.toString()),r&&r(C))}N.useEffect(function(){w({type:"RESET"})},[w,d]),N.useEffect(function(){if(!d)return;const B=Up(d.getAnnotations()),O=B;return B.promise.then(W=>{w({type:"RESOLVE",value:W})}).catch(W=>{w({type:"REJECT",error:W})}),()=>{yc(O)}},[w,d]),N.useEffect(()=>{if(S!==void 0){if(S===!1){k();return}A()}},[S]);function T(){u&&u()}function I(F){Jn(!1,`${F}`),l&&l(F)}const M=N.useMemo(()=>d.getViewport({scale:y,rotation:x}),[d,x,y]);return N.useEffect(function(){if(!f||!d||!i||!S)return;const{current:B}=j;if(!B)return;const O=M.clone({dontFlip:!0}),W={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:B,l10n:null,page:d,structTreeLayer:null,viewport:O},J={annotations:S,annotationStorage:f.annotationStorage,div:B,imageResourcesPath:n,linkService:i,page:d,renderForms:g,viewport:O};B.innerHTML="";try{new tT(W).render(J),T()}catch(ie){I(ie)}return()=>{}},[S,n,i,d,f,g,M]),h.jsx("div",{className:mi("react-pdf__Page__annotations","annotationLayer"),ref:j})}var RB=function(s,e){var t={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&e.indexOf(n)<0&&(t[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(s);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(s,n[i])&&(t[n[i]]=s[n[i]]);return t};const qA=1;function LB(s){const e=cT(),t=Object.assign(Object.assign({},e),s),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:r,canvasRef:o,children:l,className:u,customRenderer:d,customTextRenderer:f,devicePixelRatio:g,error:x="Failed to load the page.",height:y,inputRef:b,loading:w="Loading page…",noData:S="No page specified.",onGetAnnotationsError:C,onGetAnnotationsSuccess:j,onGetStructTreeError:A,onGetStructTreeSuccess:k,onGetTextError:T,onGetTextSuccess:I,onLoadError:M,onLoadSuccess:F,onRenderAnnotationLayerError:B,onRenderAnnotationLayerSuccess:O,onRenderError:W,onRenderSuccess:J,onRenderTextLayerError:ie,onRenderTextLayerSuccess:se,pageIndex:$,pageNumber:ee,pdf:V,registerPage:G,renderAnnotationLayer:X=!0,renderForms:ne=!1,renderMode:H="canvas",renderTextLayer:Y=!0,rotate:ce,scale:fe=qA,unregisterPage:ye,width:de}=t,xe=RB(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[ke,Me]=vd(),{value:Re,error:ht}=ke,Zt=N.useRef(null);St(V);const We=sl(ee)?ee-1:$??null,nt=ee??(sl($)?$+1:null),Ct=ce??(Re?Re.rotate:null),ot=N.useMemo(()=>{if(!Re)return null;let Zs=1;const _i=fe??qA;if(de||y){const jr=Re.getViewport({scale:1,rotation:Ct});de?Zs=de/jr.width:y&&(Zs=y/jr.height)}return _i*Zs},[y,Re,Ct,fe,de]);N.useEffect(function(){return()=>{sl(We)&&i&&ye&&ye(We)}},[i,V,We,ye]);function Ne(){if(F){if(!Re||!ot)return;F(P1(Re,ot))}if(i&&G){if(!sl(We)||!Zt.current)return;G(We,Zt.current)}}function $e(){ht&&(Jn(!1,ht.toString()),M&&M(ht))}N.useEffect(function(){Me({type:"RESET"})},[Me,V,We]),N.useEffect(function(){if(!V||!nt)return;const _i=Up(V.getPage(nt)),jr=_i;return _i.promise.then(Si=>{Me({type:"RESOLVE",value:Si})}).catch(Si=>{Me({type:"REJECT",error:Si})}),()=>yc(jr)},[Me,V,nt]),N.useEffect(()=>{if(Re!==void 0){if(Re===!1){$e();return}Ne()}},[Re,ot]);const et=N.useMemo(()=>Re&&sl(We)&&nt&&sl(Ct)&&sl(ot)?{_className:n,canvasBackground:r,customTextRenderer:f,devicePixelRatio:g,onGetAnnotationsError:C,onGetAnnotationsSuccess:j,onGetStructTreeError:A,onGetStructTreeSuccess:k,onGetTextError:T,onGetTextSuccess:I,onRenderAnnotationLayerError:B,onRenderAnnotationLayerSuccess:O,onRenderError:W,onRenderSuccess:J,onRenderTextLayerError:ie,onRenderTextLayerSuccess:se,page:Re,pageIndex:We,pageNumber:nt,renderForms:ne,renderTextLayer:Y,rotate:Ct,scale:ot}:null,[n,r,f,g,C,j,A,k,T,I,B,O,W,J,ie,se,Re,We,nt,ne,Y,Ct,ot]),pe=N.useMemo(()=>rT(xe,()=>Re&&(ot?P1(Re,ot):void 0)),[xe,Re,ot]),Nt=`${We}@${ot}/${Ct}`;function ps(){switch(H){case"custom":return St(d),h.jsx(d,{},`${Nt}_custom`);case"none":return null;case"canvas":default:return h.jsx(jB,{canvasRef:o},`${Nt}_canvas`)}}function st(){return Y?h.jsx(TB,{},`${Nt}_text`):null}function Ji(){return X?h.jsx(PB,{},`${Nt}_annotations`):null}function ts(){return h.jsxs(dT.Provider,{value:et,children:[ps(),st(),Ji(),l]})}function Fa(){return nt?V===null||Re===void 0||Re===null?h.jsx(mu,{type:"loading",children:typeof w=="function"?w():w}):V===!1||Re===!1?h.jsx(mu,{type:"error",children:typeof x=="function"?x():x}):ts():h.jsx(mu,{type:"no-data",children:typeof S=="function"?S():S})}return h.jsx("div",Object.assign({className:mi(n,u),"data-page-number":nt,ref:uT(b,Zt),style:{"--scale-factor":`${ot}`,backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},pe,{children:Fa()}))}mB();Cw.workerSrc="pdf.worker.mjs";Cw.workerSrc=new URL("/assets/pdf.worker.min-GB3t0DcA.mjs",import.meta.url).toString();const IB=({fileUrl:s})=>{const[e,t]=N.useState(),[n,i]=N.useState(1),[r,o]=N.useState(!1),[l,u]=N.useState(550),d=N.useRef(null),f=({numPages:y})=>{t(y),i(1)},g=y=>{y.preventDefault(),n>1&&i(n-1)},x=y=>{y.preventDefault(),e&&n<e&&i(n+1)};return N.useEffect(()=>{const y=()=>{if(d.current){const b=d.current.clientWidth;u(b<=600?b:550)}};return y(),window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)}},[]),h.jsx("div",{ref:d,className:"w-full flex justify-center relative",children:h.jsxs(_B,{onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),file:s,className:"border-2 border-gray-400 rounded-[5px] overflow-hidden relative",error:h.jsx("p",{className:"text-neutral-700 m-2 mx-3",children:"Não foi possível acessar este documento"}),onLoadSuccess:f,loading:h.jsx("p",{className:"text-neutral-700 m-2 mx-3",children:"Carregando documento..."}),externalLinkRel:"noopener",externalLinkTarget:"_blank",children:[h.jsx(LB,{pageNumber:n,width:l,error:h.jsx("p",{className:"text-neutral-700 m-2 mx-3",children:"Não foi possível carregar esta página"}),loading:h.jsx("p",{className:"text-neutral-700 m-2 mx-3",children:"Carregando página..."})}),h.jsx("div",{className:`absolute bottom-3 left-1/2 transform -translate-x-1/2 transition-opacity duration-300 z-10 ${r?"opacity-100":"opacity-0"}`,children:h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("button",{type:"button",onClick:g,disabled:n<=1,className:"px-2 py-1 bg-neutral-800 text-white rounded disabled:bg-neutral-300 hover:bg-neutral-700",children:h.jsx(Y3,{})}),h.jsxs("span",{className:"text-sm",children:[n," de ",e||"?"]}),h.jsx("button",{type:"button",onClick:x,disabled:e?n>=e:!0,className:"px-2 py-1 bg-neutral-800 text-white rounded disabled:bg-neutral-300 hover:bg-neutral-700",children:h.jsx(J3,{})})]})})]})})},MB=({contract:s,isEditable:e,properties:t,lessors:n,renters:i,selectedPropertyId:r,selectedLessorId:o,selectedRenterId:l,isLoadingProperty:u,isLoadingLessor:d,isLoadingRenter:f,onInputChange:g,onValueChange:x,setSelectedPropertyId:y,setSelectedLessorId:b,setSelectedRenterId:w,handleSave:S})=>{const C=k=>{if(!s)return;const T=[...s.documentos];T.splice(k,1),x("documentos",T)};if(!s)return h.jsx("p",{children:"Contrato não encontrado."});console.log("Tipo de contract.documentos:",typeof(s==null?void 0:s.documentos)),console.log("Valor de contract.documentos:",s==null?void 0:s.documentos);const j=s!=null&&s.documentos?typeof s.documentos=="string"?[s.documentos]:s.documentos:[],A=k=>k?new Date(k).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}):"";return h.jsxs(h.Fragment,{children:[h.jsxs("h1",{className:"text-title font-strong mb-2",children:["Contrato: ",s==null?void 0:s.contratoId]}),h.jsxs("form",{className:"flex flex-col gap-5 border-2 border-neutral-500 p-4 rounded",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"rentalValue",children:"Valor do Aluguel:"}),h.jsx(Ys,{id:"rentalValue",name:"valorAluguel",placeholder:"R$ 0,00",decimalSeparator:",",groupSeparator:".",prefix:"R$ ",decimalsLimit:2,maxLength:9,value:(s==null?void 0:s.valorAluguel)||"",onValueChange:k=>x("valorAluguel",parseFloat(k||"0")),disabled:!e,className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm"})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{children:"Data de Início:"}),h.jsx("input",{type:"text",name:"dataInicio",value:A(s==null?void 0:s.dataInicio)||"",disabled:!0,className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm"})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"dataEncerramento",children:"Data de Encerramento:"}),h.jsx("input",{id:"dataEncerramento",type:"text",name:"dataEncerramento",value:A(s==null?void 0:s.dataEncerramento)||"",onChange:g,disabled:!e,className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm"})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"tipoGarantia",children:"Tipo de Garantia:"}),h.jsxs("select",{id:"tipoGarantia",name:"tipoGarantia",value:(s==null?void 0:s.tipoGarantia)||"",onChange:g,disabled:!e,className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm",children:[h.jsx("option",{value:"Caução",children:"Caução"}),h.jsx("option",{value:"Depósito",children:"Depósito"}),h.jsx("option",{value:"Fiador",children:"Fiador"}),h.jsx("option",{value:"Renovado",children:"Outro"})]})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"condicoesEspeciais",children:"Condições Especiais:"}),h.jsx("input",{id:"condicoesEspeciais",type:"text",name:"condicoesEspeciais",value:(s==null?void 0:s.condicoesEspeciais)||"",onChange:g,disabled:!e,className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm"})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"status",children:"Status:"}),h.jsxs("select",{id:"status",name:"status",value:(s==null?void 0:s.status)||"",onChange:g,disabled:!e,className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm",children:[h.jsx("option",{value:"Ativo",children:"Ativo"}),h.jsx("option",{value:"Encerrado",children:"Encerrado"}),h.jsx("option",{value:"Rescindido",children:"Rescindido"}),h.jsx("option",{value:"Renovado",children:"Renovado"})]})]}),(s==null?void 0:s.status)==="Rescindido"&&h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"dataRescisao",children:"Data de Rescisão:"}),h.jsx("input",{id:"dataRescisao",type:"date",name:"dataRescisao",value:A(s==null?void 0:s.dataRescisao)||new Date().toISOString().split("T")[0],onChange:g,disabled:!e,className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm"})]}),(s==null?void 0:s.status)==="Renovado"&&h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"dataEncerramentoRenovacao",children:"Data de Encerramento da Renovação:"}),h.jsx("input",{id:"dataEncerramentoRenovacao",type:"date",name:"dataEncerramentoRenovacao",value:A(s==null?void 0:s.dataEncerramentoRenovacao)||new Date().toISOString().split("T")[0],onChange:g,disabled:!e,className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm"})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"iptuValue",children:"IPTU:"}),h.jsx(Ys,{id:"iptuValue",name:"iptu",placeholder:"R$ 0,00",decimalSeparator:",",groupSeparator:".",prefix:"R$ ",decimalsLimit:2,maxLength:9,value:(s==null?void 0:s.iptu)||"",onValueChange:k=>x("iptu",parseFloat(k||"0")),disabled:!e,className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm"})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"dataPagamento",children:"Data de Pagamento:"}),h.jsx("input",{id:"dataPagamento",type:"text",name:"dataPagamento",value:A(s==null?void 0:s.dataPagamento)||"",onChange:g,disabled:!e,className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm"})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"adminFee",children:"Taxa Administrativa:"}),h.jsx(Ys,{id:"adminFee",name:"taxaAdm",placeholder:"R$ 0,00",decimalSeparator:",",groupSeparator:".",prefix:"R$ ",decimalsLimit:2,maxLength:9,value:(s==null?void 0:s.taxaAdm)||"",onValueChange:k=>x("taxaAdm",parseFloat(k||"0")),disabled:!e,className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm"})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"valorReajuste",children:"Valor de Reajuste:"}),h.jsx(Ys,{id:"valorReajuste",name:"valorReajuste",placeholder:"R$ 0,00",decimalSeparator:",",groupSeparator:".",prefix:"R$ ",decimalsLimit:2,maxLength:9,value:(s==null?void 0:s.valorReajuste)||"",onValueChange:k=>x("valorReajuste",parseFloat(k||"0")),disabled:!e,className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm"})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"dataPagamento",children:"Data de Reajuste:"}),h.jsx("input",{id:"dataReajuste",type:"text",name:"dataReajuste",value:A(s==null?void 0:s.DataReajuste)||"",onChange:g,disabled:!e,className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm"})]}),u&&h.jsx("p",{className:"text-sm text-neutral-500 mt-1",children:"Carregando..."}),h.jsxs("div",{children:[h.jsx("label",{children:"Imóvel"}),h.jsxs("select",{value:r||"",onChange:k=>y(k.target.value),className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm bg-white",children:[h.jsx("option",{value:"",children:"Selecione um imóvel"}),t.map(k=>h.jsxs("option",{value:k.imovelId,children:[k.nome||k.imovelId," "]},k.imovelId))]})]}),d&&h.jsx("p",{className:"text-sm text-neutral-500 mt-1",children:"Carregando..."}),h.jsxs("div",{children:[h.jsx("label",{children:"Locador"}),h.jsxs("select",{value:o||"",onChange:k=>b(k.target.value),className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm bg-white",children:[h.jsx("option",{value:"",children:"Selecione um locador"}),n.map(k=>h.jsx("option",{value:k.locadorId,children:k.nomeCompletoLessor||k.locadorId},k.locadorId))]})]}),f&&h.jsx("p",{className:"text-sm text-neutral-500 mt-1",children:"Carregando..."}),h.jsxs("div",{children:[h.jsx("label",{children:"Locatário"}),h.jsxs("select",{value:l||"",onChange:k=>w(k.target.value),className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm bg-white",children:[h.jsx("option",{value:"",children:"Selecione um locatário"}),i.map(k=>h.jsx("option",{value:k.locatarioId,children:k.nomeCompletoRenter||k.locatarioId},k.locatarioId))]})]}),h.jsxs("div",{className:"w-full",children:[h.jsx("h3",{children:"Documentos"}),j.length>0?j.map((k,T)=>h.jsxs("div",{className:"relative bg-gray-100 mt-3 p-2 flex flex-col items-center rounded-[.5rem]",children:[h.jsxs("h4",{className:"text-neutral-800 mb-4",children:["Documento ",T+1]}),h.jsx(IB,{fileUrl:k}),e&&h.jsx("button",{type:"button",onClick:()=>C(T),className:"absolute top-3 right-3 text-neutral-600 hover:text-neutral-800 duration-200 ease-in-out","aria-label":`Remover documento ${T+1}`,title:`Remover documento ${T+1}`,children:h.jsx(yI,{size:24})})]},T)):h.jsx("p",{className:"text-gray-500 mt-3",children:"Nenhum documento associado."})]}),e&&h.jsx("p",{className:"cursor-pointer",children:"Enviar documento"}),e&&h.jsx(Yi,{label:"Salvar Alterações",onClick:S})]})]})},DB=({newPayment:s,setNewPayment:e,handleAddPayment:t,setShowPaymentForm:n,isLoadingPayers:i})=>{const r=(l,u)=>{e(d=>({...d,[l]:u}))},o=s.TipoPagamento==="multa";return h.jsxs("form",{className:"flex flex-col relative gap-5 border-2 border-neutral-500 p-4 rounded mt-6",onSubmit:l=>{l.preventDefault(),t()},children:[h.jsx("h2",{className:"text-xl font-semibold",children:"Adicionar Pagamento"}),h.jsx("button",{className:"absolute top-1 right-2 hover:rotate-180 duration-300 ease-in-out",onClick:l=>{l.preventDefault(),n(!1)},children:h.jsx(Q3,{size:40})}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"paymentValue",children:"Valor:"}),h.jsx(Ys,{id:"paymentValue",name:"paymentValue",placeholder:"R$ 0,00",decimalSeparator:",",groupSeparator:".",prefix:"R$ ",decimalsLimit:2,maxLength:9,value:s.valor||"",onValueChange:l=>r("valor",parseFloat(l||"0")),className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm"})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"paymentDate",children:"Data:"}),h.jsx("input",{id:"paymentDate",type:"date",name:"data",value:s.data||"",onChange:l=>r("data",l.target.value),className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm",required:!0})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"pagante",children:"Pagante:"}),i?h.jsx("p",{children:"Carregando pagantes..."}):h.jsx("input",{type:"text",id:"pagante",name:"pagante",value:s.pagante||"",onChange:l=>r("pagante",l.target.value),className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm",placeholder:"Digite o nome do pagante",required:!0})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"MetodoPagamento",children:"Método de Pagamento:"}),h.jsxs("select",{id:"MetodoPagamento",name:"MetodoPagamento",value:s.MetodoPagamento||"",onChange:l=>r("MetodoPagamento",l.target.value),className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm",required:!0,children:[h.jsx("option",{value:"",disabled:!0,children:"Selecione"}),h.jsx("option",{value:"pix",children:"Pix"}),h.jsx("option",{value:"boleto",children:"Boleto"}),h.jsx("option",{value:"debito",children:"Débito"}),h.jsx("option",{value:"credito",children:"Crédito"})]})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"TipoPagamento",children:"Tipo de Pagamento:"}),h.jsxs("select",{id:"TipoPagamento",name:"TipoPagamento",value:s.TipoPagamento||"",onChange:l=>r("TipoPagamento",l.target.value),className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm",required:!0,children:[h.jsx("option",{value:"",disabled:!0,children:"Selecione"}),h.jsx("option",{value:"aluguel",children:"Aluguel"}),h.jsx("option",{value:"multa",children:"Multa"}),h.jsx("option",{value:"reforma",children:"Reforma"})]})]}),o&&h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"fineValue",children:"Valor da Multa:"}),h.jsx(Ys,{id:"fineValue",name:"fineValue",placeholder:"R$ 0,00",decimalSeparator:",",groupSeparator:".",prefix:"R$ ",decimalsLimit:2,maxLength:9,value:s.valor_multa||"",onValueChange:l=>{const u=parseFloat(l||"0");r("valor_multa",u),r("multa",u>0)},className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm"})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"descricao",children:"Descrição:"}),h.jsx("textarea",{id:"descricao",name:"descricao",value:s.descricao||"",onChange:l=>r("descricao",l.target.value),className:"w-full p-2 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm h-24 resize-none",maxLength:350})]}),h.jsx(Yi,{label:"Adicionar Pagamento",onClick:t})]})};function FB(){const s=Ye(),{id:e}=u0(),[t,n]=N.useState(!0),[i,r]=N.useState(!1),[o,l]=N.useState(!0),[u,d]=N.useState(!1),f=()=>{const Ne=new Date,$e=String(Ne.getDate()).padStart(2,"0"),et=String(Ne.getMonth()+1).padStart(2,"0");return`${Ne.getFullYear()}-${et}-${$e}`},[g,x]=N.useState(null),[y,b]=N.useState(null),[w,S]=N.useState([]),[C,j]=N.useState({data:f()}),[A,k]=N.useState(!1),[T,I]=N.useState(!1),[M,F]=N.useState(!1),[B]=N.useState(!1),[O]=N.useState([]),[W,J]=N.useState([]),[ie,se]=N.useState([]),[$,ee]=N.useState([]),[V,G]=N.useState(null),[X,ne]=N.useState(null),[H,Y]=N.useState(null),[ce,fe]=N.useState(!1),[ye,de]=N.useState(!1),[xe]=nx(sk),ke=async()=>{try{k(!0),I(!0),F(!0);const Ne=await me.get("auth/Locador/PegarTodosLocadores"),$e=await me.get("auth/Locatario/PegarTodosLocatarios"),et=await me.get("property/Imoveis/PegarTodosImoveis");J(Ne.data||[]),se($e.data||[]),ee(et.data||[])}catch{le("Erro ao carregar lessors, locatários e properties.")}finally{k(!1),I(!1),F(!1)}},Me=async()=>{try{const $e=(await me.get(`property/Contratos/PegarContratoPorId/${e}`)).data;let et=[];if(typeof $e.documentos=="string"&&$e.documentos.length>0&&(et=$e.documentos.split(",").map(pe=>decodeURIComponent(pe.replace("https://storage.googleapis.com/administradora-kk.appspot.com/","")))),et.length>0)try{const pe=await me.post("property/Contratos/AssinarPdfs",et);if(!pe.data)throw new Error("Erro ao assinar documentos.");$e.documentos=pe.data}catch(pe){console.error("Erro ao assinar documentos:",pe),le("Erro ao assinar documentos.");return}x($e),Y($e.imovelId),G($e.locadorId),ne($e.locatarioId),n(!1)}catch(Ne){console.error("Erro ao carregar contrato:",Ne),le("Erro ao carregar contrato.")}},Re=async()=>{try{const Ne=await me.get(`payment/payment/ByImovel/${g==null?void 0:g.imovelId}`);console.log("Pagamentos:",Ne.data),S(Ne.data),l(!1)}catch(Ne){console.error(Ne)}};N.useEffect(()=>{xe&&((async()=>{n(!0),l(!0);try{await Me(),await Re(),await ke()}catch($e){console.error("Erro durante a requisição de dados:",$e)}finally{n(!1),l(!1)}})(),de(xe==="Admin"),fe(xe==="Admin"))},[xe,g==null?void 0:g.imovelId]);const ht=()=>xe==="Admin"?h.jsx(DB,{newPayment:C,setNewPayment:j,handleAddPayment:Ct,setShowPaymentForm:d,payers:O,isLoadingPayers:B}):null,Zt=Ne=>{if(g){const{name:$e,value:et}=Ne.target;x({...g,[$e]:et})}},We=(Ne,$e)=>{g&&x({...g,[Ne]:$e})},nt=Ne=>{if(Ne.preventDefault(),!g){le("Contrato não encontrado.");return}if(r(!0),!Object.keys(y||{}).some(pe=>y[pe]!==g[pe])){le("Nenhuma alteração foi feita."),r(!1);return}if(!g.valorAluguel||g.valorAluguel<=0||!g.dataEncerramento||new Date(g.dataEncerramento)<=new Date||!g.tipoGarantia.trim()||!g.iptu||g.iptu<=0||!g.taxaAdm||g.taxaAdm<=0||!g.dataPagamento||!(H!=null&&H.trim())||!(V!=null&&V.trim())||!(X!=null&&X.trim())){le("Preencha todos os campos obrigatórios corretamente."),r(!1);return}const et={...g};et.status==="Rescindido"?(et.dataRescisao=et.dataRescisao||new Date().toISOString().split("T")[0],delete et.dataEncerramentoRenovacao):et.status==="Renovado"?(et.dataEncerramentoRenovacao=et.dataEncerramentoRenovacao||new Date().toISOString().split("T")[0],delete et.dataRescisao):(delete et.dataRescisao,delete et.dataEncerramentoRenovacao),Rs("Contrato atualizado com sucesso!"),b(et),console.log("Salvar contrato:",et),r(!1)},Ct=async()=>{if(C.contratoId||(C.contratoId=e),r(!0),!C.valor||C.valor<=0||!C.data||isNaN(new Date(C.data).getTime())||!C.pagante||C.pagante.trim()===""||!C.MetodoPagamento||C.MetodoPagamento.trim()===""||!C.TipoPagamento||C.TipoPagamento.trim()===""||C.TipoPagamento==="multa"&&(!C.valor_multa||C.valor_multa<=0)){le("Preencha todos os campos obrigatórios do pagamento corretamente."),r(!1);return}try{(await me.post("payment/payment/criar-pagamentos",C)).status===200&&(Rs("Pagamento adicionado com sucesso!"),j({data:f()}),Re())}catch($e){console.error("Erro ao adicionar pagamento:",$e),le("Erro ao adicionar pagamento.")}finally{r(!1)}},ot=Ne=>s(Ne);return h.jsxs("main",{className:"main-custom",children:[h.jsx(Xe,{}),h.jsxs("section",{className:"section-custom",children:[h.jsx(on,{}),t?h.jsx(Ke,{type:"skeleton"}):h.jsx("div",{className:"flex flex-col justify-center items-center",children:h.jsxs("div",{className:"w-full max-w-5xl",children:[h.jsx(MB,{contract:g,isEditable:ye,properties:$,lessors:W,renters:ie,selectedPropertyId:H,selectedLessorId:V,selectedRenterId:X,isLoadingProperty:M,isLoadingLessor:A,isLoadingRenter:T,status:(g==null?void 0:g.status)||"defaultStatus",DataReajuste:(g==null?void 0:g.DataReajuste)||null,onInputChange:Zt,onValueChange:We,setSelectedPropertyId:Y,setSelectedLessorId:G,setSelectedRenterId:ne,handleSave:nt}),h.jsxs("section",{className:"mt-6",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"Pagamentos"}),o?h.jsx(Ke,{type:"spinner"}):w.length===0?h.jsx("p",{className:"text-neutral-500",children:"Nenhum pagamento ainda."}):h.jsx("ul",{className:"list-disc list-inside overflow-y-auto",style:{maxHeight:"300px"},children:w.slice().sort((Ne,$e)=>new Date($e.data).getTime()-new Date(Ne.data).getTime()).map(Ne=>h.jsx("li",{className:"mt-1 cursor-pointer hover:underline duration-300 ease-in-out",onClick:()=>ot(`/pagamento/${Ne.pagamentoId}`),children:h.jsxs("p",{className:"inline",children:[h.jsx("strong",{children:"Valor: R$"})," ",Ne.valor,", ",h.jsx("strong",{children:"Data:"})," ",Ne.data,", ",h.jsx("strong",{children:"Pagante:"})," ",Ne.pagante]})},Ne.pagamentoId))})]}),ce&&!u&&h.jsx("p",{className:"mt-6 underline tracking-wide text-lg cursor-pointer hover:tracking-[.05em] duration-300 ease-in-out",onClick:()=>d(Ne=>!Ne),children:"Deseja adicionar pagamentos?"}),u&&ht()]})})]}),i&&h.jsx(Ke,{type:"spinner"}),h.jsx(ut,{})]})}function GA(){const{imovelid:s}=u0(),{paymentid:e}=u0(),[t,n]=N.useState(!1),[i,r]=N.useState([]),[o,l]=N.useState(!0),[u,d]=N.useState(!1),[f]=nx(sk),g=async()=>{l(!0);try{const y=f==="Admin"?`payment/payment/pagamentos/${e}`:`payment/payment/ByImovel/${s}`,b=await me.get(y);if(!b.data){console.error("Dados de resposta inválidos");return}const w=Array.isArray(b.data)?b.data:[b.data];r(w),console.log("Pagamentos recebidos:",w)}catch(y){console.error(y),le("Não foi possível carregar os pagamentos.")}finally{l(!1)}};N.useEffect(()=>{g(),n(f==="Admin")},[s]);const x=async y=>{d(!0);try{await me.put(`payment/payment/atualizar-pagamento/${y.paymentId}`,y),Rs("Pagamento atualizado com sucesso!"),g()}catch(b){console.error("Erro ao salvar o pagamento:",b),le("Erro ao salvar o pagamento.")}finally{d(!1)}};return h.jsxs("main",{className:"main-custom",children:[h.jsx(Xe,{}),h.jsxs("section",{className:"section-custom",children:[h.jsx(on,{}),o?h.jsx(Ke,{type:"skeleton"}):h.jsxs("div",{className:"flex flex-col justify-center items-center",children:[h.jsxs("h1",{className:"w-full font-bold text-lg",children:["Pagamentos do Imóvel ",s]}),i.length>0?i.map(y=>h.jsxs("form",{className:"w-full max-w-5xl flex flex-col gap-5 mb-8 p-4 border rounded-lg shadow-sm",onSubmit:b=>{b.preventDefault(),x(y)},children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"valor",children:"Valor:"}),h.jsx(Ys,{id:"valor",name:"valor",placeholder:"R$ 0,00",decimalSeparator:",",groupSeparator:".",prefix:"R$ ",decimalsLimit:2,maxLength:9,className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm",value:y.valor||"",onValueChange:b=>r(w=>w.map(S=>S.paymentId===y.paymentId?{...S,valor:parseFloat(b||"0")}:S)),disabled:!t})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"data",children:"Data:"}),h.jsx("input",{id:"data",type:"date",value:y.data?y.data.split("T")[0]:"",onChange:b=>r(w=>w.map(S=>S.paymentId===y.paymentId?{...S,data:b.target.value}:S)),className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm",required:!0,disabled:!t})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"pagante",children:"Pagante:"}),h.jsx("input",{id:"pagante",type:"text",value:y.pagante||"",onChange:b=>r(w=>w.map(S=>S.paymentId===y.paymentId?{...S,pagante:b.target.value}:S)),className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm",required:!0,disabled:!t})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"metodoPagamento",children:"Método de Pagamento:"}),h.jsxs("select",{id:"metodoPagamento",name:"metodoPagamento",value:y.metodoPagamento||"",onChange:b=>r(w=>w.map(S=>S.paymentId===y.paymentId?{...S,metodoPagamento:b.target.value}:S)),className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm",required:!0,disabled:!t,children:[h.jsx("option",{value:"Pix",children:"Pix"}),h.jsx("option",{value:"Boleto",children:"Boleto"}),h.jsx("option",{value:"Débito",children:"Débito"}),h.jsx("option",{value:"Crédito",children:"Crédito"})]})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"tipoPagamento",children:"Tipo de Pagamento:"}),h.jsxs("select",{id:"tipoPagamento",name:"tipoPagamento",value:y.tipoPagamento||"",onChange:b=>r(w=>w.map(S=>S.paymentId===y.paymentId?{...S,tipoPagamento:b.target.value}:S)),className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm",required:!0,disabled:!t,children:[h.jsx("option",{value:"Mensalidade",children:"Mensalidade"}),h.jsx("option",{value:"Multa",children:"Multa"}),h.jsx("option",{value:"Reforma",children:"Reforma"})]})]}),y.tipoPagamento==="Multa"&&h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"valorMulta",children:"Valor da Multa:"}),h.jsx(Ys,{id:"valorMulta",name:"valorMulta",placeholder:"R$ 0,00",decimalSeparator:",",groupSeparator:".",prefix:"R$ ",decimalsLimit:2,maxLength:9,className:"w-full p-2 h-10 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm",value:y.valorMulta||"",onValueChange:b=>r(w=>w.map(S=>S.paymentId===y.paymentId?{...S,valorMulta:parseFloat(b||"0")}:S)),disabled:!t})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"descricao",children:"Descrição:"}),h.jsx("textarea",{id:"descricao",value:y.descricao||"",onChange:b=>r(w=>w.map(S=>S.paymentId===y.paymentId?{...S,descricao:b.target.value}:S)),className:"w-full p-2 border rounded-md focus:outline-none border-gray-300 focus:border-blue-500 tracking-wide text-neutral-700 font-light text-sm h-24 resize-none",maxLength:350,disabled:!t})]}),t&&h.jsx(Yi,{label:"Salvar Alterações",onClick:()=>x(y)})]},y.paymentId)):h.jsx("p",{className:"text-center text-lg text-neutral-500 mt-8 font-bold",children:"Nenhum pagamento encontrado."})]})]}),u&&h.jsx(Ke,{type:"spinner"}),h.jsx(ut,{})]})}const Xt=({children:s,requiredRole:e})=>{const t=localStorage.getItem("jwtToken"),n=localStorage.getItem("userRole");return t?e&&(!n||!e.includes(n))?h.jsx(SC,{to:"/unauthorized",replace:!0}):h.jsx(h.Fragment,{children:s}):h.jsx(SC,{to:"/login",replace:!0})},OB=()=>{const s=Ye(),e=()=>{s("/")};return h.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:h.jsxs("div",{className:"p-6 bg-white shadow-md rounded-md max-w-md w-full",children:[h.jsx("h1",{className:"text-xl font-semibold text-neutral-800 mb-4",children:"Acesso Negado"}),h.jsx("p",{className:"text-sm text-neutral-600 mb-6",children:"Você não tem permissão para acessar esta página. Entre em contato com o administrador ou volte para a página inicial."}),h.jsx("button",{onClick:e,className:"w-full py-2 px-4 bg-black text-white rounded-md hover:bg-gray-800 transition duration-300 focus:outline-none",children:"Voltar para a Página Inicial"})]})})},zB=()=>{const s=GL({minWidth:1024});return h.jsxs(xL,{children:[h.jsxs(uL,{children:[h.jsx(At,{path:"/",element:s?h.jsx(kI,{}):h.jsx(GD,{})}),h.jsx(At,{path:"/login",element:s?h.jsx(SD,{}):h.jsx(XD,{})}),h.jsx(At,{path:"*",element:h.jsx(ND,{})}),h.jsx(At,{path:"/imoveis",element:h.jsx(Xt,{requiredRole:["Admin","Judiciario"],children:s?h.jsx(ID,{}):h.jsx(ZD,{})})}),h.jsx(At,{path:"/pagamentos",element:h.jsx(Xt,{requiredRole:["Admin","Judiciario"],children:h.jsx(X3,{})})}),h.jsx(At,{path:"/imoveis/criar",element:h.jsx(Xt,{requiredRole:["Admin"],children:s?h.jsx(eF,{}):h.jsx(lF,{})})}),h.jsx(At,{path:"/chamados",element:h.jsx(Xt,{requiredRole:["Admin"],children:s?h.jsx(FD,{}):h.jsx(nF,{})})}),h.jsx(At,{path:"/chamados/criar",element:h.jsx(Xt,{requiredRole:["Admin","Locatario"],children:s?h.jsx(aF,{}):h.jsx(uF,{})})}),h.jsx(At,{path:"/chamado/:id",element:h.jsx(Xt,{requiredRole:["Admin","Judiciario"],children:s?h.jsx(TD,{}):h.jsx(sF,{})})}),h.jsx(At,{path:"/usuarios",element:h.jsx(Xt,{requiredRole:["Admin"],children:s?h.jsx(BD,{}):h.jsx(rF,{})})}),h.jsx(At,{path:"/usuarios/criar",element:h.jsx(Xt,{requiredRole:["Admin"],children:s?h.jsx(oF,{}):h.jsx(cF,{})})})," ",h.jsx(At,{path:"/perfil",element:h.jsx(Xt,{children:s?h.jsx(ED,{}):h.jsx(KD,{})})}),h.jsx(At,{path:"/perfil/:id",element:h.jsx(Xt,{requiredRole:["Admin"],children:s?h.jsx(AD,{}):h.jsx(YD,{})})}),h.jsx(At,{path:"/perfil/editar",element:h.jsx(Xt,{children:s?h.jsx(jD,{}):h.jsx(JD,{})})}),h.jsx(At,{path:"/perfil/alterar-senha",element:h.jsx(Xt,{requiredRole:["Admin"],children:s?h.jsx(kD,{}):h.jsx(QD,{})})})," ",h.jsx(At,{path:"/dashboard",element:h.jsx(Xt,{requiredRole:["Admin","Judiciario"],children:h.jsx(V3,{})})}),h.jsx(At,{path:"/home-locador",element:h.jsx(Xt,{requiredRole:["Locador"],children:h.jsx($3,{})})}),h.jsx(At,{path:"/home-locatario",element:h.jsx(Xt,{requiredRole:["Locatario"],children:h.jsx(U3,{})})}),h.jsx(At,{path:"/imovel/:imovelId",element:h.jsx(Xt,{requiredRole:["Admin","Locatario","Locador","Judiciario"],children:h.jsx(q3,{})})}),h.jsx(At,{path:"/pagamento/:imovelid",element:h.jsx(Xt,{requiredRole:["Admin","Locatario","Locador","Judiciario"],children:h.jsx(GA,{})})}),h.jsx(At,{path:"/pagamento-for-admin/:paymentid",element:h.jsx(Xt,{requiredRole:["Admin"],children:h.jsx(GA,{})})}),h.jsx(At,{path:"/contratos/:id",element:h.jsx(Xt,{requiredRole:["Admin","Judiciario"],children:h.jsx(FB,{})})}),h.jsx(At,{path:"/contratos",element:h.jsx(Xt,{requiredRole:["Admin","Judiciario"],children:s?h.jsx(VD,{}):h.jsx(K3,{})})}),h.jsx(At,{path:"/contratos/criar",element:h.jsx(Xt,{requiredRole:["Admin"],children:h.jsx(SF,{})})}),h.jsx(At,{path:"/unauthorized",element:h.jsx(OB,{})})]}),h.jsx(rI,{})]})};_R.createRoot(document.getElementById("root")).render(h.jsx(He.StrictMode,{children:h.jsx(zB,{})}));
